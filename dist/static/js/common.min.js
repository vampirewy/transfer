!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";function g(e){return null!=e&&e===e.window}var t=[],E=C.document,r=Object.getPrototypeOf,s=t.slice,v=t.concat,u=t.push,i=t.indexOf,n={},o=n.toString,y=n.hasOwnProperty,a=y.toString,l=a.call(Object),m={},x=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},c={type:!0,src:!0,noModule:!0};function b(e,t,n){var r,i=(t=t||E).createElement("script");if(i.text=e,n)for(r in c)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var k=function(e,t){return new k.fn.init(e,t)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!x(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:"3.3.1",constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||x(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(o=i?(i=!1,n&&Array.isArray(n)?n:[]):n&&k.isPlainObject(n)?n:{},a[t]=k.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e)||(t=r(e))&&("function"!=typeof(n=y.call(t,"constructor")&&t.constructor)||a.call(n)!==l))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){b(e)},each:function(e,t){var n,r=0;if(p(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(f,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?k.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!=a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return v.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){function f(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}function i(){T()}var e,d,b,o,a,h,p,g,w,u,l,T,C,s,E,v,c,y,m,k="sizzle"+1*new Date,x=n.document,S=0,r=0,D=ae(),N=ae(),A=ae(),j=function(e,t){return e===t&&(l=!0),0},q={}.hasOwnProperty,t=[],L=t.pop,H=t.push,O=t.push,P=t.slice,M=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",W="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",$="\\["+I+"*("+W+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+W+"))|)"+I+"*\\]",B=":("+W+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|.*)\\)|)",F=new RegExp(I+"+","g"),_=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),z=new RegExp("^"+I+"*,"+I+"*"),X=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),U=new RegExp("="+I+"*([^\\]'\"]*?)"+I+"*\\]","g"),V=new RegExp(B),G=new RegExp("^"+W+"$"),Y={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),TAG:new RegExp("^("+W+"|[*])"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{O.apply(t=P.call(x.childNodes),x.childNodes),t[x.childNodes.length].nodeType}catch(n){O={apply:t.length?function(e,t){H.apply(e,P.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,n,r){var i,o,a,s,u,l,c,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:x)!==C&&T(t),t=t||C,E)){if(11!==p&&(u=Z.exec(e)))if(i=u[1]){if(9===p){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&m(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return O.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&d.getElementsByClassName&&t.getElementsByClassName)return O.apply(n,t.getElementsByClassName(i)),n}if(d.qsa&&!A[e+" "]&&(!v||!v.test(e))){if(1!==p)f=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ne,re):t.setAttribute("id",s=k),o=(l=h(e)).length;o--;)l[o]="#"+s+" "+ye(l[o]);c=l.join(","),f=ee.test(e)&&ge(t.parentNode)||t}if(c)try{return O.apply(n,f.querySelectorAll(c)),n}catch(e){}finally{s===k&&t.removeAttribute("id")}}}return g(e.replace(_,"$1"),t,n,r)}function ae(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function se(e){return e[k]=!0,e}function ue(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pe(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function de(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ie(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function he(a){return se(function(o){return o=+o,se(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in d=oe.support={},a=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=oe.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:x;return r!==C&&9===r.nodeType&&r.documentElement&&(s=(C=r).documentElement,E=!a(C),x!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",i,!1):n.attachEvent&&n.attachEvent("onunload",i)),d.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ue(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ue(function(e){return s.appendChild(e).id=k,!C.getElementsByName||!C.getElementsByName(k).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,f);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,f);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},b.find.CLASS=d.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&E)return t.getElementsByClassName(e)},c=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ue(function(e){s.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+k+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||v.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+I+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),s.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(y=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&ue(function(e){d.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),c.push("!=",B)}),v=v.length&&new RegExp(v.join("|")),c=c.length&&new RegExp(c.join("|")),t=K.test(s.compareDocumentPosition),m=t||K.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===x&&m(x,e)?-1:t===C||t.ownerDocument===x&&m(x,t)?1:u?M(u,e)-M(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===C?-1:t===C?1:i?-1:o?1:u?M(u,e)-M(u,t):0;if(i===o)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ce(a[r],s[r]):a[r]===x?-1:s[r]===x?1:0}),C},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&T(e),t=t.replace(U,"='$1']"),d.matchesSelector&&E&&!A[t+" "]&&(!c||!c.test(t))&&(!v||!v.test(t)))try{var n=y.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<oe(t,C,null,[e]).length},oe.contains=function(e,t){return(e.ownerDocument||e)!==C&&T(e),m(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&q.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},oe.escape=function(e){return(e+"").replace(ne,re)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},o=oe.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(b=oe.selectors={cacheLength:50,createPseudo:se,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,f),e[3]=(e[3]||e[4]||e[5]||"").replace(te,f),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,f).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=D[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&D(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=oe.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(F," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!=m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){for(;l;){for(a=e;a=a[l];)if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){for(d=(s=(r=(i=(o=(a=c)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1])&&r[2],a=s&&c.childNodes[s];a=++s&&a&&a[l]||(d=s=0)||u.pop();)if(1===a.nodeType&&++d&&a===e){i[h]=[S,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1]),!1===d)for(;(a=++s&&a&&a[l]||(d=s=0)||u.pop())&&((x?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++d||(p&&((i=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[S,d]),a!==e)););return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=M(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:se(function(e){var r=[],i=[],s=p(e.replace(_,"$1"));return s[k]?se(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:se(function(t){return function(e){return 0<oe(t,e).length}}),contains:se(function(t){return t=t.replace(te,f),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:se(function(n){return G.test(n||"")||oe.error("unsupported lang: "+n),n=n.replace(te,f).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=fe(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=pe(e);function ve(){}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[S,p];if(n){for(;e=e[u];)if((1===e.nodeType||f)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||f)if(i=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===S&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function xe(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function be(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function we(d,h,g,v,y,e){return v&&!v[k]&&(v=we(v)),y&&!y[k]&&(y=we(y,e)),se(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:be(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v)for(i=be(p,u),v(i,[],n,r),o=i.length;o--;)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a));if(e){if(y||d){if(y){for(i=[],o=p.length;o--;)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&&-1<(i=y?M(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=be(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):O.apply(t,p)})}function Te(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=me(function(e){return e===i},a,!0),l=me(function(e){return-1<M(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[me(xe(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r&&!b.relative[e[n].type];n++);return we(1<s&&xe(c),1<s&&ye(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(_,"$1"),t,s<n&&Te(e.slice(s,n)),n<r&&Te(e=e.slice(n)),n<r&&ye(e))}c.push(t)}return xe(c)}function Ce(v,y){function e(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=S+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t===C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){for(a=0,t||o.ownerDocument===C||(T(o),n=!E);s=v[a++];)if(s(o,t||C,n)){r.push(o);break}i&&(S=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){for(a=0;s=y[a++];)s(c,f,t,n);if(e){if(0<u)for(;l--;)c[l]||f[l]||(f[l]=L.call(r));f=be(f)}O.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&oe.uniqueSort(r)}return i&&(S=h,w=p),c}var m=0<y.length,x=0<v.length;return m?se(e):e}return ve.prototype=b.filters=b.pseudos,b.setFilters=new ve,h=oe.tokenize=function(e,t){var n,r,i,o,a,s,u,l=N[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],u=b.preFilter;a;){for(o in n&&!(r=z.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=X.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(_," ")}),a=a.slice(n.length)),b.filter)!(r=Y[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):N(e,s).slice(0)},p=oe.compile=function(e,t){var n,r=[],i=[],o=A[e+" "];if(!o){for(n=(t=t||h(e)).length;n--;)(o=Te(t[n]))[k]?r.push(o):i.push(o);(o=A(e,Ce(i,r))).selector=e}return o},g=oe.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,f),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=Y.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((u=b.find[s])&&(r=u(a.matches[0].replace(te,f),ee.test(o[0].type)&&ge(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&ye(o)))return O.apply(n,r),n;break}}return(l||p(e,c))(r,t,!E,n,!t||ee.test(e)&&ge(t.parentNode)||t),n},d.sortStable=k.split("").sort(j).join("")===k,d.detectDuplicates=!!l,T(),d.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(C);k.find=d,k.expr=d.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=d.uniqueSort,k.text=d.getText,k.isXMLDoc=d.isXML,k.contains=d.contains,k.escapeSelector=d.escape;function h(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r}function T(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var S=k.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,n,r){return x(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<i.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&S.test(e)?k(e):e||[],!1).length}});var j,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||j,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):x(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&k.isPlainObject(t))for(r in t)x(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}).prototype=k.fn,j=k(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&k(e);if(!S.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(k(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return D(e,"iframe")?e.contentDocument:(D(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,i){k.fn[r]=function(e,t){var n=k.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(H[r]||k.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function M(e){return e}function R(e){throw e}function I(e,t,n,r){var i;try{e&&x(i=e.promise)?i.call(e).done(t).fail(n):e&&x(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},k.each(e.match(P)||[],function(e,t){n[t]=!0}),n):k.extend({},r);function i(){for(s=s||r.once,a=o=!0;l.length;c=-1)for(t=l.shift();++c<u.length;)!1===u[c].apply(t[0],t[1])&&r.stopOnFalse&&(c=u.length,t=!1);r.memory||(t=!1),o=!1,s&&(u=t?[]:"")}var o,t,a,s,u=[],l=[],c=-1,f={add:function(){return u&&(t&&!o&&(c=u.length-1,l.push(t)),function n(e){k.each(e,function(e,t){x(t)?r.unique&&f.has(t)||u.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!o&&i()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,u,n));)u.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<k.inArray(e,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return s=l=[],u=t="",this},disabled:function(){return!u},lock:function(){return s=l=[],t||o||(u=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),o||i()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!a}};return f},k.extend({Deferred:function(e){var o=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return k.Deferred(function(r){k.each(o,function(e,t){var n=x(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&x(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){function e(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,x(t)?s?t.call(e,l(u,o,M,s),l(u,o,R,s)):(u++,t.call(e,l(u,o,M,s),l(u,o,R,s),l(u,o,M,o.notifyWith))):(a!==M&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}}var n=this,r=arguments,t=s?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==R&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),C.setTimeout(t))}}return k.Deferred(function(e){o[0][3].add(l(0,e,x(r)?r:M,e.notifyWith)),o[1][3].add(l(0,e,x(t)?t:M)),o[2][3].add(l(0,e,x(n)?n:R))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){i[t]=this,o[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(i,o)}}var n=arguments.length,r=n,i=Array(r),o=s.call(arguments),a=k.Deferred();if(n<=1&&(I(e,a.done(t(r)).resolve,a.reject,!n),"pending"===a.state()||x(o[r]&&o[r].then)))return a.then();for(;r--;)I(o[r],t(r),a.reject);return a.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){C.setTimeout(function(){throw e})};var $=k.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),k.ready()}k.fn.ready=function(e){return $.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||((k.isReady=!0)!==e&&0<--k.readyWait||$.resolveWith(E,[k]))}}),k.ready.then=$.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(k.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var F=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)F(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,x(r)||(a=!0),l&&(t=a?(t.call(e,r),null):(l=t,function(e,t,n){return l.call(k(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function U(e){return e.replace(_,"ms-").replace(z,X)}function V(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function G(){this.expando=k.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[U(t)]=n;else for(r in t)i[U(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][U(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(U):(t=U(t))in r?[t]:t.match(P)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!k.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Q.set(this,n)}):F(this,function(e){var t;if(o&&void 0===e){if(void 0!==(t=Q.get(o,n)))return t;if(void 0!==(t=Z(o,n)))return t}else this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=U(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){k.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:k.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--i||o.resolveWith(a,[a])}var r,i=1,o=k.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(r=Y.get(a[s],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),o.promise(t)}});function ee(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i}var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&k.contains(e.ownerDocument,e)&&"none"===k.css(e,"display")};function oe(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},u=s(),l=n&&n[3]||(k.cssNumber[t]?"":"px"),c=(k.cssNumber[t]||"px"!==l&&+u)&&ne.exec(k.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)k.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,k.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ae={};function se(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Y.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ie(r)&&(i[o]=(f=l=u=void 0,l=(s=r).ownerDocument,c=s.nodeName,(f=ae[c])||(u=l.body.appendChild(l.createElement(c)),f=k.css(u,"display"),u.parentNode.removeChild(u),"none"===f&&(f="block"),ae[c]=f)))):"none"!==n&&(i[o]="none",Y.set(r,"display",n)));var s,u,l,c,f;for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}k.fn.extend({show:function(){return se(this,!0)},hide:function(){return se(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?k(this).show():k(this).hide()})}});var ue=/^(?:checkbox|radio)$/i,le=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ce=/^$|^module$|\/(?:java|ecma)script/i,fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pe(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?k.merge([e],n):n}function de(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}fe.optgroup=fe.option,fe.tbody=fe.tfoot=fe.colgroup=fe.caption=fe.thead,fe.th=fe.td;var he,ge,ve=/<|&#?\w+;/;function ye(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))k.merge(p,o.nodeType?[o]:o);else if(ve.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(le.exec(o)||["",""])[1].toLowerCase(),u=fe[s]||fe._default,a.innerHTML=u[1]+k.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;k.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&-1<k.inArray(o,r))i&&i.push(o);else if(l=k.contains(o.ownerDocument,o),a=pe(f.appendChild(o),"script"),l&&de(a),n)for(c=0;o=a[c++];)ce.test(o.type||"")&&n.push(o);return f}he=E.createDocumentFragment().appendChild(E.createElement("div")),(ge=E.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),he.appendChild(ge),m.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue;var me=E.documentElement,xe=/^key/,be=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,we=/^([^.]*)(?:\.(.+)|)/;function Te(){return!0}function Ce(){return!1}function Ee(){try{return E.activeElement}catch(e){}}function ke(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)ke(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ce;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}k.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(me,i),n.guid||(n.guid=k.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;l--;)d=g=(s=we.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=k.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=k.event.special[d]||{},c=k.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),k.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(P)||[""]).length;l--;)if(d=g=(s=we.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=k.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||k.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)k.event.remove(e,d+t[l],n,r,!0);k.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=k.event.fix(e),u=new Array(arguments.length),l=(Y.get(this,"events")||{})[s.type]||[],c=k.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=k.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<k(i,this).index(l):k.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:x(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ee()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&D(this,"input"))return this.click(),!1},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&be.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){k.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),k.fn.extend({on:function(e,t,n,r){return ke(this,e,t,n,r)},one:function(e,t,n,r){return ke(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ce),this.each(function(){k.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,De=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function qe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Y.hasData(e)&&(o=Y.access(e),a=Y.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)k.event.add(t,i,l[i][n]);Q.hasData(e)&&(s=Q.access(e),u=k.extend({},s),Q.set(t,u))}}function Oe(n,r,i,o){r=v.apply([],r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=x(d);if(h||1<f&&"string"==typeof d&&!m.checkClone&&Ne.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Oe(t,r,i,o)});if(f&&(t=(e=ye(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=k.map(pe(e,"script"),qe)).length;c<f;c++)u=e,c!==p&&(u=k.clone(u,!0,!0),s&&k.merge(a,pe(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,k.map(a,Le),c=0;c<s;c++)u=a[c],ce.test(u.type||"")&&!Y.access(u,"globalEval")&&k.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&k._evalUrl(u.src):b(u.textContent.replace(Ae,""),l,u))}return n}function Pe(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(pe(r)),r.parentNode&&(n&&k.contains(r.ownerDocument,r)&&de(pe(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e.replace(Se,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=k.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=pe(c),r=0,i=(o=pe(e)).length;r<i;r++)s=o[r],u=a[r],"input"===(l=u.nodeName.toLowerCase())&&ue.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||pe(e),a=a||pe(c),r=0,i=o.length;r<i;r++)He(o[r],a[r]);else He(e,c);return 0<(a=pe(c,"script")).length&&de(a,!f&&pe(e,"script")),c},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return F(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Oe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return Oe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Oe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Oe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return F(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!fe[(le.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Oe(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(pe(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),k(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Me,Re,Ie,We,$e,Be,Fe,_e=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Xe=new RegExp(re.join("|"),"i");function Ue(){if(Fe){Be.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Fe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(Be).appendChild(Fe);var e=C.getComputedStyle(Fe);Me="1%"!==e.top,$e=12===Ve(e.marginLeft),Fe.style.right="60%",We=36===Ve(e.right),Re=36===Ve(e.width),Fe.style.position="absolute",Ie=36===Fe.offsetWidth||"absolute",me.removeChild(Be),Fe=null}}function Ve(e){return Math.round(parseFloat(e))}function Ge(e,t,n){var r,i,o,a,s=e.style;return(n=n||ze(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||k.contains(e.ownerDocument,e)||(a=k.style(e,t)),!m.pixelBoxStyles()&&_e.test(a)&&Xe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Be=E.createElement("div"),(Fe=E.createElement("div")).style&&(Fe.style.backgroundClip="content-box",Fe.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===Fe.style.backgroundClip,k.extend(m,{boxSizingReliable:function(){return Ue(),Re},pixelBoxStyles:function(){return Ue(),We},pixelPosition:function(){return Ue(),Me},reliableMarginLeft:function(){return Ue(),$e},scrollboxSize:function(){return Ue(),Ie}}));var Qe=/^(none|table(?!-c[ea]).+)/,Je=/^--/,Ke={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"},et=["Webkit","Moz","ms"],tt=E.createElement("div").style;function nt(e){var t=k.cssProps[e];return t=t||(k.cssProps[e]=function(e){if(e in tt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}(e)||e)}function rt(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=k.css(e,n+re[a],!0,i)),r?("content"===n&&(u-=k.css(e,"padding"+re[a],!0,i)),"margin"!==n&&(u-=k.css(e,"border"+re[a]+"Width",!0,i))):(u+=k.css(e,"padding"+re[a],!0,i),"padding"!==n?u+=k.css(e,"border"+re[a]+"Width",!0,i):s+=k.css(e,"border"+re[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function ot(e,t,n){var r=ze(e),i=Ge(e,t,r),o="border-box"===k.css(e,"boxSizing",!1,r),a=o;if(_e.test(i)){if(!n)return i;i="auto"}return a=a&&(m.boxSizingReliable()||i===e.style[t]),"auto"!==i&&(parseFloat(i)||"inline"!==k.css(e,"display",!1,r))||(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+it(e,t,n||(o?"border":"content"),a,r,i)+"px"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=U(t),u=Je.test(t),l=e.style;if(u||(t=nt(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=oe(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=U(t);return Je.test(t)||(t=nt(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ge(e,t,r)),"normal"===i&&t in Ze&&(i=Ze[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],function(e,s){k.cssHooks[s]={get:function(e,t,n){if(t)return!Qe.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,s,n):ee(e,Ke,function(){return ot(e,s,n)})},set:function(e,t,n){var r,i=ze(e),o="border-box"===k.css(e,"boxSizing",!1,i),a=n&&it(e,s,n,o,i);return o&&m.scrollboxSize()===i.position&&(a-=Math.ceil(e["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(i[s])-it(e,s,"border",!1,i)-.5)),a&&(r=ne.exec(t))&&"px"!==(r[3]||"px")&&(e.style[s]=t,t=k.css(e,s)),rt(0,t,a)}}}),k.cssHooks.marginLeft=Ye(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-ee(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(i,o){k.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+re[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(k.cssHooks[i+o].set=rt)}),k.fn.extend({css:function(e,t){return F(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=ze(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),((k.Tween=at).prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}}).init.prototype=at.prototype,(at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[k.cssProps[e.prop]]&&!k.cssHooks[e.prop]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=at.prototype.init,k.fx.step={};var st,ut,lt,ct,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function dt(){ut&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(dt):C.setTimeout(dt,k.fx.interval),k.fx.tick())}function ht(){return C.setTimeout(function(){st=void 0}),st=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(o,e,t){var n,a,r=0,i=yt.prefilters.length,s=k.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=st||ht(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:st||ht(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=U(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=yt.prefilters[r].call(l,o,c,l.opts))return x(n.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return k.map(c,vt,l),x(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return oe(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=x(e)?(t=e,["*"]):e.match(P)).length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ie(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||k.style(e,r)}if((u=!k.isEmptyObject(t))||!k.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=k.css(e,"display"))&&(l?c=l:(se([e],!0),l=e.style.display||l,c=k.css(e,"display"),se([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===k.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&se([e],!0),p.done(function(){for(r in g||se([e]),Y.remove(e,"fxshow"),d)k.style(e,r,d[r])})),u=vt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||x(e)&&e,duration:e,easing:n&&t||t&&!x(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){x(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){function i(){var e=yt(this,k.extend({},t),a);(o||Y.get(this,"finish"))&&e.stop(!0)}var o=k.isEmptyObject(t),a=k.speed(e,n,r);return i.finish=i,o||!1===a.queue?this.each(i):this.queue(a.queue,i)},stop:function(i,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=k.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||k.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=k.timers,o=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var i=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(gt(r,!0),e,t,n)}}),k.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),st=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ut||(ut=!0,dt())},k.fx.stop=function(){ut=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},lt=E.createElement("input"),ct=E.createElement("select").appendChild(E.createElement("option")),lt.type="checkbox",m.checkOn=""!==lt.value,m.optSelected=ct.selected,(lt=E.createElement("input")).value="t",lt.type="radio",m.radioValue="t"===lt.value;var mt,xt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return F(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=xt[t]||k.find.attr;xt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=xt[o],xt[o]=r,r=null!=a(e,t,n)?o:null,xt[o]=i),r}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Tt(e){return(e.match(P)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}k.fn.extend({prop:function(e,t){return F(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(x(t))return this.each(function(e){k(this).addClass(t.call(this,e,Ct(this)))});if((e=Et(t)).length)for(;n=this[u++];)if(i=Ct(n),r=1===n.nodeType&&" "+Tt(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=Tt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(x(t))return this.each(function(e){k(this).removeClass(t.call(this,e,Ct(this)))});if(!arguments.length)return this.attr("class","");if((e=Et(t)).length)for(;n=this[u++];)if(i=Ct(n),r=1===n.nodeType&&" "+Tt(i)+" "){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=Tt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"==o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):x(i)?this.each(function(e){k(this).toggleClass(i.call(this,e,Ct(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=k(this),r=Et(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!=o||((e=Ct(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+Tt(Ct(n))+" ").indexOf(t))return!0;return!1}});var kt=/\r/g;k.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=x(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(kt,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:Tt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<k.inArray(k.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},m.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in C;function St(e){e.stopPropagation()}var Dt=/^(?:focusinfocus|focusoutblur)$/;k.extend(k.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+k.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[k.expando]?e:new k.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!g(n)){for(s=c.delegateType||d,Dt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}for(i=0;(o=p[i++])&&!e.isPropagationStopped();)f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||{})[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&x(n[d])&&!g(n)&&((a=n[u])&&(n[u]=null),k.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,St),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,St),k.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),m.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){function i(e){k.event.simulate(r,e.target,k.event.fix(e))}k.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Nt=C.location,At=Date.now(),jt=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var qt=/\[\]$/,Lt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Pt(n,e,r,i){var t;if(Array.isArray(e))k.each(e,function(e,t){r||qt.test(n)?i(n,t):Pt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)Pt(n+"["+t+"]",e[t],r,i)}k.param=function(e,t){function n(e,t){var n=x(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)}var r,i=[];if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){n(this.name,this.value)});else for(r in e)Pt(r,e[r],t,n);return i.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Mt=/%20/g,Rt=/#.*$/,It=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,$t=/^(?:GET|HEAD)$/,Bt=/^\/\//,Ft={},_t={},zt="*/".concat("*"),Xt=E.createElement("a");function Ut(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(x(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Vt(t,i,o,a){var s={},u=t===_t;function l(e){var r;return s[e]=!0,k.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Gt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&k.extend(!0,e,r),e}Xt.href=Nt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Nt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,k.ajaxSettings),t):Gt(k.ajaxSettings,e)},ajaxPrefilter:Ut(Ft),ajaxTransport:Ut(_t),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=k.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?k(y):k.event,x=k.Deferred(),b=k.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=Wt.exec(p);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Nt.href)+"").replace(Bt,Nt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Xt.protocol+"//"+Xt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=k.param(v.data,v.traditional)),Vt(Ft,v,t,T),h)return T;for(i in(g=k.event&&v.global)&&0==k.active++&&k.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!$t.test(v.type),f=v.url.replace(Rt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Mt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(jt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(It,"$1"),o=(jt.test(f)?"&":"?")+"_="+At+++o),v.url=f+o),v.ifModified&&(k.lastModified[f]&&T.setRequestHeader("If-Modified-Since",k.lastModified[f]),k.etag[f]&&T.setRequestHeader("If-None-Match",k.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+zt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Vt(_t,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a=a||i}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(k.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(k.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--k.active||k.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,i){k[i]=function(e,t,n,r){return x(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:i,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(x(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return x(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=x(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Qt=k.ajaxSettings.xhr();m.cors=!!Qt&&"withCredentials"in Qt,m.ajax=Qt=!!Qt,k.ajaxTransport(function(i){var o,a;if(m.cors||Qt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Yt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,i;if(n.crossDomain)return{send:function(e,t){r=k("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Jt,Kt=[],Zt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||k.expando+"_"+At++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=x(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,"$1"+r):!1!==e.jsonp&&(e.url+=(jt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?k(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(r)),o&&x(i)&&i(o[0]),o=i=void 0}),"script"}),m.createHTMLDocument=((Jt=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Jt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=ye([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=Tt(e.slice(s)),e=e.slice(0,s)),x(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=k.css(e,"position"),c=k(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=k.css(e,"top"),u=k.css(e,"left"),i=("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,r.left):(a=parseFloat(o)||0,parseFloat(u)||0),x(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||me})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;k.fn[t]=function(e){return F(this,function(e,t,n){var r;if(g(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=Ye(m.pixelPosition,function(e,t){if(t)return t=Ge(e,n),_e.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(a,s){k.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){k.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return F(this,function(e,t,n){var r;return g(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(e,t,i):k.style(e,t,n,i)},s,n?e:void 0,n)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),x(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=D,k.isFunction=x,k.isWindow=g,k.camelCase=U,k.type=w,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var en=C.jQuery,tn=C.$;return k.noConflict=function(e){return C.$===k&&(C.$=tn),e&&C.jQuery===k&&(C.jQuery=en),k},e||(C.jQuery=C.$=k),k});
!function(i){function o(e,t){var n,i,r;if("string"==typeof e)return u(e);for(n=[],i=e.length,r=0;r<i;r++)n.push(u(e[r]));return t.apply(null,n)}function r(e,t,n){2===arguments.length&&(n=t,t=null),o(t||[],function(){a(e,n,arguments)})}function e(e){return i.__dollar=e,function(e){var t,n,i,r,o,a;for(t in a=function(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)},s)if(n=e,s.hasOwnProperty(t)){for(o=a((i=t.split("/")).pop());r=a(i.shift());)n[r]=n[r]||{},n=n[r];n[o]=s[t]}return e}((l=i,n=o,(t=r)("dollar-third",[],function(){var e=l.__dollar||l.jQuery||l.Zepto;if(!e)throw new Error("jQuery or Zepto not found!");return e}),t("dollar",["dollar-third"],function(e){return e}),t("promise-third",["dollar"],function(e){return{Deferred:e.Deferred,when:e.when,isPromise:function(e){return e&&"function"==typeof e.then}}}),t("promise",["promise-third"],function(e){return e}),t("base",["dollar","promise"],function(r,e){function t(e,t){return function(){return e.apply(t,arguments)}}var n=function(){},i=Function.call;return{version:"0.1.5",$:r,Deferred:e.Deferred,isPromise:e.isPromise,when:e.when,browser:function(e){var t={},n=e.match(/WebKit\/([\d.]+)/),i=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),r=e.match(/MSIE\s([\d\.]+)/)||e.match(/(?:trident)(?:.*rv:([\w.]+))?/i),o=e.match(/Firefox\/([\d.]+)/),a=e.match(/Safari\/([\d.]+)/),s=e.match(/OPR\/([\d.]+)/);return n&&(t.webkit=parseFloat(n[1])),i&&(t.chrome=parseFloat(i[1])),r&&(t.ie=parseFloat(r[1])),o&&(t.firefox=parseFloat(o[1])),a&&(t.safari=parseFloat(a[1])),s&&(t.opera=parseFloat(s[1])),t}(navigator.userAgent),os:function(e){var t={},n=e.match(/(?:Android);?[\s\/]+([\d.]+)?/),i=e.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return n&&(t.android=parseFloat(n[1])),i&&(t.ios=parseFloat(i[1].replace(/_/g,"."))),t}(navigator.userAgent),inherits:function(e,t,n){var i;return"function"==typeof t?(i=t,t=null):i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},r.extend(!0,i,e,n||{}),i.__super__=e.prototype,i.prototype=function(e){var t;return Object.create?Object.create(e):((t=function(){}).prototype=e,new t)}(e.prototype),t&&r.extend(!0,i.prototype,t),i},noop:n,bindFn:t,log:l.console?t(console.log,console):n,nextTick:function(e){setTimeout(e,1)},slice:function(e){return function(){return i.apply(e,arguments)}}([].slice),guid:function(){var i=0;return function(e){for(var t=(+new Date).toString(32),n=0;n<5;n++)t+=Math.floor(65535*Math.random()).toString(32);return(e||"wu_")+t+(i++).toString(32)}}(),formatSize:function(e,t,n){var i;for(n=n||["B","K","M","G","TB"];(i=n.shift())&&1024<e;)e/=1024;return("B"===i?e:e.toFixed(t||2))+i}}}),t("mediator",["base"],function(e){function r(e,t,n,i){return s.grep(e,function(e){return!(!e||t&&e.e!==t||n&&e.cb!==n&&e.cb._cb!==n||i&&e.ctx!==i)})}function a(e,n,i){s.each((e||"").split(c),function(e,t){i(t,n)})}function o(e,t){for(var n,i=!1,r=-1,o=e.length;++r<o;)if(!1===(n=e[r]).cb.apply(n.ctx2,t)){i=!0;break}return!i}var t,s=e.$,u=[].slice,c=/\s+/;return t={on:function(e,t,i){var r,o=this;return t&&(r=this._events||(this._events=[]),a(e,t,function(e,t){var n={e:e};n.cb=t,n.ctx=i,n.ctx2=i||o,n.id=r.length,r.push(n)})),this},once:function(e,t,i){var r=this;return t&&a(e,t,function(e,t){var n=function(){return r.off(e,n),t.apply(i||r,arguments)};n._cb=t,r.on(e,n,i)}),r},off:function(e,t,n){var i=this._events;return i&&(e||t||n?a(e,t,function(e,t){s.each(r(i,e,t,n),function(){delete i[this.id]})}):this._events=[]),this},trigger:function(e){var t,n,i;return this._events&&e?(t=u.call(arguments,1),n=r(this._events,e),i=r(this._events,"all"),o(n,t)&&o(i,arguments)):this}},s.extend({installTo:function(e){return s.extend(e,t)}},t)}),t("uploader",["base","mediator"],function(e,r){function n(e){this.options=o.extend(!0,{},n.options,e),this._init(this.options)}var o=e.$;return n.options={},r.installTo(n.prototype),o.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(e,t){n.prototype[e]=function(){return this.request(t,arguments)}}),o.extend(n.prototype,{state:"pending",_init:function(e){var t=this;t.request("init",e,function(){t.state="ready",t.trigger("ready")})},option:function(e,t){var n=this.options;return 1<arguments.length?void(o.isPlainObject(t)&&o.isPlainObject(n[e])?o.extend(n[e],t):n[e]=t):e?n[e]:n},getStats:function(){var e=this.request("get-stats");return e?{successNum:e.numOfSuccess,progressNum:e.numOfProgress,cancelNum:e.numOfCancel,invalidNum:e.numOfInvalid,uploadFailNum:e.numOfUploadFailed,queueNum:e.numOfQueue,interruptNum:e.numofInterrupt}:{}},trigger:function(e){var t=[].slice.call(arguments,1),n=this.options,i="on"+e.substring(0,1).toUpperCase()+e.substring(1);return!(!1===r.trigger.apply(this,arguments)||o.isFunction(n[i])&&!1===n[i].apply(this,t)||o.isFunction(this[i])&&!1===this[i].apply(this,t)||!1===r.trigger.apply(r,[this,e].concat(t)))},destroy:function(){this.request("destroy",arguments),this.off()},request:e.noop}),e.create=n.create=function(e){return new n(e)},e.Uploader=n}),t("runtime/runtime",["base","mediator"],function(t,e){function i(e){this.options=r.extend({container:document.body},e),this.uid=t.guid("rt_")}var r=t.$,o={},a=function(e){for(var t in e)if(e.hasOwnProperty(t))return t;return null};return r.extend(i.prototype,{getContainer:function(){var e,t,n=this.options;return this._container?this._container:(e=r(n.container||document.body),(t=r(document.createElement("div"))).attr("id","rt_"+this.uid),t.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.append(t),e.addClass("webuploader-container"),this._container=t,this._parent=e,t)},init:t.noop,exec:t.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),i.orders="html5,flash",i.addRuntime=function(e,t){o[e]=t},i.hasRuntime=function(e){return!!(e?o[e]:a(o))},i.create=function(e,t){var n;if(t=t||i.orders,r.each(t.split(/\s*,\s*/g),function(){return o[this]?(n=this,!1):void 0}),!(n=n||a(o)))throw new Error("Runtime Error");return new o[n](e)},e.installTo(i.prototype),i}),t("runtime/client",["base","mediator","runtime/runtime"],function(o,e,a){function t(t,n){var i,r=o.Deferred();this.uid=o.guid("client_"),this.runtimeReady=function(e){return r.done(e)},this.connectRuntime=function(e,t){if(i)throw new Error("already connected!");return r.done(t),"string"==typeof e&&s.get(e)&&(i=s.get(e)),(i=i||s.get(null,n))?(o.$.extend(i.options,e),i.__promise.then(r.resolve),i.__client++):((i=a.create(e,e.runtimeOrder)).__promise=r.promise(),i.once("ready",r.resolve),i.init(),s.add(i),i.__client=1),n&&(i.__standalone=n),i},this.getRuntime=function(){return i},this.disconnectRuntime=function(){i&&(i.__client--,i.__client<=0&&(s.remove(i),delete i.__promise,i.destroy()),i=null)},this.exec=function(){if(i){var e=o.slice(arguments);return t&&e.unshift(t),i.exec.apply(this,e)}},this.getRuid=function(){return i&&i.uid},this.destroy=function(e){return function(){e&&e.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var s;return s=function(){var i={};return{add:function(e){i[e.uid]=e},get:function(e,t){var n;if(e)return i[e];for(n in i)if(!t||!i[n].__standalone)return i[n];return null},remove:function(e){delete i[e.uid]}}}(),e.installTo(t.prototype),t}),t("lib/dnd",["base","mediator","runtime/client"],function(e,t,n){function i(e){(e=this.options=r.extend({},i.options,e)).container=r(e.container),e.container.length&&n.call(this,"DragAndDrop")}var r=e.$;return i.options={accept:null,disableGlobalDnd:!1},e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),t("widgets/widget",["base","uploader"],function(h,e){function r(e){this.owner=e,this.options=e.options}var d=h.$,t=e.prototype._init,n=e.prototype.destroy,p={},o=[];return d.extend(r.prototype,{init:h.noop,invoke:function(e,t){var n=this.responseMap;return n&&e in n&&n[e]in this&&d.isFunction(this[n[e]])?this[n[e]].apply(this,t):p},request:function(){return this.owner.request.apply(this.owner,arguments)}}),d.extend(e.prototype,{_init:function(){var n=this,i=n._widgets=[],r=n.options.disableWidgets||"";return d.each(o,function(e,t){r&&~r.indexOf(t._name)||i.push(new t(n))}),t.apply(n,arguments)},request:function(e,t,n){var i,r,o,a,s=0,u=this._widgets,c=u&&u.length,l=[],f=[];for(t=function(e){if(!e)return!1;var t=e.length,n=d.type(e);return!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&"string"!==n&&(0===t||"number"==typeof t&&0<t&&t-1 in e))}(t)?t:[t];s<c;s++)i=u[s],(r=i.invoke(e,t))!==p&&(h.isPromise(r)?f.push(r):l.push(r));return n||f.length?(o=h.when.apply(h,f),a=o.pipe?"pipe":"then",o[a](function(){var e=h.Deferred(),t=arguments;return 1===t.length&&(t=t[0]),setTimeout(function(){e.resolve(t)},1),e.promise()})[n?a:"done"](n||h.noop)):l[0]},destroy:function(){n.apply(this,arguments),this._widgets=null}}),e.register=r.register=function(e,t){var n,i={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(t=e,d.each(t,function(e){return"_"===e[0]||"name"===e?void("name"===e&&(i.name=t.name)):void(i[e.replace(/[A-Z]/g,"-$&").toLowerCase()]=e)})):i=d.extend(i,e),t.responseMap=i,(n=h.inherits(r,t))._name=i.name,o.push(n),n},e.unRegister=r.unRegister=function(e){if(e&&"anonymous"!==e)for(var t=o.length;t--;)o[t]._name===e&&o.splice(t,1)},r}),t("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(o,e,a){var s=o.$;return e.options.dnd="",e.register({name:"dnd",init:function(e){if(e.dnd&&"html5"===this.request("predict-runtime-type")){var t,n=this,i=o.Deferred(),r=s.extend({},{disableGlobalDnd:e.disableGlobalDnd,container:e.dnd,accept:e.accept});return this.dnd=t=new a(r),t.once("ready",i.resolve),t.on("drop",function(e){n.request("add-file",[e])}),t.on("accept",function(e){return n.owner.trigger("dndAccept",e)}),t.init(),i.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),t("lib/filepaste",["base","mediator","runtime/client"],function(e,t,n){function i(e){(e=this.options=r.extend({},e)).container=r(e.container||document.body),n.call(this,"FilePaste")}var r=e.$;return e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),t("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(o,e,a){var s=o.$;return e.register({name:"paste",init:function(e){if(e.paste&&"html5"===this.request("predict-runtime-type")){var t,n=this,i=o.Deferred(),r=s.extend({},{container:e.paste,accept:e.accept});return this.paste=t=new a(r),t.once("ready",i.resolve),t.on("paste",function(e){n.owner.request("add-file",[e])}),t.init(),i.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),t("lib/blob",["base","runtime/client"],function(e,n){function t(e,t){this.source=t,this.ruid=e,this.size=t.size||0,this.type=!t.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?"image/"+("jpg"===this.ext?"jpeg":this.ext):t.type||"application/octet-stream",n.call(this,"Blob"),this.uid=t.uid||this.uid,e&&this.connectRuntime(e)}return e.inherits(n,{constructor:t,slice:function(e,t){return this.exec("slice",e,t)},getSource:function(){return this.source}}),t}),t("lib/file",["base","lib/blob"],function(e,i){var r=1,o=/\.([^.]+)$/;return e.inherits(i,function(e,t){var n;this.name=t.name||"untitled"+r++,!(n=o.exec(t.name)?RegExp.$1.toLowerCase():"")&&t.type&&(n=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(t.type)?RegExp.$1.toLowerCase():"",this.name+="."+n),this.ext=n,this.lastModifiedDate=t.lastModifiedDate||(new Date).toLocaleString(),i.apply(this,arguments)})}),t("lib/filepicker",["base","runtime/client","lib/file"],function(e,t,o){function n(e){if((e=this.options=a.extend({},n.options,e)).container=a(e.id),!e.container.length)throw new Error("æé®æå®éè¯¯");e.innerHTML=e.innerHTML||e.label||e.container.html()||"",e.button=a(e.button||document.createElement("div")),e.button.html(e.innerHTML),e.container.html(e.button),t.call(this,"FilePicker",!0)}var a=e.$;return n.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file"},e.inherits(t,{constructor:n,init:function(){var n=this,i=n.options,r=i.button;r.addClass("webuploader-pick"),n.on("all",function(e){var t;switch(e){case"mouseenter":r.addClass("webuploader-pick-hover");break;case"mouseleave":r.removeClass("webuploader-pick-hover");break;case"change":t=n.exec("getFiles"),n.trigger("select",a.map(t,function(e){return(e=new o(n.getRuid(),e))._refer=i.container,e}),i.container)}}),n.connectRuntime(i,function(){n.refresh(),n.exec("init",i),n.trigger("ready")}),this._resizeHandler=e.bindFn(this.refresh,this),a(l).on("resize",this._resizeHandler)},refresh:function(){var e=this.getRuntime().getContainer(),t=this.options.button,n=t.outerWidth?t.outerWidth():t.width(),i=t.outerHeight?t.outerHeight():t.height(),r=t.offset();n&&i&&e.css({bottom:"auto",right:"auto",width:n+"px",height:i+"px"}).offset(r)},enable:function(){var e=this.options.button;e.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var e=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),e.addClass("webuploader-pick-disable")},destroy:function(){var e=this.options.button;a(l).off("resize",this._resizeHandler),e.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),n}),t("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(u,e,c){var l=u.$;return l.extend(e.options,{pick:null,accept:null}),e.register({name:"picker",init:function(e){return this.pickers=[],e.pick&&this.addBtn(e.pick)},refresh:function(){l.each(this.pickers,function(){this.refresh()})},addBtn:function(i){var r=this,o=r.options,a=o.accept,s=[];if(i)return l.isPlainObject(i)||(i={id:i}),l(i.id).each(function(){var e,t,n;n=u.Deferred(),e=l.extend({},i,{accept:l.isPlainObject(a)?[a]:a,swf:o.swf,runtimeOrder:o.runtimeOrder,id:this}),(t=new c(e)).once("ready",n.resolve),t.on("select",function(e){r.owner.request("add-file",[e])}),t.init(),r.pickers.push(t),s.push(n.promise())}),u.when.apply(u,s)},disable:function(){l.each(this.pickers,function(){this.disable()})},enable:function(){l.each(this.pickers,function(){this.enable()})},destroy:function(){l.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),t("lib/image",["base","runtime/client","lib/blob"],function(t,n,i){function r(e){this.options=o.extend({},r.options,e),n.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var o=t.$;return r.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},t.inherits(n,{constructor:r,info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},loadFromBlob:function(e){var t=this,n=e.getRuid();this.connectRuntime(n,function(){t.exec("init",t.options),t.exec("loadFromBlob",e)})},resize:function(){var e=t.slice(arguments);return this.exec.apply(this,["resize"].concat(e))},crop:function(){var e=t.slice(arguments);return this.exec.apply(this,["crop"].concat(e))},getAsDataUrl:function(e){return this.exec("getAsDataUrl",e)},getAsBlob:function(e){var t=this.exec("getAsBlob",e);return new i(this.getRuid(),t)}}),r}),t("widgets/image",["base","uploader","lib/image","widgets/widget"],function(t,e,s){var a,u=t.$;return a=function(){var i=0,r=[],o=function(){for(var e;r.length&&i<5242880;)e=r.shift(),i+=e[0],e[1]()};return function(e,t,n){r.push([t,n]),e.once("destroy",function(){i-=t,setTimeout(o,1)}),setTimeout(o,1)}}(),u.extend(e.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),e.register({name:"image",makeThumb:function(e,t,n,i){var r,o;return(e=this.request("get-file",e)).type.match(/^image/)?(r=u.extend({},this.options.thumb),u.isPlainObject(n)&&(r=u.extend(r,n),n=null),n=n||r.width,i=i||r.height,(o=new s(r)).once("load",function(){e._info=e._info||o.info(),e._meta=e._meta||o.meta(),n<=1&&0<n&&(n=e._info.width*n),i<=1&&0<i&&(i=e._info.height*i),o.resize(n,i)}),o.once("complete",function(){t(!1,o.getAsDataUrl(r.type)),o.destroy()}),o.once("error",function(e){t(e||!0),o.destroy()}),void a(o,e.source.size,function(){e._info&&o.info(e._info),e._meta&&o.meta(e._meta),o.loadFromBlob(e.source)})):void t(!0)},beforeSendFile:function(n){var i,r,o=this.options.compress||this.options.resize,e=o&&o.compressSize||0,a=o&&o.noCompressIfLarger||!1;return n=this.request("get-file",n),!o||!~"image/jpeg,image/jpg".indexOf(n.type)||n.size<e||n._compressed?void 0:(o=u.extend({},o),r=t.Deferred(),i=new s(o),r.always(function(){i.destroy(),i=null}),i.once("error",r.reject),i.once("load",function(){var e=o.width,t=o.height;n._info=n._info||i.info(),n._meta=n._meta||i.meta(),e<=1&&0<e&&(e=n._info.width*e),t<=1&&0<t&&(t=n._info.height*t),i.resize(e,t)}),i.once("complete",function(){var e,t;try{e=i.getAsBlob(o.type),t=n.size,(!a||e.size<t)&&(n.source=e,n.size=e.size,n.trigger("resize",e.size,t)),n._compressed=!0,r.resolve()}catch(e){r.resolve()}}),n._info&&i.info(n._info),n._meta&&i.meta(n._meta),i.loadFromBlob(n.source),r.promise())}})}),t("file",["base","mediator"],function(e,t){function n(e){this.name=e.name||"Untitled",this.size=e.size||0,this.type=e.type||"application/octet-stream",this.lastModifiedDate=e.lastModifiedDate||1*new Date,this.id=r+o++,this.ext=a.exec(this.name)?RegExp.$1:"",this.statusText="",s[this.id]=n.Status.INITED,this.source=e,this.loaded=0,this.on("error",function(e){this.setStatus(n.Status.ERROR,e)})}var i=e.$,r="WU_FILE_",o=0,a=/\.([^.]+)$/,s={};return i.extend(n.prototype,{setStatus:function(e,t){var n=s[this.id];void 0!==t&&(this.statusText=t),e!==n&&(s[this.id]=e,this.trigger("statuschange",e,n))},getStatus:function(){return s[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete s[this.id]}}),t.installTo(n.prototype),n.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},n}),t("queue",["base","mediator","file"],function(e,t,n){function i(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}var o=e.$,r=n.Status;return o.extend(i.prototype,{append:function(e){return this._queue.push(e),this._fileAdded(e),this},prepend:function(e){return this._queue.unshift(e),this._fileAdded(e),this},getFile:function(e){return"string"!=typeof e?e:this._map[e]},fetch:function(e){var t,n,i=this._queue.length;for(e=e||r.QUEUED,t=0;t<i;t++)if(n=this._queue[t],e===n.getStatus())return n;return null},sort:function(e){"function"==typeof e&&this._queue.sort(e)},getFiles:function(){for(var e,t=[].slice.call(arguments,0),n=[],i=0,r=this._queue.length;i<r;i++)e=this._queue[i],t.length&&!~o.inArray(e.getStatus(),t)||n.push(e);return n},removeFile:function(e){var t=this._map[e.id];t&&(delete this._map[e.id],e.destroy(),this.stats.numofDeleted++)},_fileAdded:function(e){var n=this,t=this._map[e.id];t||(this._map[e.id]=e).on("statuschange",function(e,t){n._onFileStatusChange(e,t)})},_onFileStatusChange:function(e,t){var n=this.stats;switch(t){case r.PROGRESS:n.numOfProgress--;break;case r.QUEUED:n.numOfQueue--;break;case r.ERROR:n.numOfUploadFailed--;break;case r.INVALID:n.numOfInvalid--;break;case r.INTERRUPT:n.numofInterrupt--}switch(e){case r.QUEUED:n.numOfQueue++;break;case r.PROGRESS:n.numOfProgress++;break;case r.ERROR:n.numOfUploadFailed++;break;case r.COMPLETE:n.numOfSuccess++;break;case r.CANCELLED:n.numOfCancel++;break;case r.INVALID:n.numOfInvalid++;break;case r.INTERRUPT:n.numofInterrupt++}}}),t.installTo(i.prototype),i}),t("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(c,e,l,t,n,f){var h=c.$,i=/\.\w+$/,o=t.Status;return e.register({name:"queue",init:function(e){var t,n,i,r,o,a,s,u=this;if(h.isPlainObject(e.accept)&&(e.accept=[e.accept]),e.accept){for(o=[],i=0,n=e.accept.length;i<n;i++)(r=e.accept[i].extensions)&&o.push(r);o.length&&(a="\\."+o.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),u.accept=new RegExp(a,"i")}return u.queue=new l,u.stats=u.queue.stats,"html5"===this.request("predict-runtime-type")?(t=c.Deferred(),this.placeholder=s=new f("Placeholder"),s.connectRuntime({runtimeOrder:"html5"},function(){u._ruid=s.getRuid(),t.resolve()}),t.promise()):void 0},_wrapFile:function(e){if(!(e instanceof t)){if(!(e instanceof n)){if(!this._ruid)throw new Error("Can't add external files.");e=new n(this._ruid,e)}e=new t(e)}return e},acceptFile:function(e){var t=!e||!e.size||this.accept&&i.exec(e.name)&&!this.accept.test(e.name);return!t},_addFile:function(e){var t=this;return e=t._wrapFile(e),t.owner.trigger("beforeFileQueued",e)?t.acceptFile(e)?(t.queue.append(e),t.owner.trigger("fileQueued",e),e):void t.owner.trigger("error","Q_TYPE_DENIED",e):void 0},getFile:function(e){return this.queue.getFile(e)},addFile:function(e){var t=this;e.length||(e=[e]),e=h.map(e,function(e){return t._addFile(e)}),t.owner.trigger("filesQueued",e),t.options.auto&&setTimeout(function(){t.request("start-upload")},20)},getStats:function(){return this.stats},removeFile:function(e,t){e=e.id?e:this.queue.getFile(e),this.request("cancel-file",e),t&&this.queue.removeFile(e)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(e,t){var n,i,r;if(e)return(e=e.id?e:this.queue.getFile(e)).setStatus(o.QUEUED),void(t||this.request("start-upload"));for(n=this.queue.getFiles(o.ERROR),i=0,r=n.length;i<r;i++)(e=n[i]).setStatus(o.QUEUED);this.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new l,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),t("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(e,r){return e.support=function(){return r.hasRuntime.apply(r,arguments)},e.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var e,t,n=this.options.runtimeOrder||r.orders,i=this.type;if(!i)for(n=n.split(/\s*,\s*/g),e=0,t=n.length;e<t;e++)if(r.hasRuntime(n[e])){this.type=i=n[e];break}return i}})}),t("lib/transport",["base","runtime/client","mediator"],function(e,n,t){function i(e){var t=this;e=t.options=r.extend(!0,{},i.options,e||{}),n.call(this,"Transport"),this._blob=null,this._formData=e.formData||{},this._headers=e.headers||{},this.on("progress",this._timeout),this.on("load error",function(){t.trigger("progress",1),clearTimeout(t._timer)})}var r=e.$;return i.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},r.extend(i.prototype,{appendBlob:function(e,t,n){var i=this,r=i.options;i.getRuid()&&i.disconnectRuntime(),i.connectRuntime(t.ruid,function(){i.exec("init")}),i._blob=t,r.fileVal=e||r.fileVal,r.filename=n||r.filename},append:function(e,t){"object"==typeof e?r.extend(this._formData,e):this._formData[e]=t},setRequestHeader:function(e,t){"object"==typeof e?r.extend(this._headers,e):this._headers[e]=t},send:function(e){this.exec("send",e),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var e=this,t=e.options.timeout;t&&(clearTimeout(e._timer),e._timer=setTimeout(function(){e.abort(),e.trigger("error","timeout")},t))}}),t.installTo(i.prototype),i}),t("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(l,e,t,f){var h=l.$,a=l.isPromise,d=t.Status;h.extend(e.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),e.register({name:"upload",init:function(){var e=this.owner,t=this;this.runing=!1,this.progress=!1,e.on("startUpload",function(){t.progress=!0}).on("uploadFinished",function(){t.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=l.bindFn(this._tick,this),e.on("uploadComplete",function(e){e.blocks&&h.each(e.blocks,function(e,t){t.transport&&(t.transport.abort(),t.transport.destroy()),delete t.transport}),delete e.blocks,delete e.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(n){var i=this;if(h.each(i.request("get-files",d.INVALID),function(){i.request("remove-file",this)}),n)if((n=n.id?n:i.request("get-file",n)).getStatus()===d.INTERRUPT)h.each(i.pool,function(e,t){t.file===n&&t.transport&&t.transport.send()}),n.setStatus(d.QUEUED);else{if(n.getStatus()===d.PROGRESS)return;n.setStatus(d.QUEUED)}else h.each(i.request("get-files",[d.INITED]),function(){this.setStatus(d.QUEUED)});if(!i.runing){i.runing=!0;var r=[];for(h.each(i.pool,function(e,t){var n=t.file;n.getStatus()===d.INTERRUPT&&(r.push(n),i._trigged=!1,t.transport&&t.transport.send())});n=r.shift();)n.setStatus(d.PROGRESS);n||h.each(i.request("get-files",d.INTERRUPT),function(){this.setStatus(d.PROGRESS)}),i._trigged=!1,l.nextTick(i.__tick),i.owner.trigger("startUpload")}},stopUpload:function(n,e){var i=this;if(!0===n&&(e=n,n=null),!1!==i.runing){if(n){if((n=n.id?n:i.request("get-file",n)).getStatus()!==d.PROGRESS&&n.getStatus()!==d.QUEUED)return;return n.setStatus(d.INTERRUPT),h.each(i.pool,function(e,t){t.file===n&&(t.transport&&t.transport.abort(),i._putback(t),i._popBlock(t))}),l.nextTick(i.__tick)}i.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(d.INTERRUPT),e&&h.each(i.pool,function(e,t){t.transport&&t.transport.abort(),t.file.setStatus(d.INTERRUPT)}),i.owner.trigger("stopUpload")}},cancelFile:function(e){(e=e.id?e:this.request("get-file",e)).blocks&&h.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),e.setStatus(d.CANCELLED),this.owner.trigger("fileDequeued",e)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(e,t){(e=e.id?e:this.request("get-file",e)).setStatus(t||d.COMPLETE),e.skipped=!0,e.blocks&&h.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),this.owner.trigger("uploadSkip",e)},_tick:function(){var e,t,n=this,i=n.options;return n._promise?n._promise.always(n.__tick):void(n.pool.length<i.threads&&(t=n._nextBlock())?(n._trigged=!1,e=function(e){n._promise=null,e&&e.file&&n._startSend(e),l.nextTick(n.__tick)},n._promise=a(t)?t.always(e):e(t)):n.remaning||n._getStats().numOfQueue||n._getStats().numofInterrupt||(n.runing=!1,n._trigged||l.nextTick(function(){n.owner.trigger("uploadFinished")}),n._trigged=!0))},_putback:function(e){e.cuted.unshift(e),~this.stack.indexOf(e.cuted)||this.stack.unshift(e.cuted)},_getStack:function(){for(var e,t=0;e=this.stack[t++];){if(e.has()&&e.file.getStatus()===d.PROGRESS)return e;e.has()&&(e.file.getStatus()===d.PROGRESS||e.file.getStatus()===d.INTERRUPT)||this.stack.splice(--t,1)}return null},_nextBlock:function(){var t,e,n,i,r=this,o=r.options;return(t=this._getStack())?(o.prepareNextFile&&!r.pending.length&&r._prepareNextFile(),t.shift()):r.runing?(!r.pending.length&&r._getStats().numOfQueue&&r._prepareNextFile(),e=r.pending.shift(),n=function(e){return e?(t=function(e,t){var n,i,r=[],o=e.source.size,a=t?Math.ceil(o/t):1,s=0,u=0;for(i={file:e,has:function(){return!!r.length},shift:function(){return r.shift()},unshift:function(e){r.unshift(e)}};u<a;)n=Math.min(t,o-s),r.push({file:e,start:s,end:t?s+n:o,total:o,chunks:a,chunk:u++,cuted:i}),s+=n;return e.blocks=r.concat(),e.remaning=r.length,i}(e,o.chunked?o.chunkSize:0),r.stack.push(t),t.shift()):null},a(e)?(i=e.file,(e=e[e.pipe?"pipe":"then"](n)).file=i,e):n(e)):void 0},_prepareNextFile:function(){var t,n=this,i=n.request("fetch-file"),r=n.pending;i&&(t=n.request("before-send-file",i,function(){return i.getStatus()===d.PROGRESS||i.getStatus()===d.INTERRUPT?i:n._finishFile(i)}),n.owner.trigger("uploadStart",i),i.setStatus(d.PROGRESS),t.file=i,t.done(function(){var e=h.inArray(t,r);~e&&r.splice(e,1,i)}),t.fail(function(e){i.setStatus(d.ERROR,e),n.owner.trigger("uploadError",i,e),n.owner.trigger("uploadComplete",i)}),r.push(t))},_popBlock:function(e){var t=h.inArray(e,this.pool);this.pool.splice(t,1),e.file.remaning--,this.remaning--},_startSend:function(e){var t=this,n=e.file;return n.getStatus()!==d.PROGRESS?void(n.getStatus()===d.INTERRUPT&&t._putback(e)):(t.pool.push(e),t.remaning++,e.blob=1===e.chunks?n.source:n.source.slice(e.start,e.end),void t.request("before-send",e,function(){n.getStatus()===d.PROGRESS?t._doSend(e):(t._popBlock(e),l.nextTick(t.__tick))}).fail(function(){1===n.remaning?t._finishFile(n).always(function(){e.percentage=1,t._popBlock(e),t.owner.trigger("uploadComplete",n),l.nextTick(t.__tick)}):(e.percentage=1,t.updateFileProgress(n),t._popBlock(e),l.nextTick(t.__tick))}))},_doSend:function(n){var i,r,t=this,o=t.owner,a=t.options,s=n.file,u=new f(a),e=h.extend({},a.formData),c=h.extend({},a.headers);(n.transport=u).on("destroy",function(){delete n.transport,t._popBlock(n),l.nextTick(t.__tick)}),u.on("progress",function(e){n.percentage=e,t.updateFileProgress(s)}),i=function(t){var e;return(r=u.getResponseAsJson()||{})._raw=u.getResponse(),e=function(e){t=e},o.trigger("uploadAccept",n,r,e)||(t=t||"server"),t},u.on("error",function(e,t){n.retried=n.retried||0,1<n.chunks&&~"http,abort".indexOf(e)&&n.retried<a.chunkRetry?(n.retried++,u.send()):(t||"server"!==e||(e=i(e)),s.setStatus(d.ERROR,e),o.trigger("uploadError",s,e),o.trigger("uploadComplete",s))}),u.on("load",function(){var e;return(e=i())?void u.trigger("error",e,!0):void(1===s.remaning?t._finishFile(s,r):u.destroy())}),e=h.extend(e,{id:s.id,name:s.name,type:s.type,lastModifiedDate:s.lastModifiedDate,size:s.size}),1<n.chunks&&h.extend(e,{chunks:n.chunks,chunk:n.chunk}),o.trigger("uploadBeforeSend",n,e,c),u.appendBlob(a.fileVal,n.blob,s.name),u.append(e),u.setRequestHeader(c),u.send()},_finishFile:function(t,e,n){var i=this.owner;return i.request("after-send-file",arguments,function(){t.setStatus(d.COMPLETE),i.trigger("uploadSuccess",t,e,n)}).fail(function(e){t.getStatus()===d.PROGRESS&&t.setStatus(d.ERROR,e),i.trigger("uploadError",t,e)}).always(function(){i.trigger("uploadComplete",t)})},updateFileProgress:function(e){var t=0,n=0;e.blocks&&(h.each(e.blocks,function(e,t){n+=(t.percentage||0)*(t.end-t.start)}),t=n/e.size,this.owner.trigger("uploadProgress",e,t||0))}})}),t("widgets/validator",["base","uploader","file","widgets/widget"],function(t,e,n){var i,r=t.$,o={};return i={addValidator:function(e,t){o[e]=t},removeValidator:function(e){delete o[e]}},e.register({name:"validator",init:function(){var e=this;t.nextTick(function(){r.each(o,function(){this.call(e.owner)})})}}),i.addValidator("fileNumLimit",function(){var e=this,t=e.options,n=0,i=parseInt(t.fileNumLimit,10),r=!0;i&&(e.on("beforeFileQueued",function(e){return i<=n&&r&&(r=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",i,e),setTimeout(function(){r=!0},1)),!(i<=n)}),e.on("fileQueued",function(){n++}),e.on("fileDequeued",function(){n--}),e.on("reset",function(){n=0}))}),i.addValidator("fileSizeLimit",function(){var e=this,t=e.options,n=0,i=parseInt(t.fileSizeLimit,10),r=!0;i&&(e.on("beforeFileQueued",function(e){var t=n+e.size>i;return t&&r&&(r=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",i,e),setTimeout(function(){r=!0},1)),!t}),e.on("fileQueued",function(e){n+=e.size}),e.on("fileDequeued",function(e){n-=e.size}),e.on("reset",function(){n=0}))}),i.addValidator("fileSingleSizeLimit",function(){var e=this.options,t=e.fileSingleSizeLimit;t&&this.on("beforeFileQueued",function(e){return e.size>t?(e.setStatus(n.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",t,e),!1):void 0})}),i.addValidator("duplicate",function(){var e=this,t=e.options,n={};t.duplicate||(e.on("beforeFileQueued",function(e){var t=e.__hash||(e.__hash=function(e){for(var t,n=0,i=0,r=e.length;i<r;i++)t=e.charCodeAt(i),n=t+(n<<6)+(n<<16)-n;return n}(e.name+e.size+e.lastModifiedDate));return n[t]?(this.trigger("error","è¯¥å¾çå·²ç»æ·»å è¿äº",e),!1):void 0}),e.on("fileQueued",function(e){var t=e.__hash;t&&(n[t]=!0)}),e.on("fileDequeued",function(e){var t=e.__hash;t&&delete n[t]}),e.on("reset",function(){n={}}))}),i}),t("lib/md5",["runtime/client","mediator"],function(e,t){function n(){e.call(this,"Md5")}return t.installTo(n.prototype),n.prototype.loadFromBlob=function(e){var t=this;t.getRuid()&&t.disconnectRuntime(),t.connectRuntime(e.ruid,function(){t.exec("init"),t.exec("loadFromBlob",e)})},n.prototype.getResult=function(){return this.exec("getResult")},n}),t("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(a,e,s,u){return e.register({name:"md5",md5File:function(e,t,n){var i=new s,r=a.Deferred(),o=e instanceof u?e:this.request("get-file",e).source;return i.on("progress load",function(e){e=e||{},r.notify(e.total?e.loaded/e.total:1)}),i.on("complete",function(){r.resolve(i.getResult())}),i.on("error",function(e){r.reject(e)}),1<arguments.length&&(n=n||0,(t=t||0)<0&&(t=o.size+t),n<0&&(n=o.size+n),n=Math.min(n,o.size),o=o.slice(t,n)),i.loadFromBlob(o),r.promise()}})}),t("runtime/compbase",[],function(){return function(e,t){this.owner=e,this.options=e.options,this.getRuntime=function(){return t},this.getRuid=function(){return t.uid},this.trigger=function(){return e.trigger.apply(e,arguments)}}}),t("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(s,t,i){function e(){var o={},a=this,e=this.destroy;t.apply(a,arguments),a.type="html5",a.exec=function(e,t){var n,i=this.uid,r=s.slice(arguments,2);return u[e]&&(n=o[i]=o[i]||new u[e](this,a))[t]?n[t].apply(n,r):void 0},a.destroy=function(){return e&&e.apply(this,arguments)}}var u={};return s.inherits(t,{constructor:e,init:function(){var e=this;setTimeout(function(){e.trigger("ready")},1)}}),e.register=function(e,t){var n=u[e]=s.inherits(i,t);return n},l.Blob&&l.FileReader&&l.DataView&&t.addRuntime("html5",e),e}),t("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(e,r){return e.register("Blob",{slice:function(e,t){var n=this.owner.source,i=n.slice||n.webkitSlice||n.mozSlice;return n=i.call(n,e,t),new r(this.getRuid(),n)}})}),t("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(f,e,a){var s=f.$,u="webuploader-dnd-";return e.register("DragAndDrop",{init:function(){var e=this.elem=this.options.container;this.dragEnterHandler=f.bindFn(this._dragEnterHandler,this),this.dragOverHandler=f.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=f.bindFn(this._dragLeaveHandler,this),this.dropHandler=f.bindFn(this._dropHandler,this),this.dndOver=!1,e.on("dragenter",this.dragEnterHandler),e.on("dragover",this.dragOverHandler),e.on("dragleave",this.dragLeaveHandler),e.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(s(document).on("dragover",this.dragOverHandler),s(document).on("drop",this.dropHandler))},_dragEnterHandler:function(e){var t,n=this,i=n._denied||!1;return e=e.originalEvent||e,n.dndOver||(n.dndOver=!0,(t=e.dataTransfer.items)&&t.length&&(n._denied=i=!n.trigger("accept",t)),n.elem.addClass(u+"over"),n.elem[i?"addClass":"removeClass"](u+"denied")),e.dataTransfer.dropEffect=i?"none":"copy",!1},_dragOverHandler:function(e){var t=this.elem.parent().get(0);return t&&!s.contains(t,e.currentTarget)||(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,e)),!1},_dragLeaveHandler:function(){var e,t=this;return e=function(){t.dndOver=!1,t.elem.removeClass(u+"over "+u+"denied")},clearTimeout(t._leaveTimer),t._leaveTimer=setTimeout(e,100),!1},_dropHandler:function(e){var t,n,i=this,r=i.getRuid(),o=i.elem.parent().get(0);if(o&&!s.contains(o,e.currentTarget))return!1;e=e.originalEvent||e,t=e.dataTransfer;try{n=t.getData("text/html")}catch(e){}return n?void 0:(i._getTansferFiles(t,function(e){i.trigger("drop",s.map(e,function(e){return new a(r,e)}))}),i.dndOver=!1,i.elem.removeClass(u+"over"),!1)},_getTansferFiles:function(e,t){var n,i,r,o,a,s,u,c=[],l=[];for(n=e.items,i=e.files,u=!(!n||!n[0].webkitGetAsEntry),a=0,s=i.length;a<s;a++)r=i[a],o=n&&n[a],u&&o.webkitGetAsEntry().isDirectory?l.push(this._traverseDirectoryTree(o.webkitGetAsEntry(),c)):c.push(r);f.when.apply(f,l).done(function(){c.length&&t(c)})},_traverseDirectoryTree:function(e,o){var a=f.Deferred(),s=this;return e.isFile?e.file(function(e){o.push(e),a.resolve()}):e.isDirectory&&e.createReader().readEntries(function(e){var t,n=e.length,i=[],r=[];for(t=0;t<n;t++)i.push(s._traverseDirectoryTree(e[t],r));f.when.apply(f,i).then(function(){o.push.apply(o,r),a.resolve()},a.reject)}),a.promise()},destroy:function(){var e=this.elem;e&&(e.off("dragenter",this.dragEnterHandler),e.off("dragover",this.dragOverHandler),e.off("dragleave",this.dragLeaveHandler),e.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(s(document).off("dragover",this.dragOverHandler),s(document).off("drop",this.dropHandler)))}})}),t("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(s,e,u){return e.register("FilePaste",{init:function(){var e,t,n,i,r=this.options,o=this.elem=r.container,a=".*";if(r.accept){for(e=[],t=0,n=r.accept.length;t<n;t++)(i=r.accept[t].mimeTypes)&&e.push(i);e.length&&(a=(a=e.join(",")).replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=a=new RegExp(a,"i"),this.hander=s.bindFn(this._pasteHander,this),o.on("paste",this.hander)},_pasteHander:function(e){var t,n,i,r,o,a=[],s=this.getRuid();for(e=e.originalEvent||e,t=e.clipboardData.items,r=0,o=t.length;r<o;r++)"file"===(n=t[r]).kind&&(i=n.getAsFile())&&a.push(new u(s,i));a.length&&(e.preventDefault(),e.stopPropagation(),this.trigger("paste",a))},destroy:function(){this.elem.off("paste",this.hander)}})}),t("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(e,t){var l=e.$;return t.register("FilePicker",{init:function(){var e,t,n,i,r=this.getRuntime().getContainer(),o=this,a=o.owner,s=o.options,u=this.label=l(document.createElement("label")),c=this.input=l(document.createElement("input"));if(c.attr("type","file"),c.attr("name",s.name),c.addClass("webuploader-element-invisible"),u.on("click",function(){c.trigger("click")}),u.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),s.multiple&&c.attr("multiple","multiple"),s.accept&&0<s.accept.length){for(e=[],t=0,n=s.accept.length;t<n;t++)e.push(s.accept[t].mimeTypes);c.attr("accept",e.join(","))}r.append(c),r.append(u),i=function(e){a.trigger(e.type)},c.on("change",function(e){var t,n=arguments.callee;o.files=e.target.files,(t=this.cloneNode(!0)).value=null,this.parentNode.replaceChild(t,this),c.off(),c=l(t).on("change",n).on("mouseenter mouseleave",i),a.trigger("change")}),u.on("mouseenter mouseleave",i)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),t("runtime/html5/util",["base"],function(e){var t=l.createObjectURL&&l||l.URL&&URL.revokeObjectURL&&URL||l.webkitURL,n=e.noop,i=n;return t&&(n=function(){return t.createObjectURL.apply(t,arguments)},i=function(){return t.revokeObjectURL.apply(t,arguments)}),{createObjectURL:n,revokeObjectURL:i,dataURL2Blob:function(e){var t,n,i,r,o,a;for(a=e.split(","),t=~a[0].indexOf("base64")?atob(a[1]):decodeURIComponent(a[1]),i=new ArrayBuffer(t.length),n=new Uint8Array(i),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return o=a[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(i,o)},dataURL2ArrayBuffer:function(e){var t,n,i,r;for(r=e.split(","),t=~r[0].indexOf("base64")?atob(r[1]):decodeURIComponent(r[1]),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},arrayBufferToBlob:function(e,t){var n,i=l.BlobBuilder||l.WebKitBlobBuilder;return i?((n=new i).append(e),n.getBlob(t)):new Blob([e],t?{type:t}:{})},canvasToDataUrl:function(e,t,n){return e.toDataURL(t,n/100)},parseMeta:function(e,t){t(!1,{})},updateImageHead:function(e){return e}}}),t("runtime/html5/imagemeta",["runtime/html5/util"],function(e){var f;return f={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(e,t){var n=this,i=new FileReader;i.onload=function(){t(!1,n._parse(this.result)),i=i.onload=i.onerror=null},i.onerror=function(e){t(e.message),i=i.onload=i.onerror=null},e=e.slice(0,n.maxMetaDataSize),i.readAsArrayBuffer(e.getSource())},_parse:function(e,t){if(!(e.byteLength<6)){var n,i,r,o,a=new DataView(e),s=2,u=a.byteLength-4,c=s,l={};if(65496===a.getUint16(0)){for(;s<u&&(65504<=(n=a.getUint16(s))&&n<=65519||65534===n)&&(i=a.getUint16(s+2)+2,!(s+i>a.byteLength));){if(r=f.parsers[n],!t&&r)for(o=0;o<r.length;o+=1)r[o].call(f,a,s,i,l);c=s+=i}6<c&&(l.imageHead=e.slice?e.slice(2,c):new Uint8Array(e).subarray(2,c))}return l}},updateImageHead:function(e,t){var n,i,r,o=this._parse(e,!0);return r=2,o.imageHead&&(r=2+o.imageHead.byteLength),i=e.slice?e.slice(r):new Uint8Array(e).subarray(r),(n=new Uint8Array(t.byteLength+2+i.byteLength))[0]=255,n[1]=216,n.set(new Uint8Array(t),2),n.set(new Uint8Array(i),t.byteLength+2),n.buffer}},e.parseMeta=function(){return f.parse.apply(f,arguments)},e.updateImageHead=function(){return f.updateImageHead.apply(f,arguments)},f}),t("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(d,e){var p={ExifMap:function(){return this}};return p.ExifMap.prototype.map={Orientation:274},p.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},p.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},p.exifTagTypes[7]=p.exifTagTypes[1],p.getExifValue=function(e,t,n,i,r,o){var a,s,u,c,l,f,h=p.exifTagTypes[i];if(h){if(a=h.size*r,!((s=4<a?t+e.getUint32(n+8,o):n+8)+a>e.byteLength)){if(1===r)return h.getValue(e,s,o);for(u=[],c=0;c<r;c+=1)u[c]=h.getValue(e,s+c*h.size,o);if(h.ascii){for(l="",c=0;c<u.length&&"\0"!==(f=u[c]);c+=1)l+=f;return l}return u}d.log("Invalid Exif data: Invalid data offset.")}else d.log("Invalid Exif data: Invalid tag type.")},p.parseExifTag=function(e,t,n,i,r){var o=e.getUint16(n,i);r.exif[o]=p.getExifValue(e,t,n,e.getUint16(n+2,i),e.getUint32(n+4,i),i)},p.parseExifTags=function(e,t,n,i,r){var o,a,s;if(n+6>e.byteLength)d.log("Invalid Exif data: Invalid directory offset.");else{if(o=e.getUint16(n,i),!((a=n+2+12*o)+4>e.byteLength)){for(s=0;s<o;s+=1)this.parseExifTag(e,t,n+2+12*s,i,r);return e.getUint32(a,i)}d.log("Invalid Exif data: Invalid directory size.")}},p.parseExifData=function(e,t,n,i){var r,o,a=t+10;if(1165519206===e.getUint32(t+4)){if(a+8>e.byteLength)return void d.log("Invalid Exif data: Invalid segment size.");if(0!==e.getUint16(t+8))return void d.log("Invalid Exif data: Missing byte alignment offset.");switch(e.getUint16(a)){case 18761:r=!0;break;case 19789:r=!1;break;default:return void d.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==e.getUint16(a+2,r))return void d.log("Invalid Exif data: Missing TIFF marker.");o=e.getUint32(a+4,r),i.exif=new p.ExifMap,o=p.parseExifTags(e,a,a+o,r,i)}},e.parsers[65505].push(p.parseExifData),p}),t("runtime/html5/jpegencoder",[],function(){function i(e){function t(e,t){for(var n=0,i=0,r=new Array,o=1;o<=16;o++){for(var a=1;a<=e[o];a++)r[t[i]]=[],r[t[i]][0]=n,r[t[i]][1]=o,i++,n++;n*=2}return r}function n(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)b[32767+i]=n,v[32767+i]=[],v[32767+i][1]=n,v[32767+i][0]=i;for(var r=-(t-1);r<=-e;r++)b[32767+r]=n,v[32767+r]=[],v[32767+r][1]=n,v[32767+r][0]=t-1+r;e<<=1,t<<=1}}function i(){for(var e=0;e<256;e++)H[e]=19595*e,H[e+256>>0]=38470*e,H[e+512>>0]=7471*e+32768,H[e+768>>0]=-11059*e,H[e+1024>>0]=-21709*e,H[e+1280>>0]=32768*e+8421375,H[e+1536>>0]=-27439*e,H[e+1792>>0]=-5329*e}function w(e){for(var t=e[0],n=e[1]-1;0<=n;)t&1<<n&&(q|=1<<B),n--,--B<0&&(255==q?(x(255),x(0)):x(q),B=7,q=0)}function x(e){C.push(a[e])}function R(e){x(e>>8&255),x(255&e)}function E(e,t,n,i,r){for(var o,a=r[0],s=r[240],u=function(e,t){var n,i,r,o,a,s,u,c,l,f,h=0;for(l=0;l<8;++l){n=e[h],i=e[h+1],r=e[h+2],o=e[h+3],a=e[h+4],s=e[h+5],u=e[h+6],c=e[h+7];var d=n+c,p=n-c,g=i+u,m=i-u,v=r+s,b=r-s,_=o+a,y=o-a,w=d+_,x=d-_,R=g+v,E=g-v;e[h]=w+R,e[h+4]=w-R;var k=.707106781*(E+x);e[h+2]=x+k,e[h+6]=x-k;var S=.382683433*((w=y+b)-(E=m+p)),T=.5411961*w+S,F=1.306562965*E+S,A=.707106781*(R=b+m),U=p+A,D=p-A;e[h+5]=D+T,e[h+3]=D-T,e[h+1]=U+F,e[h+7]=U-F,h+=8}for(l=h=0;l<8;++l){n=e[h],i=e[h+8],r=e[h+16],o=e[h+24],a=e[h+32],s=e[h+40],u=e[h+48],c=e[h+56];var O=n+c,I=n-c,C=i+u,q=i-u,B=r+s,L=r-s,P=o+a,z=o-a,H=O+P,M=O-P,j=C+B,N=C-B;e[h]=H+j,e[h+32]=H-j;var $=.707106781*(N+M);e[h+16]=M+$,e[h+48]=M-$;var Q=.382683433*((H=z+L)-(N=q+I)),V=.5411961*H+Q,G=1.306562965*N+Q,W=.707106781*(j=L+q),J=I+W,X=I-W;e[h+40]=X+V,e[h+24]=X-V,e[h+8]=J+G,e[h+56]=J-G,h++}for(l=0;l<64;++l)f=e[l]*t[l],Z[l]=0<f?.5+f|0:f-.5|0;return Z}(e,t),c=0;c<64;++c)_[y[c]]=u[c];var l=_[0]-n;n=_[0],0==l?w(i[0]):(w(i[b[o=32767+l]]),w(v[o]));for(var f=63;0<f&&0==_[f];f--);if(0==f)return w(a),n;for(var h,d=1;d<=f;){for(var p=d;0==_[d]&&d<=f;++d);var g=d-p;if(16<=g){h=g>>4;for(var m=1;m<=h;++m)w(s);g&=15}o=32767+_[d],w(r[(g<<4)+b[o]]),w(v[o]),d++}return 63!=f&&w(a),n}function r(){for(var e=String.fromCharCode,t=0;t<256;t++)a[t]=e(t)}function k(e){if(e<=0&&(e=1),100<e&&(e=100),o!=e){(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=f((t[n]*e+50)/100);i<1?i=1:255<i&&(i=255),U[y[n]]=i}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var a=f((r[o]*e+50)/100);a<1?a=1:255<a&&(a=255),D[y[o]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],u=0,c=0;c<8;c++)for(var l=0;l<8;l++)O[u]=1/(U[y[u]]*s[c]*s[l]*8),I[u]=1/(D[y[u]]*s[c]*s[l]*8),u++})(Math.floor(e<50?5e3/e:200-2*e)),o=e}}var S,T,F,A,o,f=(Math.round,Math.floor),U=new Array(64),D=new Array(64),O=new Array(64),I=new Array(64),v=new Array(65535),b=new Array(65535),Z=new Array(64),_=new Array(64),C=[],q=0,B=7,L=new Array(64),P=new Array(64),z=new Array(64),a=new Array(256),H=new Array(2048),y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(e,t){t&&k(t),C=new Array,q=0,B=7,R(65496),R(65504),R(16),x(74),x(70),x(73),x(70),x(0),x(1),x(1),x(0),R(1),R(1),x(0),x(0),function(){R(65499),R(132),x(0);for(var e=0;e<64;e++)x(U[e]);x(1);for(var t=0;t<64;t++)x(D[t])}(),function(e,t){R(65472),R(17),x(8),R(t),R(e),x(3),x(1),x(17),x(0),x(2),x(17),x(1),x(3),x(17),x(1)}(e.width,e.height),function(){R(65476),R(418),x(0);for(var e=0;e<16;e++)x(M[e+1]);for(var t=0;t<=11;t++)x(j[t]);x(16);for(var n=0;n<16;n++)x(N[n+1]);for(var i=0;i<=161;i++)x($[i]);x(1);for(var r=0;r<16;r++)x(Q[r+1]);for(var o=0;o<=11;o++)x(V[o]);x(17);for(var a=0;a<16;a++)x(G[a+1]);for(var s=0;s<=161;s++)x(W[s])}(),R(65498),R(12),x(3),x(1),x(0),x(2),x(17),x(3),x(17),x(0),x(63),x(0);var n=0,i=0,r=0;q=0,B=7,this.encode.displayName="_encode_";for(var o,a,s,u,c,l,f,h,d,p=e.data,g=e.width,m=e.height,v=4*g,b=0;b<m;){for(o=0;o<v;){for(l=c=v*b+o,f=-1,d=h=0;d<64;d++)l=c+(h=d>>3)*v+(f=4*(7&d)),m<=b+h&&(l-=v*(b+1+h-m)),v<=o+f&&(l-=o+f-v+4),a=p[l++],s=p[l++],u=p[l++],L[d]=(H[a]+H[s+256>>0]+H[u+512>>0]>>16)-128,P[d]=(H[a+768>>0]+H[s+1024>>0]+H[u+1280>>0]>>16)-128,z[d]=(H[a+1280>>0]+H[s+1536>>0]+H[u+1792>>0]>>16)-128;n=E(L,O,n,S,F),i=E(P,I,i,T,A),r=E(z,I,r,T,A),o+=32}b+=8}if(0<=B){var _=[];_[1]=B+1,_[0]=(1<<B+1)-1,w(_)}R(65497);var y="data:image/jpeg;base64,"+btoa(C.join(""));return C=[],y},e=e||50,r(),S=t(M,j),T=t(Q,V),F=t(N,$),A=t(G,W),n(),i(),k(e)}return i.encode=function(e,t){var n=new i(t);return n.encode(e)},i}),t("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(e,u,c){var l,f=e.canvasToDataUrl;e.canvasToDataUrl=function(e,t,n){var i,r,o,a,s;return c.os.android?("image/jpeg"===t&&void 0===l&&(a=f.apply(null,arguments),a=(a=~(s=a.split(","))[0].indexOf("base64")?atob(s[1]):decodeURIComponent(s[1])).substring(0,2),l=255===a.charCodeAt(0)&&216===a.charCodeAt(1)),"image/jpeg"!==t||l?f.apply(null,arguments):(r=e.width,o=e.height,i=e.getContext("2d"),u.encode(i.getImageData(0,0,r,o),n))):f.apply(null,arguments)}}),t("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(i,e,r){return e.register("Image",{modified:!1,init:function(){var n=this,e=new Image;e.onload=function(){n._info={type:n.type,width:this.width,height:this.height},n._metas||"image/jpeg"!==n.type?n.owner.trigger("load"):r.parseMeta(n._blob,function(e,t){n._metas=t,n.owner.trigger("load")})},e.onerror=function(){n.owner.trigger("error")},n._img=e},loadFromBlob:function(e){var t=this._img;this._blob=e,this.type=e.type,t.src=r.createObjectURL(e.getSource()),this.owner.once("load",function(){r.revokeObjectURL(t.src)})},resize:function(e,t){var n=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,n,e,t),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(e,t,n,i,r){var o=this._canvas||(this._canvas=document.createElement("canvas")),a=this.options,s=this._img,u=s.naturalWidth,c=s.naturalHeight,l=this.getOrientation();r=r||1,o.width=n,o.height=i,a.preserveHeaders||this._rotate2Orientaion(o,l),this._renderImageToCanvas(o,s,-e,-t,u*r,c*r),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(e){var t,n=this._blob,i=this.options;if(e=e||this.type,this.modified||this.type!==e){if(t=this._canvas,"image/jpeg"===e){if(n=r.canvasToDataUrl(t,e,i.quality),i.preserveHeaders&&this._metas&&this._metas.imageHead)return n=r.dataURL2ArrayBuffer(n),n=r.updateImageHead(n,this._metas.imageHead),n=r.arrayBufferToBlob(n,e)}else n=r.canvasToDataUrl(t,e);n=r.dataURL2Blob(n)}return n},getAsDataUrl:function(e){var t=this.options;return"image/jpeg"===(e=e||this.type)?r.canvasToDataUrl(this._canvas,e,t.quality):this._canvas.toDataURL(e)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},destroy:function(){var e=this._canvas;this._img.onload=null,e&&(e.getContext("2d").clearRect(0,0,e.width,e.height),e.width=e.height=0,this._canvas=null),this._img.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D",this._img=this._blob=null},_resize:function(e,t,n,i){var r,o,a,s,u,c=this.options,l=e.width,f=e.height,h=this.getOrientation();~[5,6,7,8].indexOf(h)&&(n^=i,n^=i^=n),r=Math[c.crop?"max":"min"](n/l,i/f),c.allowMagnify||(r=Math.min(1,r)),o=l*r,a=f*r,c.crop?(t.width=n,t.height=i):(t.width=o,t.height=a),s=(t.width-o)/2,u=(t.height-a)/2,c.preserveHeaders||this._rotate2Orientaion(t,h),this._renderImageToCanvas(t,e,s,u,o,a)},_rotate2Orientaion:function(e,t){var n=e.width,i=e.height,r=e.getContext("2d");switch(t){case 5:case 6:case 7:case 8:e.width=i,e.height=n}switch(t){case 2:r.translate(n,0),r.scale(-1,1);break;case 3:r.translate(n,i),r.rotate(Math.PI);break;case 4:r.translate(0,i),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-i);break;case 7:r.rotate(.5*Math.PI),r.translate(n,-i),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-n,0)}},_renderImageToCanvas:function(){function w(e,t,n){var i,r,o=document.createElement("canvas"),a=o.getContext("2d"),s=0,u=n,c=n;for(o.width=1,o.height=n,a.drawImage(e,0,0),i=a.getImageData(0,0,1,n).data;s<c;)0===i[4*(c-1)+3]?u=c:s=c,c=u+s>>1;return 0==(r=c/n)?1:r}return i.os.ios?7<=i.os.ios?function(e,t,n,i,r,o){var a=t.naturalWidth,s=t.naturalHeight,u=w(t,a,s);return e.getContext("2d").drawImage(t,0,0,a*u,s*u,n,i,r,o)}:function(e,t,n,i,r,o){var a,s,u,c,l,f,h,d=t.naturalWidth,p=t.naturalHeight,g=e.getContext("2d"),m=function(e){var t,n,i=e.naturalWidth,r=e.naturalHeight;return 1048576<i*r&&((t=document.createElement("canvas")).width=t.height=1,(n=t.getContext("2d")).drawImage(e,1-i,0),0===n.getImageData(0,0,1,1).data[3])}(t),v="image/jpeg"===this.type,b=1024,_=0,y=0;for(m&&(d/=2,p/=2),g.save(),(a=document.createElement("canvas")).width=a.height=b,s=a.getContext("2d"),u=v?w(t,d,p):1,c=Math.ceil(b*r/d),l=Math.ceil(b*o/p/u);_<p;){for(h=f=0;f<d;)s.clearRect(0,0,b,b),s.drawImage(t,-f,-_),g.drawImage(a,0,0,b,b,n+h,i+y,c,l),f+=b,h+=c;_+=b,y+=l}g.restore(),a=s=null}:function(e){var t=i.slice(arguments,1),n=e.getContext("2d");n.drawImage.apply(n,t)}}()})}),t("runtime/html5/transport",["base","runtime/html5/runtime"],function(u,e){var i=u.noop,c=u.$;return e.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var n,e,t,i=this.owner,r=this.options,o=this._initAjax(),a=i._blob,s=r.server;r.sendAsBinary?(s+=(/\?/.test(s)?"&":"?")+c.param(i._formData),e=a.getSource()):(n=new FormData,c.each(i._formData,function(e,t){n.append(e,t)}),n.append(r.fileVal,a.getSource(),r.filename||i._formData.name||"")),r.withCredentials&&"withCredentials"in o?(o.open(r.method,s,!0),o.withCredentials=!0):o.open(r.method,s),this._setRequestHeader(o,r.headers),e?(o.overrideMimeType&&o.overrideMimeType("application/octet-stream"),u.os.android?((t=new FileReader).onload=function(){o.send(this.result),t=t.onload=null},t.readAsArrayBuffer(e)):o.send(e)):o.send(n)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var e=this._xhr;e&&(e.upload.onprogress=i,e.onreadystatechange=i,e.abort(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var n=this,e=new XMLHttpRequest,t=this.options;return!t.withCredentials||"withCredentials"in e||"undefined"==typeof XDomainRequest||(e=new XDomainRequest),e.upload.onprogress=function(e){var t=0;return e.lengthComputable&&(t=e.loaded/e.total),n.trigger("progress",t)},e.onreadystatechange=function(){return 4===e.readyState?(e.upload.onprogress=i,e.onreadystatechange=i,n._xhr=null,n._status=e.status,200<=e.status&&e.status<300?(n._response=e.responseText,n.trigger("load")):500<=e.status&&e.status<600?(n._response=e.responseText,n.trigger("error","server")):n.trigger("error",n._status?"http":"abort")):void 0},n._xhr=e},_setRequestHeader:function(n,e){c.each(e,function(e,t){n.setRequestHeader(e,t)})},_parseJson:function(e){var t;try{t=JSON.parse(e)}catch(e){t={}}return t}})}),t("runtime/html5/md5",["runtime/html5/runtime"],function(e){var a=function(e,t){return e+t&4294967295},s=function(e,t,n,i,r,o){return t=a(a(t,e),a(i,o)),a(t<<r|t>>>32-r,n)},u=function(e,t,n,i,r,o,a){return s(t&n|~t&i,e,t,r,o,a)},c=function(e,t,n,i,r,o,a){return s(t&i|n&~i,e,t,r,o,a)},l=function(e,t,n,i,r,o,a){return s(t^n^i,e,t,r,o,a)},f=function(e,t,n,i,r,o,a){return s(n^(t|~i),e,t,r,o,a)},h=function(e,t){var n=e[0],i=e[1],r=e[2],o=e[3];n=u(n,i,r,o,t[0],7,-680876936),o=u(o,n,i,r,t[1],12,-389564586),r=u(r,o,n,i,t[2],17,606105819),i=u(i,r,o,n,t[3],22,-1044525330),n=u(n,i,r,o,t[4],7,-176418897),o=u(o,n,i,r,t[5],12,1200080426),r=u(r,o,n,i,t[6],17,-1473231341),i=u(i,r,o,n,t[7],22,-45705983),n=u(n,i,r,o,t[8],7,1770035416),o=u(o,n,i,r,t[9],12,-1958414417),r=u(r,o,n,i,t[10],17,-42063),i=u(i,r,o,n,t[11],22,-1990404162),n=u(n,i,r,o,t[12],7,1804603682),o=u(o,n,i,r,t[13],12,-40341101),r=u(r,o,n,i,t[14],17,-1502002290),i=u(i,r,o,n,t[15],22,1236535329),n=c(n,i,r,o,t[1],5,-165796510),o=c(o,n,i,r,t[6],9,-1069501632),r=c(r,o,n,i,t[11],14,643717713),i=c(i,r,o,n,t[0],20,-373897302),n=c(n,i,r,o,t[5],5,-701558691),o=c(o,n,i,r,t[10],9,38016083),r=c(r,o,n,i,t[15],14,-660478335),i=c(i,r,o,n,t[4],20,-405537848),n=c(n,i,r,o,t[9],5,568446438),o=c(o,n,i,r,t[14],9,-1019803690),r=c(r,o,n,i,t[3],14,-187363961),i=c(i,r,o,n,t[8],20,1163531501),n=c(n,i,r,o,t[13],5,-1444681467),o=c(o,n,i,r,t[2],9,-51403784),r=c(r,o,n,i,t[7],14,1735328473),i=c(i,r,o,n,t[12],20,-1926607734),n=l(n,i,r,o,t[5],4,-378558),o=l(o,n,i,r,t[8],11,-2022574463),r=l(r,o,n,i,t[11],16,1839030562),i=l(i,r,o,n,t[14],23,-35309556),n=l(n,i,r,o,t[1],4,-1530992060),o=l(o,n,i,r,t[4],11,1272893353),r=l(r,o,n,i,t[7],16,-155497632),i=l(i,r,o,n,t[10],23,-1094730640),n=l(n,i,r,o,t[13],4,681279174),o=l(o,n,i,r,t[0],11,-358537222),r=l(r,o,n,i,t[3],16,-722521979),i=l(i,r,o,n,t[6],23,76029189),n=l(n,i,r,o,t[9],4,-640364487),o=l(o,n,i,r,t[12],11,-421815835),r=l(r,o,n,i,t[15],16,530742520),i=l(i,r,o,n,t[2],23,-995338651),n=f(n,i,r,o,t[0],6,-198630844),o=f(o,n,i,r,t[7],10,1126891415),r=f(r,o,n,i,t[14],15,-1416354905),i=f(i,r,o,n,t[5],21,-57434055),n=f(n,i,r,o,t[12],6,1700485571),o=f(o,n,i,r,t[3],10,-1894986606),r=f(r,o,n,i,t[10],15,-1051523),i=f(i,r,o,n,t[1],21,-2054922799),n=f(n,i,r,o,t[8],6,1873313359),o=f(o,n,i,r,t[15],10,-30611744),r=f(r,o,n,i,t[6],15,-1560198380),i=f(i,r,o,n,t[13],21,1309151649),n=f(n,i,r,o,t[4],6,-145523070),o=f(o,n,i,r,t[11],10,-1120210379),r=f(r,o,n,i,t[2],15,718787259),i=f(i,r,o,n,t[9],21,-343485551),e[0]=a(n,e[0]),e[1]=a(i,e[1]),e[2]=a(r,e[2]),e[3]=a(o,e[3])},d=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},p=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},i=function(e){var t,n,i,r,o,a,s=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)h(u,d(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),55<t)for(h(u,i),t=0;t<16;t+=1)i[t]=0;return r=(r=8*s).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),a=parseInt(r[1],16)||0,i[14]=o,i[15]=a,h(u,i),u},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=function(e){var t,n="";for(t=0;t<4;t+=1)n+=r[e>>8*t+4&15]+r[e>>8*t&15];return n},g=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=n(e[t]);return e.join("")},t=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==function(e){return g(i(e))}("hello")&&(a=function(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}),t.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},t.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)h(this._state,d(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},t.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=e?this._state:g(this._state),this.reset(),n},t.prototype._finish=function(e,t){var n,i,r,o=t;if(e[o>>2]|=128<<(o%4<<3),55<o)for(h(this._state,e),o=0;o<16;o+=1)e[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),r=parseInt(n[1],16)||0,e[14]=i,e[15]=r,h(this._state,e)},t.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},t.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},t.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=i(e);return t?n:g(n)},t.hashBinary=function(e,t){var n=i(e);return t?n:g(n)},(t.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),i=n.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)h(this._state,p(n.subarray(t-64,t)));return this._buff=t-64<i?n.subarray(t-64):new Uint8Array(0),this},t.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=e?this._state:g(this._state),this.reset(),n},t.ArrayBuffer.prototype._finish=t.prototype._finish,t.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},t.ArrayBuffer.prototype.destroy=t.prototype.destroy,t.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,i=new Uint8Array(n+t.byteLength);return i.set(e),i.set(new Uint8Array(t),n),i},t.ArrayBuffer.hash=function(e,t){var n=function(e){var t,n,i,r,o,a,s=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;s>=t;t+=64)h(u,p(e.subarray(t-64,t)));for(e=s>t-64?e.subarray(t-64):new Uint8Array(0),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(h(u,i),t=0;16>t;t+=1)i[t]=0;return r=(r=8*s).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),a=parseInt(r[1],16)||0,i[14]=o,i[15]=a,h(u,i),u}(new Uint8Array(e));return t?n:g(n)},e.register("Md5",{init:function(){},loadFromBlob:function(n){var i,r,o=n.getSource(),a=2097152,s=Math.ceil(o.size/a),u=0,c=this.owner,l=new t.ArrayBuffer,f=this,h=o.mozSlice||o.webkitSlice||o.slice;r=new FileReader,(i=function(){var e,t;e=u*a,t=Math.min(e+a,o.size),r.onload=function(e){l.append(e.target.result),c.trigger("progress",{total:n.size,loaded:t})},r.onloadend=function(){r.onloadend=r.onload=null,++u<s?setTimeout(i,1):setTimeout(function(){c.trigger("load"),f.result=l.end(),i=n=o=l=null,c.trigger("complete")},50)},r.readAsArrayBuffer(h.call(o,e,t))})()},getResult:function(){return this.result}})}),t("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(u,n,i){function e(){var o={},a={},e=this.destroy,s=this,t=u.guid("webuploader_");n.apply(s,arguments),s.type="flash",s.exec=function(e,t){var n,i=this.uid,r=u.slice(arguments,2);return a[i]=this,c[e]&&(o[i]||(o[i]=new c[e](this,s)),(n=o[i])[t])?n[t].apply(n,r):s.flashExec.apply(this,arguments)},l[t]=function(){var e=arguments;setTimeout(function(){(function(e,t){var n,i,r=e.type||e;n=r.split("::"),i=n[0],"Ready"===(r=n[1])&&i===s.uid?s.trigger("ready"):a[i]&&a[i].trigger(r.toLowerCase(),e,t)}).apply(null,e)},1)},this.jsreciver=t,this.destroy=function(){return e&&e.apply(this,arguments)},this.flashExec=function(e,t){var n=s.getFlash(),i=u.slice(arguments,2);return n.exec(this.uid,e,t,i)}}var r=u.$,c={};return u.inherits(n,{constructor:e,init:function(){var e,t=this.getContainer(),n=this.options;t.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),e='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+n.swf+'" ',u.browser.ie&&(e+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),e+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+n.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',t.html(e)},getFlash:function(){return this._flash||(this._flash=r("#"+this.uid).get(0)),this._flash}}),e.register=function(e,t){return t=c[e]=u.inherits(i,r.extend({flashExec:function(){var e=this.owner,t=this.getRuntime();return t.flashExec.apply(e,arguments)}},t))},11.4<=function(){var t;try{t=(t=navigator.plugins["Shockwave Flash"]).description}catch(e){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(e){t="0.0"}}return t=t.match(/\d+/g),parseFloat(t[0]+"."+t[1],10)}()&&n.addRuntime("flash",e),e}),t("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(e,t){var r=e.$;return t.register("FilePicker",{init:function(e){var t,n,i=r.extend({},e);for(t=i.accept&&i.accept.length,n=0;n<t;n++)i.accept[n].title||(i.accept[n].title="Files");delete i.button,delete i.id,delete i.container,this.flashExec("FilePicker","init",i)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),t("runtime/flash/image",["runtime/flash/runtime"],function(e){return e.register("Image",{loadFromBlob:function(e){var t=this.owner;t.info()&&this.flashExec("Image","info",t.info()),t.meta()&&this.flashExec("Image","meta",t.meta()),this.flashExec("Image","loadFromBlob",e.uid)}})}),t("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(e,t,n){var a=e.$;return t.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var e,t=this.owner,n=this.options,i=this._initAjax(),r=t._blob,o=n.server;i.connectRuntime(r.ruid),n.sendAsBinary?(o+=(/\?/.test(o)?"&":"?")+a.param(t._formData),e=r.uid):(a.each(t._formData,function(e,t){i.exec("append",e,t)}),i.exec("appendBlob",n.fileVal,r.uid,n.filename||t._formData.name||"")),this._setRequestHeader(i,n.headers),i.exec("send",{method:n.method,url:o,forceURLStream:n.forceURLStream,mimeType:"application/octet-stream"},e)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var e=this._xhr;e&&(e.exec("abort"),e.destroy(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var r=this,o=new n("XMLHttpRequest");return o.on("uploadprogress progress",function(e){var t=e.loaded/e.total;return t=Math.min(1,Math.max(0,t)),r.trigger("progress",t)}),o.on("load",function(){var e,t=o.exec("getStatus"),n=!1,i="";return o.off(),r._xhr=null,200<=t&&t<300?n=!0:i=500<=t&&t<600?(n=!0,"server"):"http",n&&(r._response=o.exec("getResponse"),r._response=decodeURIComponent(r._response),e=l.JSON&&l.JSON.parse||function(e){try{return new Function("return "+e).call()}catch(e){return{}}},r._responseJson=r._response?e(r._response):{}),o.destroy(),o=null,i?r.trigger("error",i):r.trigger("load")}),o.on("error",function(){o.off(),r._xhr=null,r.trigger("error","http")}),r._xhr=o},_setRequestHeader:function(n,e){a.each(e,function(e,t){n.exec("setRequestHeader",e,t)})}})}),t("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(e,i){return e.register("Blob",{slice:function(e,t){var n=this.flashExec("Blob","slice",e,t);return new i(n.uid,n)}})}),t("runtime/flash/md5",["runtime/flash/runtime"],function(e){return e.register("Md5",{init:function(){},loadFromBlob:function(e){return this.flashExec("Md5","loadFromBlob",e.uid)}})}),t("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(e){return e}),t("widgets/log",["base","uploader","widgets/widget"],function(e,t){function i(e){var t=o.extend({},r,e),n=" http://static.tieba.baidu.com/tb/pms/img/st.gif??".replace(/^(.*)\?/,"$1"+o.param(t)),i=new Image;i.src=n}var r,o=e.$,n=(location.hostname||location.host||"protected").toLowerCase(),a=n&&/baidu/i.exec(n);if(a)return r={dv:3,master:"webuploader",online:/test/.exec(n)?0:1,module:"",product:n,type:0},t.register({name:"log",init:function(){var e=this.owner,t=0,n=0;e.on("error",function(e){i({type:2,c_error_code:e})}).on("uploadError",function(e,t){i({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+t})}).on("uploadComplete",function(e){t++,n+=e.size}).on("uploadFinished",function(){i({c_count:t,c_size:n}),t=n=0}),i({c_usage:1})}})}),t("webuploader",["preset/all","widgets/log"],function(e){return e}),n("webuploader")));var l,t,n}var t,s={},a=function(e,t,n){var i,r={exports:t};"function"==typeof t&&(n.length||(n=[o,r.exports,r]),void 0!==(i=t.apply(null,n))&&(r.exports=i)),s[e]=r.exports},u=function(e){var t=s[e]||i[e];if(!t)throw new Error("`"+e+"` is undefined");return t};"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(["jquery"],e):(t=i.WebUploader,i.WebUploader=e(),i.WebUploader.noConflict=function(){i.WebUploader=t})}(window);
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).nipplejs=t()}}(function(){var n,t=!!("ontouchstart"in window),e=!!window.PointerEvent,i=!!window.MSPointerEvent,o={start:"mousedown",move:"mousemove",end:"mouseup"},r={};e?n={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:i?n={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:t?(n={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},r=o):n=o;var h={};function s(){}function p(t,e){return this.identifier=e.identifier,this.position=e.position,this.frontPosition=e.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1},this.config(e),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=p.id,p.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}function d(t,e){var i=this;return i.nipples=[],i.idles=[],i.actives=[],i.ids=[],i.pressureIntervals={},i.manager=t,i.id=d.id,d.id+=1,i.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1},i.config(e),"static"!==i.options.mode&&"semi"!==i.options.mode||(i.options.multitouch=!1),i.options.multitouch||(i.options.maxNumberOfNipples=1),i.updateBox(),i.prepareNipples(),i.bindings(),i.begin(),i.nipples}function a(t){var e,n=this;return n.ids={},n.index=0,n.collections=[],n.config(t),n.prepareCollections(),h.bindEvt(window,"resize",function(t){clearTimeout(e),e=setTimeout(function(){var e,i=h.getScroll();n.collections.forEach(function(t){t.forEach(function(t){e=t.el.getBoundingClientRect(),t.position={x:i.x+e.left,y:i.y+e.top}})})},100)}),n.collections}h.distance=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},h.angle=function(t,e){var i=e.x-t.x,n=e.y-t.y;return h.degrees(Math.atan2(n,i))},h.findCoord=function(t,e,i){var n={x:0,y:0};return i=h.radians(i),n.x=t.x-e*Math.cos(i),n.y=t.y-e*Math.sin(i),n},h.radians=function(t){return t*(Math.PI/180)},h.degrees=function(t){return t*(180/Math.PI)},h.bindEvt=function(t,e,i){for(var n,o=e.split(/[ ,]+/g),r=0;r<o.length;r+=1)n=o[r],t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent&&t.attachEvent(n,i)},h.unbindEvt=function(t,e,i){for(var n,o=e.split(/[ ,]+/g),r=0;r<o.length;r+=1)n=o[r],t.removeEventListener?t.removeEventListener(n,i):t.detachEvent&&t.detachEvent(n,i)},h.trigger=function(t,e,i){var n=new CustomEvent(e,i);t.dispatchEvent(n)},h.prepareEvent=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},h.getScroll=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},h.applyPosition=function(t,e){e.top||e.right||e.bottom||e.left?(t.style.top=e.top,t.style.right=e.right,t.style.bottom=e.bottom,t.style.left=e.left):(t.style.left=e.x+"px",t.style.top=e.y+"px")},h.getTransitionStyle=function(t,e,i){var n=h.configStylePropertyObject(t);for(var o in n)if(n.hasOwnProperty(o))if("string"==typeof e)n[o]=e+" "+i;else{for(var r="",s=0,d=e.length;s<d;s+=1)r+=e[s]+" "+i+", ";n[o]=r.slice(0,-2)}return n},h.getVendorStyle=function(t,e){var i=h.configStylePropertyObject(t);for(var n in i)i.hasOwnProperty(n)&&(i[n]=e);return i},h.configStylePropertyObject=function(e){var i={};i[e]="";return["webkit","Moz","o"].forEach(function(t){i[t+e.charAt(0).toUpperCase()+e.slice(1)]=""}),i},h.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},h.safeExtend=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)?i[n]=e[n]:t.hasOwnProperty(n)&&(i[n]=t[n]);return i},h.map=function(t,e){if(t.length)for(var i=0,n=t.length;i<n;i+=1)e(t[i]);else e(t)},s.prototype.on=function(t,e){var i,n=this,o=t.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var r=0;r<o.length;r+=1)i=o[r],n._handlers_[i]=n._handlers_[i]||[],n._handlers_[i].push(e);return n},s.prototype.off=function(t,e){var i=this;return i._handlers_=i._handlers_||{},void 0===t?i._handlers_={}:void 0===e?i._handlers_[t]=null:i._handlers_[t]&&0<=i._handlers_[t].indexOf(e)&&i._handlers_[t].splice(i._handlers_[t].indexOf(e),1),i},s.prototype.trigger=function(t,e){var i,n=this,o=t.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var r=0;r<o.length;r+=1)i=o[r],n._handlers_[i]&&n._handlers_[i].length&&n._handlers_[i].forEach(function(t){t.call(n,{type:i,target:n},e)})},s.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=h.safeExtend(this.options,t))},s.prototype.bindEvt=function(t,e){var i=this;return i._domHandlers_=i._domHandlers_||{},i._domHandlers_[e]=function(){"function"==typeof i["on"+e]?i["on"+e].apply(i,arguments):console.warn('[WARNING] : Missing "on'+e+'" handler.')},h.bindEvt(t,n[e],i._domHandlers_[e]),r[e]&&h.bindEvt(t,r[e],i._domHandlers_[e]),i},s.prototype.unbindEvt=function(t,e){var i=this;return i._domHandlers_=i._domHandlers_||{},h.unbindEvt(t,n[e],i._domHandlers_[e]),r[e]&&h.unbindEvt(t,r[e],i._domHandlers_[e]),delete i._domHandlers_[e],this},p.prototype=new s,(p.constructor=p).id=0,p.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},p.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",e=h.getVendorStyle("borderRadius","50%"),i=h.getTransitionStyle("transition","opacity",t),n={};return n.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},n.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},n.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},h.extend(n.el,i),h.extend(n.back,e),h.extend(n.front,e),this.applyStyles(n),this},p.prototype.applyStyles=function(t){for(var e in this.ui)if(this.ui.hasOwnProperty(e))for(var i in t[e])this.ui[e].style[i]=t[e][i];return this},p.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},p.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},p.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},p.prototype.show=function(t){var e=this;return e.options.dataOnly||(clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.addToDom(),e.restCallback(),setTimeout(function(){e.ui.el.style.opacity=1},0),e.showTimeout=setTimeout(function(){e.trigger("shown",e.instance),"function"==typeof t&&t.call(this)},e.options.fadeTime)),e},p.prototype.hide=function(e){var i=this;return i.options.dataOnly||(i.ui.el.style.opacity=i.options.restOpacity,clearTimeout(i.removeTimeout),clearTimeout(i.showTimeout),clearTimeout(i.restTimeout),i.removeTimeout=setTimeout(function(){var t="dynamic"===i.options.mode?"none":"block";i.ui.el.style.display=t,"function"==typeof e&&e.call(i),i.trigger("hidden",i.instance)},i.options.fadeTime),i.options.restJoystick&&i.restPosition()),i},p.prototype.restPosition=function(t){var e=this;e.frontPosition={x:0,y:0};var i=e.options.fadeTime+"ms",n={};n.front=h.getTransitionStyle("transition",["top","left"],i);var o={front:{}};o.front={left:e.frontPosition.x+"px",top:e.frontPosition.y+"px"},e.applyStyles(n),e.applyStyles(o),e.restTimeout=setTimeout(function(){"function"==typeof t&&t.call(e),e.restCallback()},e.options.fadeTime)},p.prototype.restCallback=function(){var t={};t.front=h.getTransitionStyle("transition","none",""),this.applyStyles(t),this.trigger("rested",this.instance)},p.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},p.prototype.computeDirection=function(t){var e,i,n,o=t.angle.radian,r=Math.PI/4,s=Math.PI/2;if(r<o&&o<3*r&&!t.lockX?e="up":-r<o&&o<=r&&!t.lockY?e="left":3*-r<o&&o<=-r&&!t.lockX?e="down":t.lockY||(e="right"),t.lockY||(i=-s<o&&o<s?"left":"right"),t.lockX||(n=0<o?"up":"down"),t.force>this.options.threshold){var d={};for(var a in this.direction)this.direction.hasOwnProperty(a)&&(d[a]=this.direction[a]);var p={};for(var a in this.direction={x:i,y:n,angle:e},t.direction=this.direction,d)d[a]===this.direction[a]&&(p[a]=!0);if(p.x&&p.y&&p.angle)return t;p.x&&p.y||this.trigger("plain",t),p.x||this.trigger("plain:"+i,t),p.y||this.trigger("plain:"+n,t),p.angle||this.trigger("dir dir:"+e,t)}return t},d.prototype=new s,(d.constructor=d).id=0,d.prototype.prepareNipples=function(){var t=this,n=t.nipples;n.on=t.on.bind(t),n.off=t.off.bind(t),n.options=t.options,n.destroy=t.destroy.bind(t),n.ids=t.ids,n.id=t.id,n.processOnMove=t.processOnMove.bind(t),n.processOnEnd=t.processOnEnd.bind(t),n.get=function(t){if(void 0===t)return n[0];for(var e=0,i=n.length;e<i;e+=1)if(n[e].identifier===t)return n[e];return!1}},d.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},d.prototype.begin=function(){var t=this.options;if("static"===t.mode){var e=this.createNipple(t.position,this.manager.getIdentifier());e.add(),this.idles.push(e)}},d.prototype.createNipple=function(t,e){var i=this,n=h.getScroll(),o={},r=i.options;if(t.x&&t.y)o={x:t.x-(n.x+i.box.left),y:t.y-(n.y+i.box.top)};else if(t.top||t.right||t.bottom||t.left){var s=document.createElement("DIV");s.style.display="hidden",s.style.top=t.top,s.style.right=t.right,s.style.bottom=t.bottom,s.style.left=t.left,s.style.position="absolute",r.zone.appendChild(s);var d=s.getBoundingClientRect();r.zone.removeChild(s),o=t,t={x:d.left+n.x,y:d.top+n.y}}var a=new p(i,{color:r.color,size:r.size,threshold:r.threshold,fadeTime:r.fadeTime,dataOnly:r.dataOnly,restJoystick:r.restJoystick,restOpacity:r.restOpacity,mode:r.mode,identifier:e,position:t,zone:r.zone,frontPosition:{x:0,y:0}});return r.dataOnly||(h.applyPosition(a.ui.el,o),h.applyPosition(a.ui.front,a.frontPosition)),i.nipples.push(a),i.trigger("added "+a.identifier+":added",a),i.manager.trigger("added "+a.identifier+":added",a),i.bindNipple(a),a},d.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},d.prototype.bindNipple=function(t){function e(t,e){i=t.type+" "+e.id+":"+t.type,n.trigger(i,e)}var i,n=this;t.on("destroyed",n.onDestroyed.bind(n)),t.on("shown hidden rested dir plain",e),t.on("dir:up dir:right dir:down dir:left",e),t.on("plain:up plain:right plain:down plain:left",e)},d.prototype.pressureFn=function(e,i,t){var n=this,o=0;clearInterval(n.pressureIntervals[t]),n.pressureIntervals[t]=setInterval(function(){var t=e.force||e.pressure||e.webkitForce||0;t!==o&&(i.trigger("pressure",t),n.trigger("pressure "+i.identifier+":pressure",t),o=t)}.bind(n),100)},d.prototype.onstart=function(t){var e=this,i=e.options;t=h.prepareEvent(t),e.updateBox();return h.map(t,function(t){e.actives.length<i.maxNumberOfNipples&&e.processOnStart(t)}),e.manager.bindDocument(),!1},d.prototype.processOnStart=function(e){var t,i=this,n=i.options,o=i.manager.getIdentifier(e),r=e.force||e.pressure||e.webkitForce||0,s={x:e.pageX,y:e.pageY},d=i.getOrCreate(o,s);d.identifier!==o&&i.manager.removeIdentifier(d.identifier),d.identifier=o;function a(t){t.evt=e,t.trigger("start",t),i.trigger("start "+t.id+":start",t),t.show(),0<r&&i.pressureFn(e,t,t.identifier),i.processOnMove(e)}if(0<=(t=i.idles.indexOf(d))&&i.idles.splice(t,1),i.actives.push(d),i.ids.push(d.identifier),"semi"!==n.mode)a(d);else{if(!(h.distance(s,d.position)<=n.catchDistance))return d.destroy(),void i.processOnStart(e);a(d)}return d},d.prototype.getOrCreate=function(t,e){var i,n=this,o=n.options;return/(semi|static)/.test(o.mode)?(i=n.idles[0])?(n.idles.splice(0,1),i):"semi"===o.mode?n.createNipple(e,t):(console.warn("Coudln't find the needed nipple."),!1):i=n.createNipple(e,t)},d.prototype.processOnMove=function(t){var e=this,i=e.options,n=e.manager.getIdentifier(t),o=e.nipples.get(n);if(!o)return console.error("Found zombie joystick with ID "+n),void e.manager.removeIdentifier(n);o.identifier=n;var r=o.options.size/2,s={x:t.pageX,y:t.pageY},d=h.distance(s,o.position),a=h.angle(s,o.position),p=h.radians(a),c=d/r;r<d&&(d=r,s=h.findCoord(o.position,d,a));var l=s.x-o.position.x,u=s.y-o.position.y;i.lockX&&(u=0),i.lockY&&(l=0),o.frontPosition={x:l,y:u},i.dataOnly||h.applyPosition(o.ui.front,o.frontPosition);var f={identifier:o.identifier,position:s,force:c,pressure:t.force||t.pressure||t.webkitForce||0,distance:d,angle:{radian:p,degree:a},instance:o,lockX:i.lockX,lockY:i.lockY};(f=o.computeDirection(f)).angle={radian:h.radians(180-a),degree:180-a},f.evt=t,o.trigger("move",f),e.trigger("move "+o.id+":move",f)},d.prototype.processOnEnd=function(t){var e=this,i=e.options,n=e.manager.getIdentifier(t),o=e.nipples.get(n),r=e.manager.removeIdentifier(o.identifier);o&&(i.dataOnly||o.hide(function(){"dynamic"===i.mode&&(o.trigger("removed",o),e.trigger("removed "+o.id+":removed",o),e.manager.trigger("removed "+o.id+":removed",o),o.destroy())}),clearInterval(e.pressureIntervals[o.identifier]),o.resetDirection(),o.trigger("end",o),e.trigger("end "+o.id+":end",o),0<=e.ids.indexOf(o.identifier)&&e.ids.splice(e.ids.indexOf(o.identifier),1),0<=e.actives.indexOf(o)&&e.actives.splice(e.actives.indexOf(o),1),/(semi|static)/.test(i.mode)?e.idles.push(o):0<=e.nipples.indexOf(o)&&e.nipples.splice(e.nipples.indexOf(o),1),e.manager.unbindDocument(),/(semi|static)/.test(i.mode)&&(e.manager.ids[r.id]=r.identifier))},d.prototype.onDestroyed=function(t,e){var i=this;0<=i.nipples.indexOf(e)&&i.nipples.splice(i.nipples.indexOf(e),1),0<=i.actives.indexOf(e)&&i.actives.splice(i.actives.indexOf(e),1),0<=i.idles.indexOf(e)&&i.idles.splice(i.idles.indexOf(e),1),0<=i.ids.indexOf(e.identifier)&&i.ids.splice(i.ids.indexOf(e.identifier),1),i.manager.removeIdentifier(e.identifier),i.manager.unbindDocument()},d.prototype.destroy=function(){var t=this;for(var e in t.unbindEvt(t.options.zone,"start"),t.nipples.forEach(function(t){t.destroy()}),t.pressureIntervals)t.pressureIntervals.hasOwnProperty(e)&&clearInterval(t.pressureIntervals[e]);t.trigger("destroyed",t.nipples),t.manager.unbindDocument(),t.off()},a.prototype=new s,(a.constructor=a).prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(e){var i;return t.collections.every(function(t){return!(i=t.get(e))}),i}},a.prototype.create=function(t){return this.createCollection(t)},a.prototype.createCollection=function(t){var e=new d(this,t);return this.bindCollection(e),this.collections.push(e),e},a.prototype.bindCollection=function(t){function e(t,e){i=t.type+" "+e.id+":"+t.type,n.trigger(i,e)}var i,n=this;t.on("destroyed",n.onDestroyed.bind(n)),t.on("shown hidden rested dir plain",e),t.on("dir:up dir:right dir:down dir:left",e),t.on("plain:up plain:right plain:down plain:left",e)},a.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},a.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},a.prototype.getIdentifier=function(t){var e;return t?void 0===(e=void 0===t.identifier?t.pointerId:t.identifier)&&(e=this.latest||0):e=this.index,void 0===this.ids[e]&&(this.ids[e]=this.index,this.index+=1),this.latest=e,this.ids[e]},a.prototype.removeIdentifier=function(t){var e={};for(var i in this.ids)if(this.ids[i]===t){e.id=i,e.identifier=this.ids[i],delete this.ids[i];break}return e},a.prototype.onmove=function(t){return this.onAny("move",t),!1},a.prototype.onend=function(t){return this.onAny("end",t),!1},a.prototype.oncancel=function(t){return this.onAny("end",t),!1},a.prototype.onAny=function(t,e){var i,n=this,o="processOn"+t.charAt(0).toUpperCase()+t.slice(1);e=h.prepareEvent(e);return h.map(e,function(t){i=n.getIdentifier(t),h.map(n.collections,function(t,e,i){0<=i.ids.indexOf(e)&&(i[o](t),t._found_=!0)}.bind(null,t,i)),t._found_||n.removeIdentifier(i)}),!1},a.prototype.destroy=function(){var t=this;t.unbindDocument(!0),t.ids={},t.index=0,t.collections.forEach(function(t){t.destroy()}),t.off()},a.prototype.onDestroyed=function(t,e){if(this.collections.indexOf(e)<0)return!1;this.collections.splice(this.collections.indexOf(e),1)};var c=new a;return{create:function(t){return c.create(t)},factory:c}});
!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).xz=t()}(function(){return function r(s,o,l){function h(e,t){if(!o[e]){if(!s[e]){var a="function"==typeof require&&require;if(!t&&a)return a(e,!0);if(d)return d(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var n=o[e]={exports:{}};s[e][0].call(n.exports,function(t){return h(s[e][1][t]||t)},n,n.exports,r,s,o,l)}return o[e].exports}for(var d="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,a){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=o.assign({level:_,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var a=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==f)throw new Error(r[a]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=s.deflateSetDictionary(this.strm,i))!==f)throw new Error(r[a]);this._dict_set=!0}}function i(t,e){var a=new n(e);if(a.push(t,!0),a.err)throw a.msg||r[a.err];return a.result}var s=t("./zlib/deflate"),o=t("./utils/common"),l=t("./utils/strings"),r=t("./zlib/messages"),h=t("./zlib/zstream"),d=Object.prototype.toString,f=0,_=-1,u=0,c=8;n.prototype.push=function(t,e){var a,i,n=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?n.input=l.string2buf(t):"[object ArrayBuffer]"===d.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new o.Buf8(r),n.next_out=0,n.avail_out=r),1!==(a=s.deflate(n,i))&&a!==f)return this.onEnd(a),!(this.ended=!0);0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(l.buf2binstring(o.shrinkBuf(n.output,n.next_out))):this.onData(o.shrinkBuf(n.output,n.next_out)))}while((0<n.avail_in||0===n.avail_out)&&1!==a);return 4===i?(a=s.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===f):2!==i||(this.onEnd(f),!(n.avail_out=0))},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=n,a.deflate=i,a.deflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},a.gzip=function(t,e){return(e=e||{}).gzip=!0,i(t,e)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,a){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var a=_.inflateInit2(this.strm,e.windowBits);if(a!==b.Z_OK)throw new Error(r[a]);this.header=new o,_.inflateGetHeader(this.strm,this.header)}function n(t,e){var a=new i(e);if(a.push(t,!0),a.err)throw a.msg||r[a.err];return a.result}var _=t("./zlib/inflate"),u=t("./utils/common"),c=t("./utils/strings"),b=t("./zlib/constants"),r=t("./zlib/messages"),s=t("./zlib/zstream"),o=t("./zlib/gzheader"),g=Object.prototype.toString;i.prototype.push=function(t,e){var a,i,n,r,s,o,l=this.strm,h=this.options.chunkSize,d=this.options.dictionary,f=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?b.Z_FINISH:b.Z_NO_FLUSH,"string"==typeof t?l.input=c.binstring2buf(t):"[object ArrayBuffer]"===g.call(t)?l.input=new Uint8Array(t):l.input=t,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new u.Buf8(h),l.next_out=0,l.avail_out=h),(a=_.inflate(l,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&d&&(o="string"==typeof d?c.string2buf(d):"[object ArrayBuffer]"===g.call(d)?new Uint8Array(d):d,a=_.inflateSetDictionary(this.strm,o)),a===b.Z_BUF_ERROR&&!0===f&&(a=b.Z_OK,f=!1),a!==b.Z_STREAM_END&&a!==b.Z_OK)return this.onEnd(a),!(this.ended=!0);l.next_out&&(0!==l.avail_out&&a!==b.Z_STREAM_END&&(0!==l.avail_in||i!==b.Z_FINISH&&i!==b.Z_SYNC_FLUSH)||("string"===this.options.to?(n=c.utf8border(l.output,l.next_out),r=l.next_out-n,s=c.buf2string(l.output,n),l.next_out=r,l.avail_out=h-r,r&&u.arraySet(l.output,l.output,n,r,0),this.onData(s)):this.onData(u.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(f=!0)}while((0<l.avail_in||0===l.avail_out)&&a!==b.Z_STREAM_END);return a===b.Z_STREAM_END&&(i=b.Z_FINISH),i===b.Z_FINISH?(a=_.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===b.Z_OK):i!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(l.avail_out=0))},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===b.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Inflate=i,a.inflate=n,a.inflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},a.unxz=n},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,a){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var i in a)n=a,r=i,Object.prototype.hasOwnProperty.call(n,r)&&(t[i]=a[i])}}var n,r;return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,a,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(a,a+i),n);else for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){var e,a,i,n,r,s;for(e=i=0,a=t.length;e<a;e++)i+=t[e].length;for(s=new Uint8Array(i),e=n=0,a=t.length;e<a;e++)r=t[e],s.set(r,n),n+=r.length;return s}},r={arraySet:function(t,e,a,i,n){for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,n)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,r))},a.setTyped(i)},{}],4:[function(t,e,a){"use strict";function l(t,e){if(e<65537&&(t.subarray&&r||!t.subarray&&n))return String.fromCharCode.apply(null,h.shrinkBuf(t,e));for(var a="",i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a}var h=t("./common"),n=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var d=new h.Buf8(256),i=0;i<256;i++)d[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;d[254]=d[254]=1,a.string2buf=function(t){var e,a,i,n,r,s=t.length,o=0;for(n=0;n<s;n++)55296==(64512&(a=t.charCodeAt(n)))&&n+1<s&&56320==(64512&(i=t.charCodeAt(n+1)))&&(a=65536+(a-55296<<10)+(i-56320),n++),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new h.Buf8(o),n=r=0;r<o;n++)55296==(64512&(a=t.charCodeAt(n)))&&n+1<s&&56320==(64512&(i=t.charCodeAt(n+1)))&&(a=65536+(a-55296<<10)+(i-56320),n++),a<128?e[r++]=a:(a<2048?e[r++]=192|a>>>6:(a<65536?e[r++]=224|a>>>12:(e[r++]=240|a>>>18,e[r++]=128|a>>>12&63),e[r++]=128|a>>>6&63),e[r++]=128|63&a);return e},a.buf2binstring=function(t){return l(t,t.length)},a.binstring2buf=function(t){for(var e=new h.Buf8(t.length),a=0,i=e.length;a<i;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,i,n,r,s=e||t.length,o=new Array(2*s);for(a=i=0;a<s;)if((n=t[a++])<128)o[i++]=n;else if(4<(r=d[n]))o[i++]=65533,a+=r-1;else{for(n&=2===r?31:3===r?15:7;1<r&&a<s;)n=n<<6|63&t[a++],r--;1<r?o[i++]=65533:n<65536?o[i++]=n:(n-=65536,o[i++]=55296|n>>10&1023,o[i++]=56320|1023&n)}return l(o,i)},a.utf8border=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;0<=a&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+d[t[a]]>e?a:e}},{"./common":3}],5:[function(t,e,a){"use strict";e.exports=function(t,e,a,i){for(var n=65535&t|0,r=t>>>16&65535|0,s=0;0!==a;){for(a-=s=2e3<a?2e3:a;r=r+(n=n+e[i++]|0)|0,--s;);n%=65521,r%=65521}return n|r<<16|0}},{}],6:[function(t,e,a){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,a){"use strict";var o=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}();e.exports=function(t,e,a,i){var n=o,r=i+a;t^=-1;for(var s=i;s<r;s++)t=t>>>8^n[255&(t^e[s])];return-1^t}},{}],8:[function(t,e,a){"use strict";function l(t,e){return t.msg=z[e],e}function h(t){return(t<<1)-(4<t?9:0)}function f(t){for(var e=t.length;0<=--e;)t[e]=0}function d(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(v.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function _(t,e){k._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,d(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function r(t,e){var a,i,n=t.max_chain_length,r=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-T?t.strstart-(t.w_size-T):0,h=t.window,d=t.w_mask,f=t.prev,_=t.strstart+U,u=h[r+s-1],c=h[r+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(h[(a=e)+s]===c&&h[a+s-1]===u&&h[a]===h[r]&&h[++a]===h[r+1]){r+=2,a++;do{}while(h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&r<_);if(i=U-(_-r),r=_-U,s<i){if(t.match_start=e,o<=(s=i))break;u=h[r+s-1],c=h[r+s]}}}while((e=f[e&d])>l&&0!=--n);return s<=t.lookahead?s:t.lookahead}function b(t){var e,a,i,n,r,s,o,l,h,d,f=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-T)){for(v.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=a=t.hash_size;i=t.head[--e],t.head[e]=f<=i?i-f:0,--a;);for(e=a=f;i=t.prev[--e],t.prev[e]=f<=i?i-f:0,--a;);n+=f}if(0===t.strm.avail_in)break;if(s=t.strm,o=t.window,l=t.strstart+t.lookahead,h=n,d=void 0,d=s.avail_in,h<d&&(d=h),a=0===d?0:(s.avail_in-=d,v.arraySet(o,s.input,s.next_in,d,l),1===s.state.wrap?s.adler=y(s.adler,o,d,l):2===s.state.wrap&&(s.adler=x(s.adler,o,d,l)),s.next_in+=d,s.total_in+=d,d),t.lookahead+=a,t.lookahead+t.insert>=I)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+I-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<I)););}while(t.lookahead<T&&0!==t.strm.avail_in)}function i(t,e){for(var a,i;;){if(t.lookahead<T){if(b(t),t.lookahead<T&&e===B)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=I&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-T&&(t.match_length=r(t,a)),t.match_length>=I)if(i=k._tr_tally(t,t.strstart-t.match_start,t.match_length-I),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=I){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(_(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<I-1?t.strstart:I-1,4===e?(_(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(_(t,!1),0===t.strm.avail_out)?1:2}function n(t,e){for(var a,i,n;;){if(t.lookahead<T){if(b(t),t.lookahead<T&&e===B)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=I&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=I-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-T&&(t.match_length=r(t,a),t.match_length<=5&&(1===t.strategy||t.match_length===I&&4096<t.strstart-t.match_start)&&(t.match_length=I-1)),t.prev_length>=I&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-I,i=k._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-I),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=I-1,t.strstart++,i&&(_(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=k._tr_tally(t,0,t.window[t.strstart-1]))&&_(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=k._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<I-1?t.strstart:I-1,4===e?(_(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(_(t,!1),0===t.strm.avail_out)?1:2}function s(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}function g(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(2*O),this.dyn_dtree=new v.Buf16(2*(2*C+1)),this.bl_tree=new v.Buf16(2*(2*N+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(D+1),this.heap=new v.Buf16(2*R+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(2*R+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function o(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=A,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?F:L,t.adler=2===e.wrap?0:1,e.last_flush=B,k._tr_init(e),S):l(t,E)}function m(t){var e,a=o(t);return a===S&&((e=t.state).window_size=2*e.w_size,f(e.head),e.max_lazy_match=p[e.level].max_lazy,e.good_match=p[e.level].good_length,e.nice_match=p[e.level].nice_length,e.max_chain_length=p[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=I-1,e.match_available=0,e.ins_h=0),a}function w(t,e,a,i,n,r){if(!t)return E;var s=1;if(-1===e&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),n<1||9<n||a!==Z||i<8||15<i||e<0||9<e||r<0||4<r)return l(t,E);8===i&&(i=9);var o=new g;return(t.state=o).strm=t,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+I-1)/I),o.window=new v.Buf8(2*o.w_size),o.head=new v.Buf16(o.hash_size),o.prev=new v.Buf16(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new v.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=r,o.method=a,m(t)}var p,v=t("../utils/common"),k=t("./trees"),y=t("./adler32"),x=t("./crc32"),z=t("./messages"),B=0,S=0,E=-2,A=2,Z=8,R=286,C=30,N=19,O=2*R+1,D=15,I=3,U=258,T=U+I+1,F=42,L=113;p=[new s(0,0,0,0,function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(b(t),0===t.lookahead&&e===B)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+a;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,_(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-T&&(_(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(_(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(_(t,!1),t.strm.avail_out),1)}),new s(4,4,8,4,i),new s(4,5,16,8,i),new s(4,6,32,32,i),new s(4,4,16,16,n),new s(8,16,32,32,n),new s(8,16,128,128,n),new s(8,32,128,256,n),new s(32,128,258,1024,n),new s(32,258,258,4096,n)],a.deflateInit=function(t,e){return w(t,e,Z,15,8,0)},a.deflateInit2=w,a.deflateReset=m,a.deflateResetKeep=o,a.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?E:(t.state.gzhead=e,S):E},a.deflate=function(t,e){var a,i,n,r;if(!t||!t.state||5<e||e<0)return t?l(t,E):E;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return l(t,0===t.avail_out?-5:E);if(i.strm=t,a=i.last_flush,i.last_flush=e,i.status===F)if(2===i.wrap)t.adler=0,u(i,31),u(i,139),u(i,8),i.gzhead?(u(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),u(i,255&i.gzhead.time),u(i,i.gzhead.time>>8&255),u(i,i.gzhead.time>>16&255),u(i,i.gzhead.time>>24&255),u(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),u(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(u(i,255&i.gzhead.extra.length),u(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=x(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(u(i,0),u(i,0),u(i,0),u(i,0),u(i,0),u(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),u(i,3),i.status=L);else{var s=Z+(i.w_bits-8<<4)<<8;s|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(s|=32),s+=31-s%31,i.status=L,c(i,s),0!==i.strstart&&(c(i,t.adler>>>16),c(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(t.adler=x(t.adler,i.pending_buf,i.pending-n,n)),d(t),n=i.pending,i.pending!==i.pending_buf_size));)u(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=x(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=x(t.adler,i.pending_buf,i.pending-n,n)),d(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,u(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(t.adler=x(t.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=x(t.adler,i.pending_buf,i.pending-n,n)),d(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,u(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(t.adler=x(t.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&d(t),i.pending+2<=i.pending_buf_size&&(u(i,255&t.adler),u(i,t.adler>>8&255),t.adler=0,i.status=L)):i.status=L),0!==i.pending){if(d(t),0===t.avail_out)return i.last_flush=-1,S}else if(0===t.avail_in&&h(e)<=h(a)&&4!==e)return l(t,-5);if(666===i.status&&0!==t.avail_in)return l(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==B&&666!==i.status){var o=2===i.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(b(t),0===t.lookahead)){if(e===B)return 1;break}if(t.match_length=0,a=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(_(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(_(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(_(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var a,i,n,r,s=t.window;;){if(t.lookahead<=U){if(b(t),t.lookahead<=U&&e===B)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=I&&0<t.strstart&&((i=s[n=t.strstart-1])===s[++n]&&i===s[++n]&&i===s[++n])){r=t.strstart+U;do{}while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<r);t.match_length=U-(r-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=I?(a=k._tr_tally(t,1,t.match_length-I),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(_(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(_(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(_(t,!1),0===t.strm.avail_out)?1:2}(i,e):p[i.level].func(i,e);if(3!==o&&4!==o||(i.status=666),1===o||3===o)return 0===t.avail_out&&(i.last_flush=-1),S;if(2===o&&(1===e?k._tr_align(i):5!==e&&(k._tr_stored_block(i,0,0,!1),3===e&&(f(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),d(t),0===t.avail_out))return i.last_flush=-1,S}return 4!==e?S:i.wrap<=0?1:(2===i.wrap?(u(i,255&t.adler),u(i,t.adler>>8&255),u(i,t.adler>>16&255),u(i,t.adler>>24&255),u(i,255&t.total_in),u(i,t.total_in>>8&255),u(i,t.total_in>>16&255),u(i,t.total_in>>24&255)):(c(i,t.adler>>>16),c(i,65535&t.adler)),d(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?S:1)},a.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==F&&69!==e&&73!==e&&91!==e&&103!==e&&e!==L&&666!==e?l(t,E):(t.state=null,e===L?l(t,-3):S):E},a.deflateSetDictionary=function(t,e){var a,i,n,r,s,o,l,h,d=e.length;if(!t||!t.state)return E;if(2===(r=(a=t.state).wrap)||1===r&&a.status!==F||a.lookahead)return E;for(1===r&&(t.adler=y(t.adler,e,d,0)),a.wrap=0,d>=a.w_size&&(0===r&&(f(a.head),a.strstart=0,a.block_start=0,a.insert=0),h=new v.Buf8(a.w_size),v.arraySet(h,e,d-a.w_size,a.w_size,0),e=h,d=a.w_size),s=t.avail_in,o=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,b(a);a.lookahead>=I;){for(i=a.strstart,n=a.lookahead-(I-1);a.ins_h=(a.ins_h<<a.hash_shift^a.window[i+I-1])&a.hash_mask,a.prev[i&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=i,i++,--n;);a.strstart=i,a.lookahead=I-1,b(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=I-1,a.match_available=0,t.next_in=o,t.input=l,t.avail_in=s,a.wrap=r,S},a.deflateInfo="xz deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,a){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,a){"use strict";e.exports=function(t,e){var a,i,n,r,s,o,l,h,d,f,_,u,c,b,g,m,w,p,v,k,y,x,z,B,S;a=t.state,i=t.next_in,B=t.input,n=i+(t.avail_in-5),r=t.next_out,S=t.output,s=r-(e-t.avail_out),o=r+(t.avail_out-257),l=a.dmax,h=a.wsize,d=a.whave,f=a.wnext,_=a.window,u=a.hold,c=a.bits,b=a.lencode,g=a.distcode,m=(1<<a.lenbits)-1,w=(1<<a.distbits)-1;t:do{c<15&&(u+=B[i++]<<c,c+=8,u+=B[i++]<<c,c+=8),p=b[u&m];e:for(;;){if(u>>>=v=p>>>24,c-=v,0==(v=p>>>16&255))S[r++]=65535&p;else{if(!(16&v)){if(0==(64&v)){p=b[(65535&p)+(u&(1<<v)-1)];continue e}if(32&v){a.mode=12;break t}t.msg="invalid literal/length code",a.mode=30;break t}k=65535&p,(v&=15)&&(c<v&&(u+=B[i++]<<c,c+=8),k+=u&(1<<v)-1,u>>>=v,c-=v),c<15&&(u+=B[i++]<<c,c+=8,u+=B[i++]<<c,c+=8),p=g[u&w];a:for(;;){if(u>>>=v=p>>>24,c-=v,!(16&(v=p>>>16&255))){if(0==(64&v)){p=g[(65535&p)+(u&(1<<v)-1)];continue a}t.msg="invalid distance code",a.mode=30;break t}if(y=65535&p,c<(v&=15)&&(u+=B[i++]<<c,(c+=8)<v&&(u+=B[i++]<<c,c+=8)),(y+=u&(1<<v)-1)>l){t.msg="invalid distance too far back",a.mode=30;break t}if(u>>>=v,c-=v,(v=r-s)<y){if((v=y-v)>d&&a.sane){t.msg="invalid distance too far back",a.mode=30;break t}if(z=_,(x=0)===f){if(x+=h-v,v<k){for(k-=v;S[r++]=_[x++],--v;);x=r-y,z=S}}else if(f<v){if(x+=h+f-v,(v-=f)<k){for(k-=v;S[r++]=_[x++],--v;);if(x=0,f<k){for(k-=v=f;S[r++]=_[x++],--v;);x=r-y,z=S}}}else if(x+=f-v,v<k){for(k-=v;S[r++]=_[x++],--v;);x=r-y,z=S}for(;2<k;)S[r++]=z[x++],S[r++]=z[x++],S[r++]=z[x++],k-=3;k&&(S[r++]=z[x++],1<k&&(S[r++]=z[x++]))}else{for(x=r-y;S[r++]=S[x++],S[r++]=S[x++],S[r++]=S[x++],2<(k-=3););k&&(S[r++]=S[x++],1<k&&(S[r++]=S[x++]))}break}}break}}while(i<n&&r<o);i-=k=c>>3,u&=(1<<(c-=k<<3))-1,t.next_in=i,t.next_out=r,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=r<o?o-r+257:257-(r-o),a.hold=u,a.bits=c}},{}],11:[function(t,e,a){"use strict";function Z(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new N.Buf16(320),this.work=new N.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function i(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=j,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new N.Buf32(d),e.distcode=e.distdyn=new N.Buf32(f),e.sane=1,e.back=-1,L):H}function r(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,i(t)):H}function s(t,e){var a,i;return t&&t.state?(i=t.state,e<0?(a=0,e=-e):(a=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?H:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,r(t))):H}function o(t,e){var a,i;return t?(i=new n,(t.state=i).window=null,(a=s(t,e))!==L&&(t.state=null),a):H}function R(t){if(_){var e;for(l=new N.Buf32(512),h=new N.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(U(T,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;U(F,t.lens,0,32,h,0,t.work,{bits:5}),_=!1}t.lencode=l,t.lenbits=9,t.distcode=h,t.distbits=5}function C(t,e,a,i){var n,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new N.Buf8(r.wsize)),i>=r.wsize?(N.arraySet(r.window,e,a-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>i&&(n=i),N.arraySet(r.window,e,a-i,n,r.wnext),(i-=n)?(N.arraySet(r.window,e,a-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}var l,h,N=t("../utils/common"),O=t("./adler32"),D=t("./crc32"),I=t("./inffast"),U=t("./inftrees"),T=1,F=2,L=0,H=-2,j=1,d=852,f=592,_=!0;a.inflateReset=r,a.inflateReset2=s,a.inflateResetKeep=i,a.inflateInit=function(t){return o(t,15)},a.inflateInit2=o,a.inflate=function(t,e){var a,i,n,r,s,o,l,h,d,f,_,u,c,b,g,m,w,p,v,k,y,x,z,B,S=0,E=new N.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return H;12===(a=t.state).mode&&(a.mode=13),s=t.next_out,n=t.output,l=t.avail_out,r=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,f=o,_=l,x=L;t:for(;;)switch(a.mode){case j:if(0===a.wrap){a.mode=13;break}for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(2&a.wrap&&35615===h){E[a.check=0]=255&h,E[1]=h>>>8&255,a.check=D(a.check,E,2,0),d=h=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",a.mode=30;break}if(8!=(15&h)){t.msg="unknown compression method",a.mode=30;break}if(d-=4,y=8+(15&(h>>>=4)),0===a.wbits)a.wbits=y;else if(y>a.wbits){t.msg="invalid window size",a.mode=30;break}a.dmax=1<<y,t.adler=a.check=1,a.mode=512&h?10:12,d=h=0;break;case 2:for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(a.flags=h,8!=(255&a.flags)){t.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=D(a.check,E,2,0)),d=h=0,a.mode=3;case 3:for(;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,E[2]=h>>>16&255,E[3]=h>>>24&255,a.check=D(a.check,E,4,0)),d=h=0,a.mode=4;case 4:for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=D(a.check,E,2,0)),d=h=0,a.mode=5;case 5:if(1024&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=D(a.check,E,2,0)),d=h=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&((u=a.length)>o&&(u=o),u&&(a.head&&(y=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),N.arraySet(a.head.extra,i,r,u,y)),512&a.flags&&(a.check=D(a.check,i,u,r)),o-=u,r+=u,a.length-=u),a.length))break t;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===o)break t;for(u=0;y=i[r+u++],a.head&&y&&a.length<65536&&(a.head.name+=String.fromCharCode(y)),y&&u<o;);if(512&a.flags&&(a.check=D(a.check,i,u,r)),o-=u,r+=u,y)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===o)break t;for(u=0;y=i[r+u++],a.head&&y&&a.length<65536&&(a.head.comment+=String.fromCharCode(y)),y&&u<o;);if(512&a.flags&&(a.check=D(a.check,i,u,r)),o-=u,r+=u,y)break t}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(h!==(65535&a.check)){t.msg="header crc mismatch",a.mode=30;break}d=h=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=12;break;case 10:for(;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}t.adler=a.check=Z(h),d=h=0,a.mode=11;case 11:if(0===a.havedict)return t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,2;t.adler=a.check=1,a.mode=12;case 12:if(5===e||6===e)break t;case 13:if(a.last){h>>>=7&d,d-=7&d,a.mode=27;break}for(;d<3;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}switch(a.last=1&h,--d,3&(h>>>=1)){case 0:a.mode=14;break;case 1:if(R(a),a.mode=20,6!==e)break;h>>>=2,d-=2;break t;case 2:a.mode=17;break;case 3:t.msg="invalid block type",a.mode=30}h>>>=2,d-=2;break;case 14:for(h>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&h,d=h=0,a.mode=15,6===e)break t;case 15:a.mode=16;case 16:if(u=a.length){if(o<u&&(u=o),l<u&&(u=l),0===u)break t;N.arraySet(n,i,r,u,s),o-=u,r+=u,l-=u,s+=u,a.length-=u;break}a.mode=12;break;case 17:for(;d<14;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,286<a.nlen||30<a.ndist){t.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;d<3;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.lens[A[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[A[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,z={bits:a.lenbits},x=U(0,a.lens,0,19,a.lencode,0,a.work,z),a.lenbits=z.bits,x){t.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;m=(S=a.lencode[h&(1<<a.lenbits)-1])>>>16&255,w=65535&S,!((g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(w<16)h>>>=g,d-=g,a.lens[a.have++]=w;else{if(16===w){for(B=g+2;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(h>>>=g,d-=g,0===a.have){t.msg="invalid bit length repeat",a.mode=30;break}y=a.lens[a.have-1],u=3+(3&h),h>>>=2,d-=2}else if(17===w){for(B=g+3;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}d-=g,y=0,u=3+(7&(h>>>=g)),h>>>=3,d-=3}else{for(B=g+7;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}d-=g,y=0,u=11+(127&(h>>>=g)),h>>>=7,d-=7}if(a.have+u>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=30;break}for(;u--;)a.lens[a.have++]=y}}if(30===a.mode)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,z={bits:a.lenbits},x=U(T,a.lens,0,a.nlen,a.lencode,0,a.work,z),a.lenbits=z.bits,x){t.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,z={bits:a.distbits},x=U(F,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,z),a.distbits=z.bits,x){t.msg="invalid distances set",a.mode=30;break}if(a.mode=20,6===e)break t;case 20:a.mode=21;case 21:if(6<=o&&258<=l){t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,I(t,_),s=t.next_out,n=t.output,l=t.avail_out,r=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,12===a.mode&&(a.back=-1);break}for(a.back=0;m=(S=a.lencode[h&(1<<a.lenbits)-1])>>>16&255,w=65535&S,!((g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(m&&0==(240&m)){for(p=g,v=m,k=w;m=(S=a.lencode[k+((h&(1<<p+v)-1)>>p)])>>>16&255,w=65535&S,!(p+(g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=g,d-=g,a.back+=g,a.length=w,0===m){a.mode=26;break}if(32&m){a.back=-1,a.mode=12;break}if(64&m){t.msg="invalid literal/length code",a.mode=30;break}a.extra=15&m,a.mode=22;case 22:if(a.extra){for(B=a.extra;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;m=(S=a.distcode[h&(1<<a.distbits)-1])>>>16&255,w=65535&S,!((g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(0==(240&m)){for(p=g,v=m,k=w;m=(S=a.distcode[k+((h&(1<<p+v)-1)>>p)])>>>16&255,w=65535&S,!(p+(g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=g,d-=g,a.back+=g,64&m){t.msg="invalid distance code",a.mode=30;break}a.offset=w,a.extra=15&m,a.mode=24;case 24:if(a.extra){for(B=a.extra;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(0===l)break t;if(u=_-l,a.offset>u){if((u=a.offset-u)>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=30;break}c=u>a.wnext?(u-=a.wnext,a.wsize-u):a.wnext-u,u>a.length&&(u=a.length),b=a.window}else b=n,c=s-a.offset,u=a.length;for(l<u&&(u=l),l-=u,a.length-=u;n[s++]=b[c++],--u;);0===a.length&&(a.mode=21);break;case 26:if(0===l)break t;n[s++]=a.length,l--,a.mode=21;break;case 27:if(a.wrap){for(;d<32;){if(0===o)break t;o--,h|=i[r++]<<d,d+=8}if(_-=l,t.total_out+=_,a.total+=_,_&&(t.adler=a.check=a.flags?D(a.check,n,_,s-_):O(a.check,n,_,s-_)),_=l,(a.flags?h:Z(h))!==a.check){t.msg="incorrect data check",a.mode=30;break}d=h=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(h!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=30;break}d=h=0}a.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return H}return t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,(a.wsize||_!==t.avail_out&&a.mode<30&&(a.mode<27||4!==e))&&C(t,t.output,t.next_out,_-t.avail_out)?(a.mode=31,-4):(f-=t.avail_in,_-=t.avail_out,t.total_in+=f,t.total_out+=_,a.total+=_,a.wrap&&_&&(t.adler=a.check=a.flags?D(a.check,n,_,t.next_out-_):O(a.check,n,_,t.next_out-_)),t.data_type=a.bits+(a.last?64:0)+(12===a.mode?128:0)+(20===a.mode||15===a.mode?256:0),(0===f&&0===_||4===e)&&x===L&&(x=-5),x)},a.inflateEnd=function(t){if(!t||!t.state)return H;var e=t.state;return e.window&&(e.window=null),t.state=null,L},a.inflateGetHeader=function(t,e){var a;return t&&t.state?0==(2&(a=t.state).wrap)?H:((a.head=e).done=!1,L):H},a.inflateSetDictionary=function(t,e){var a,i=e.length;return t&&t.state?0!==(a=t.state).wrap&&11!==a.mode?H:11===a.mode&&O(1,e,i,0)!==a.check?-3:C(t,e,i,i)?(a.mode=31,-4):(a.havedict=1,L):H},a.inflateInfo="xz inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,a){"use strict";var D=t("../utils/common"),I=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],U=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],T=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],F=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,a,i,n,r,s,o){var l,h,d,f,_,u,c,b,g,m=o.bits,w=0,p=0,v=0,k=0,y=0,x=0,z=0,B=0,S=0,E=0,A=null,Z=0,R=new D.Buf16(16),C=new D.Buf16(16),N=null,O=0;for(w=0;w<=15;w++)R[w]=0;for(p=0;p<i;p++)R[e[a+p]]++;for(y=m,k=15;1<=k&&0===R[k];k--);if(k<y&&(y=k),0===k)return n[r++]=20971520,n[r++]=20971520,o.bits=1,0;for(v=1;v<k&&0===R[v];v++);for(y<v&&(y=v),w=B=1;w<=15;w++)if(B<<=1,(B-=R[w])<0)return-1;if(0<B&&(0===t||1!==k))return-1;for(C[1]=0,w=1;w<15;w++)C[w+1]=C[w]+R[w];for(p=0;p<i;p++)0!==e[a+p]&&(s[C[e[a+p]]++]=p);if(u=0===t?(A=N=s,19):1===t?(A=I,Z-=257,N=U,O-=257,256):(A=T,N=F,-1),w=v,_=r,z=p=E=0,d=-1,f=(S=1<<(x=y))-1,1===t&&852<S||2===t&&592<S)return 1;for(;;){for(c=w-z,g=s[p]<u?(b=0,s[p]):s[p]>u?(b=N[O+s[p]],A[Z+s[p]]):(b=96,0),l=1<<w-z,v=h=1<<x;n[_+(E>>z)+(h-=l)]=c<<24|b<<16|g|0,0!==h;);for(l=1<<w-1;E&l;)l>>=1;if(0!==l?(E&=l-1,E+=l):E=0,p++,0==--R[w]){if(w===k)break;w=e[a+s[p]]}if(y<w&&(E&f)!==d){for(0===z&&(z=y),_+=v,B=1<<(x=w-z);x+z<k&&!((B-=R[x+z])<=0);)x++,B<<=1;if(S+=1<<x,1===t&&852<S||2===t&&592<S)return 1;n[d=E&f]=y<<24|x<<16|_-r|0}}return 0!==E&&(n[_+E]=w-z<<24|64<<16|0),o.bits=y,0}},{"../utils/common":3}],13:[function(t,e,a){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,a){"use strict";function i(t){for(var e=t.length;0<=--e;)t[e]=0}function s(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function n(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function l(t){return t<256?D[t]:D[256+(t>>>7)]}function h(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function d(t,e,a){t.bi_valid>z-a?(t.bi_buf|=e<<t.bi_valid&65535,h(t,t.bi_buf),t.bi_buf=e>>z-t.bi_valid,t.bi_valid+=a-z):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function f(t,e,a){d(t,a[2*e],a[2*e+1])}function _(t,e){for(var a=0;a|=1&t,t>>>=1,a<<=1,0<--e;);return a>>>1}function u(t,e,a){var i,n,r=new Array(x+1),s=0;for(i=1;i<=x;i++)r[i]=s=s+a[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=_(r[o]++,o))}}function o(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function c(t){8<t.bi_valid?h(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function r(t,e,a,i){var n=2*e,r=2*a;return t[n]<t[r]||t[n]===t[r]&&i[e]<=i[a]}function b(t,e,a){for(var i=t.heap[a],n=a<<1;n<=t.heap_len&&(n<t.heap_len&&r(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!r(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i}function g(t,e,a){var i,n,r,s,o=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],n=t.pending_buf[t.l_buf+o],o++,0===i?f(t,n,e):(f(t,(r=I[n])+256+1,e),0!==(s=A[r])&&d(t,n-=U[r],s),f(t,r=l(--i),a),0!==(s=Z[r])&&d(t,i-=T[r],s)),o<t.last_lit;);f(t,256,e)}function m(t,e){var a,i,n,r=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=y,a=0;a<l;a++)0!==r[2*a]?(t.heap[++t.heap_len]=h=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)r[2*(n=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=s[2*n+1]);for(e.max_code=h,a=t.heap_len>>1;1<=a;a--)b(t,r,a);for(n=l;a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],b(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=i,r[2*n]=r[2*a]+r[2*i],t.depth[n]=(t.depth[a]>=t.depth[i]?t.depth[a]:t.depth[i])+1,r[2*a+1]=r[2*i+1]=n,t.heap[1]=n++,b(t,r,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,i,n,r,s,o,l=e.dyn_tree,h=e.max_code,d=e.stat_desc.static_tree,f=e.stat_desc.has_stree,_=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,c=e.stat_desc.max_length,b=0;for(r=0;r<=x;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<y;a++)(r=l[2*l[2*(i=t.heap[a])+1]+1]+1)>c&&(r=c,b++),l[2*i+1]=r,h<i||(t.bl_count[r]++,s=0,u<=i&&(s=_[i-u]),o=l[2*i],t.opt_len+=o*(r+s),f&&(t.static_len+=o*(d[2*i+1]+s)));if(0!==b){do{for(r=c-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[c]--,b-=2}while(0<b);for(r=c;0!==r;r--)for(i=t.bl_count[r];0!==i;)(n=t.heap[--a])>h||(l[2*n+1]!==r&&(t.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),i--)}}(t,e),u(r,h,t.bl_count)}function w(t,e,a){var i,n,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=s,s=e[2*(i+1)+1],++o<l&&n===s||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==r&&t.bl_tree[2*n]++,t.bl_tree[2*B]++):o<=10?t.bl_tree[2*S]++:t.bl_tree[2*E]++,r=n,h=(o=0)===s?(l=138,3):n===s?(l=6,3):(l=7,4))}function p(t,e,a){var i,n,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),i=0;i<=a;i++)if(n=s,s=e[2*(i+1)+1],!(++o<l&&n===s)){if(o<h)for(;f(t,n,t.bl_tree),0!=--o;);else 0!==n?(n!==r&&(f(t,n,t.bl_tree),o--),f(t,B,t.bl_tree),d(t,o-3,2)):o<=10?(f(t,S,t.bl_tree),d(t,o-3,3)):(f(t,E,t.bl_tree),d(t,o-11,7));r=n,h=(o=0)===s?(l=138,3):n===s?(l=6,3):(l=7,4)}}function v(t,e,a,i){var n,r,s,o;d(t,0+(i?1:0),3),r=e,s=a,o=!0,c(n=t),o&&(h(n,s),h(n,~s)),k.arraySet(n.pending_buf,n.window,r,s,n.pending),n.pending+=s}var k=t("../utils/common"),y=573,x=15,z=16,B=16,S=17,E=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(576);i(N);var O=new Array(60);i(O);var D=new Array(512);i(D);var I=new Array(256);i(I);var U=new Array(29);i(U);var T=new Array(30);i(T);var F,L,H,j=!1;a._tr_init=function(t){j||(function(){var t,e,a,i,n,r=new Array(x+1);for(i=a=0;i<28;i++)for(U[i]=a,t=0;t<1<<A[i];t++)I[a++]=i;for(I[a-1]=i,i=n=0;i<16;i++)for(T[i]=n,t=0;t<1<<Z[i];t++)D[n++]=i;for(n>>=7;i<30;i++)for(T[i]=n<<7,t=0;t<1<<Z[i]-7;t++)D[256+n++]=i;for(e=0;e<=x;e++)r[e]=0;for(t=0;t<=143;)N[2*t+1]=8,t++,r[8]++;for(;t<=255;)N[2*t+1]=9,t++,r[9]++;for(;t<=279;)N[2*t+1]=7,t++,r[7]++;for(;t<=287;)N[2*t+1]=8,t++,r[8]++;for(u(N,287,r),t=0;t<30;t++)O[2*t+1]=5,O[2*t]=_(t,5);F=new s(N,A,257,286,x),L=new s(O,Z,0,30,x),H=new s(new Array(0),R,0,19,7)}(),j=!0),t.l_desc=new n(t.dyn_ltree,F),t.d_desc=new n(t.dyn_dtree,L),t.bl_desc=new n(t.bl_tree,H),t.bi_buf=0,t.bi_valid=0,o(t)},a._tr_stored_block=v,a._tr_flush_block=function(t,e,a,i){var n,r,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),m(t,t.l_desc),m(t,t.d_desc),s=function(t){var e;for(w(t,t.dyn_ltree,t.l_desc.max_code),w(t,t.dyn_dtree,t.d_desc.max_code),m(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*C[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(r=t.static_len+3+7>>>3)<=n&&(n=r)):n=r=a+5,a+4<=n&&-1!==e?v(t,e,a,i):4===t.strategy||r===n?(d(t,2+(i?1:0),3),g(t,N,O)):(d(t,4+(i?1:0),3),function(t,e,a,i){var n;for(d(t,e-257,5),d(t,a-1,5),d(t,i-4,4),n=0;n<i;n++)d(t,t.bl_tree[2*C[n]+1],3);p(t,t.dyn_ltree,e-1),p(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),g(t,t.dyn_ltree,t.dyn_dtree)),o(t),i&&c(t)},a._tr_tally=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(I[a]+256+1)]++,t.dyn_dtree[2*l(e)]++),t.last_lit===t.lit_bufsize-1},a._tr_align=function(t){var e;d(t,2,3),f(t,256,N),16===(e=t).bi_valid?(h(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":3}],15:[function(t,e,a){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(t,e,a){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});
!function(){function a(n){return n&&(n.ownerDocument||n.document||n).documentElement}function T(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function o(n,t){return n<t?-1:t<n?1:t<=n?0:NaN}function c(n){return null===n?NaN:+n}function f(n){return!isNaN(n)}function n(u){return{left:function(n,t,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=n.length);e<r;){var i=e+r>>>1;u(n[i],t)<0?e=1+i:r=i}return e},right:function(n,t,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=n.length);e<r;){var i=e+r>>>1;0<u(n[i],t)?r=i:e=1+i}return e}}}function l(n){return n.length}function t(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function m(){this._=Object.create(null)}function e(n){return(n+="")===au||n[0]===lu?lu+n:n}function r(n){return(n+="")[0]===lu?n.slice(1):n}function i(n){return e(n)in this._}function u(n){return(n=e(n))in this._&&delete this._[n]}function s(){var n=[];for(var t in this._)n.push(r(t));return n}function h(){var n=0;for(var t in this._)++n;return n}function p(){for(var n in this._)return!1;return!0}function g(){this._=Object.create(null)}function R(n){return n}function v(t,e,r){return function(){var n=r.apply(e,arguments);return n===e?t:n}}function d(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=cu.length;e<r;++e){var i=cu[e]+t;if(i in n)return i}}function y(){}function M(){}function x(i){function n(){for(var n,t=u,e=-1,r=t.length;++e<r;)(n=t[e].on)&&n.apply(this,arguments);return i}var u=[],o=new m;return n.on=function(n,t){var e,r=o.get(n);return arguments.length<2?r&&r.on:(r&&(r.on=null,u=u.slice(0,e=u.indexOf(r)).concat(u.slice(e+1)),o.remove(n)),t&&u.push(o.set(n,{on:t})),i)},n}function D(){Ji.event.preventDefault()}function b(){for(var n,t=Ji.event;n=t.sourceEvent;)t=n;return t}function P(i){for(var u=new M,n=0,t=arguments.length;++n<t;)u[arguments[n]]=x(u);return u.of=function(e,r){return function(n){try{var t=n.sourceEvent=Ji.event;n.target=i,Ji.event=n,u[n.type].apply(e,r)}finally{Ji.event=t}}},u}function _(n){return su(n,vu),n}function w(n){return"function"==typeof n?n:function(){return hu(n,this)}}function S(n){return"function"==typeof n?n:function(){return pu(n,this)}}function k(t,e){return t=Ji.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function N(n){return n.trim().replace(/\s+/g," ")}function E(n){return new RegExp("(?:^|\\s+)"+Ji.requote(n)+"(?:\\s+|$)","g")}function A(n){return(n+"").trim().split(/^|\s+/)}function C(e,r){var i=(e=A(e).map(z)).length;return"function"==typeof r?function(){for(var n=-1,t=r.apply(this,arguments);++n<i;)e[n](this,t)}:function(){for(var n=-1;++n<i;)e[n](this,r)}}function z(r){var i=E(r);return function(n,t){if(e=n.classList)return t?e.add(r):e.remove(r);var e=n.getAttribute("class")||"";t?(i.lastIndex=0,i.test(e)||n.setAttribute("class",N(e+" "+r))):n.setAttribute("class",N(e.replace(i," ")))}}function L(t,e,r){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}:function(){this.style.setProperty(t,e,r)}}function q(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function U(e){return"function"==typeof e?e:(e=Ji.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var n=this.ownerDocument,t=this.namespaceURI;return t===du&&n.documentElement.namespaceURI===du?n.createElement(e):n.createElementNS(t,e)}}function j(){var n=this.parentNode;n&&n.removeChild(this)}function F(n){return{__data__:n}}function H(n){return function(){return gu(this,n)}}function O(n,t){for(var e=0,r=n.length;e<r;e++)for(var i,u=n[e],o=0,a=u.length;o<a;o++)(i=u[o])&&t(i,o,e);return n}function I(n){return su(n,mu),n}function Y(i,t,e){function r(){var n=this[u];n&&(this.removeEventListener(i,n,n.$),delete this[u])}var u="__on"+i,n=i.indexOf("."),o=Z;0<n&&(i=i.slice(0,n));var a=Mu.get(i);return a&&(i=a,o=V),n?t?function(){var n=o(t,Ki(arguments));r.call(this),this.addEventListener(i,this[u]=n,n.$=e),n._=t}:r:t?y:function(){var n,t=new RegExp("^__on([^.]+)"+Ji.requote(i)+"$");for(var e in this)if(n=e.match(t)){var r=this[e];this.removeEventListener(n[1],r,r.$),delete this[e]}}}function Z(e,r){return function(n){var t=Ji.event;Ji.event=n,r[0]=this.__data__;try{e.apply(this,r)}finally{Ji.event=t}}}function V(n,t){var e=Z(n,t);return function(n){var t=n.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||e.call(this,n)}}function X(n){var e=".dragsuppress-"+ ++bu,r="click"+e,i=Ji.select(T(n)).on("touchmove"+e,D).on("dragstart"+e,D).on("selectstart"+e,D);if(null==xu&&(xu=!("onselectstart"in n)&&d(n.style,"userSelect")),xu){var u=a(n).style,o=u[xu];u[xu]="none"}return function(n){if(i.on(e,null),xu&&(u[xu]=o),n){function t(){i.on(r,null)}i.on(r,function(){D(),t()},!0),setTimeout(t,0)}}}function $(n,t){t.changedTouches&&(t=t.changedTouches[0]);var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();if(_u<0){var i=T(n);if(i.scrollX||i.scrollY){var u=(e=Ji.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_u=!(u.f||u.e),e.remove()}}return _u?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}var o=n.getBoundingClientRect();return[t.clientX-o.left-n.clientLeft,t.clientY-o.top-n.clientTop]}function B(){return Ji.event.changedTouches[0].identifier}function W(n){return 0<n?1:n<0?-1:0}function J(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function G(n){return 1<n?0:n<-1?ku:Math.acos(n)}function K(n){return 1<n?Au:n<-1?-Au:Math.asin(n)}function Q(n){return((n=Math.exp(n))+1/n)/2}function nn(n){return(n=Math.sin(n/2))*n}function tn(){}function en(n,t,e){return this instanceof en?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof en?new en(n.h,n.s,n.l):yn(""+n,mn,en):new en(n,t,e)}function rn(n,t,e){function r(n){return Math.round(255*(360<(t=n)?t-=360:t<0&&(t+=360),t<60?i+(u-i)*t/60:t<180?u:t<240?i+(u-i)*(240-t)/60:i));var t}var i,u;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:t<0?0:1<t?1:t,i=2*(e=e<0?0:1<e?1:e)-(u=e<=.5?e*(1+t):e+t-e*t),new pn(r(n+120),r(n),r(n-120))}function un(n,t,e){return this instanceof un?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof un?new un(n.h,n.c,n.l):cn(n instanceof an?n.l:(n=Mn((n=Ji.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new un(n,t,e)}function on(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new an(e,Math.cos(n*=Cu)*t,Math.sin(n)*t)}function an(n,t,e){return this instanceof an?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof an?new an(n.l,n.a,n.b):n instanceof un?on(n.h,n.c,n.l):Mn((n=pn(n)).r,n.g,n.b):new an(n,t,e)}function ln(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;return new pn(hn(3.2404542*(i=fn(i)*ju)-1.5371385*(r=fn(r)*Fu)-.4985314*(u=fn(u)*Hu)),hn(-.969266*i+1.8760108*r+.041556*u),hn(.0556434*i-.2040259*r+1.0572252*u))}function cn(n,t,e){return 0<n?new un(Math.atan2(e,t)*zu,Math.sqrt(t*t+e*e),n):new un(NaN,NaN,n)}function fn(n){return.206893034<n?n*n*n:(n-4/29)/7.787037}function sn(n){return.008856<n?Math.pow(n,1/3):7.787037*n+4/29}function hn(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function pn(n,t,e){return this instanceof pn?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof pn?new pn(n.r,n.g,n.b):yn(""+n,pn,rn):new pn(n,t,e)}function gn(n){return new pn(n>>16,n>>8&255,255&n)}function vn(n){return gn(n)+""}function dn(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function yn(n,t,e){var r,i,u,o=0,a=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(bn(i[0]),bn(i[1]),bn(i[2]))}return(u=Yu.get(n))?t(u.r,u.g,u.b):(null==n||"#"!==n.charAt(0)||isNaN(u=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&u)>>4,o|=o>>4,a=240&u,a|=a>>4,l=15&u,l|=l<<4):7===n.length&&(o=(16711680&u)>>16,a=(65280&u)>>8,l=255&u)),t(o,a,l))}function mn(n,t,e){var r,i,u=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-u,l=(o+u)/2;return a?(i=l<.5?a/(o+u):a/(2-o-u),r=n==o?(t-e)/a+(t<e?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=NaN,i=0<l&&l<1?0:r),new en(r,i,l)}function Mn(n,t,e){var r=sn((.4124564*(n=xn(n))+.3575761*(t=xn(t))+.1804375*(e=xn(e)))/ju),i=sn((.2126729*n+.7151522*t+.072175*e)/Fu);return an(116*i-16,500*(r-i),200*(i-sn((.0193339*n+.119192*t+.9503041*e)/Hu)))}function xn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function bn(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function _n(n){return"function"==typeof n?n:function(){return n}}function wn(r){return function(n,t,e){return 2===arguments.length&&"function"==typeof t&&(e=t,t=null),Sn(n,t,r,e)}}function Sn(i,u,o,n){function t(){var n,t,e,r=f.status;if(!r&&((e=(t=f).responseType)&&"text"!==e?t.response:t.responseText)||200<=r&&r<300||304===r){try{n=o.call(a,f)}catch(n){return void l.error.call(a,n)}l.load.call(a,n)}else l.error.call(a,f)}var e,a={},l=Ji.dispatch("beforesend","progress","load","error"),c={},f=new XMLHttpRequest,s=null;return!this.XDomainRequest||"withCredentials"in f||!/^(http(s)?:)?\/\//.test(i)||(f=new XDomainRequest),"onload"in f?f.onload=f.onerror=t:f.onreadystatechange=function(){3<f.readyState&&t()},f.onprogress=function(n){var t=Ji.event;Ji.event=n;try{l.progress.call(a,f)}finally{Ji.event=t}},a.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?c[n]:(null==t?delete c[n]:c[n]=t+"",a)},a.mimeType=function(n){return arguments.length?(u=null==n?null:n+"",a):u},a.responseType=function(n){return arguments.length?(s=n,a):s},a.response=function(n){return o=n,a},["get","post"].forEach(function(n){a[n]=function(){return a.send.apply(a,[n].concat(Ki(arguments)))}}),a.send=function(n,t,e){if(2===arguments.length&&"function"==typeof t&&(e=t,t=null),f.open(n,i,!0),null==u||"accept"in c||(c.accept=u+",*/*"),f.setRequestHeader)for(var r in c)f.setRequestHeader(r,c[r]);return null!=u&&f.overrideMimeType&&f.overrideMimeType(u),null!=s&&(f.responseType=s),null!=e&&a.on("error",e).on("load",function(n){e(null,n)}),l.beforesend.call(a,f),f.send(null==t?null:t),a},a.abort=function(){return f.abort(),a},Ji.rebind(a,l,"on"),null==n?a:a.get(1===(e=n).length?function(n,t){e(null==n?t:null)}:e)}function kn(n,t,e){var r=arguments.length;r<2&&(t=0),r<3&&(e=Date.now());var i={c:n,t:e+t,n:null};return Vu?Vu.n=i:Zu=i,Vu=i,Xu||($u=clearTimeout($u),Xu=1,Bu(Nn)),i}function Nn(){var n=En(),t=An()-n;24<t?(isFinite(t)&&(clearTimeout($u),$u=setTimeout(Nn,t)),Xu=0):(Xu=1,Bu(Nn))}function En(){for(var n=Date.now(),t=Zu;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function An(){for(var n,t=Zu,e=1/0;t;)t=t.c?(t.t<e&&(e=t.t),(n=t).n):n?n.n=t.n:Zu=t.n;return Vu=n,e}function Cn(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function zn(n){return n+""}function Ln(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function qn(r,u,o){function n(n){var t=r(n),e=i(t,1);return n-t<e-n?t:e}function a(n){return u(n=r(new Qu(n-1)),1),n}function i(n,t){return u(n=new Qu(+n),t),n}function l(n,t,e){var r=a(n),i=[];if(1<e)for(;r<t;)o(r)%e||i.push(new Date(+r)),u(r,1);else for(;r<t;)i.push(new Date(+r)),u(r,1);return i}(r.floor=r).round=n,r.ceil=a,r.offset=i,r.range=l;var t=r.utc=Tn(r);return(t.floor=t).round=Tn(n),t.ceil=Tn(a),t.offset=Tn(i),t.range=function(n,t,e){try{var r=new(Qu=Ln);return r._=n,l(r,t,e)}finally{Qu=Date}},r}function Tn(r){return function(n,t){try{var e=new(Qu=Ln);return e._=n,r(e,t)._}finally{Qu=Date}}}function Rn(n){function r(a){function n(n){for(var t,e,r,i=[],u=-1,o=0;++u<l;)37===a.charCodeAt(u)&&(i.push(a.slice(o,u)),null!=(e=to[t=a.charAt(++u)])&&(t=a.charAt(++u)),(r=x[t])&&(t=r(n,null==e?"e"===t?" ":"0":e)),i.push(t),o=u+1);return i.push(a.slice(o,u)),i.join("")}var l=a.length;return n.parse=function(n){var t={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(i(t,a,n,0)!=n.length)return null;"p"in t&&(t.H=t.H%12+12*t.p);var e=null!=t.Z&&Qu!==Ln,r=new(e?Ln:Qu);return"j"in t?r.setFullYear(t.y,0,t.j):"W"in t||"U"in t?("w"in t||(t.w="W"in t?1:0),r.setFullYear(t.y,0,1),r.setFullYear(t.y,0,"W"in t?(t.w+6)%7+7*t.W-(r.getDay()+5)%7:t.w+7*t.U-(r.getDay()+6)%7)):r.setFullYear(t.y,t.m,t.d),r.setHours(t.H+(t.Z/100|0),t.M+t.Z%100,t.S,t.L),e?r._:r},n.toString=function(){return a},n}function i(n,t,e,r){for(var i,u,o,a=0,l=t.length,c=e.length;a<l;){if(c<=r)return-1;if(37===(i=t.charCodeAt(a++))){if(o=t.charAt(a++),!(u=b[o in to?t.charAt(a++):o])||(r=u(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}var t=n.dateTime,e=n.date,u=n.time,o=n.periods,a=n.days,l=n.shortDays,c=n.months,f=n.shortMonths;r.multi=(r.utc=function(n){function t(n){try{var t=new(Qu=Ln);return t._=n,e(t)}finally{Qu=Date}}var e=r(n);return t.parse=function(n){try{Qu=Ln;var t=e.parse(n);return t&&t._}finally{Qu=Date}},t.toString=e.toString,t}).multi=Qn;var s=Ji.map(),h=Pn(a),p=Un(a),g=Pn(l),v=Un(l),d=Pn(c),y=Un(c),m=Pn(f),M=Un(f);o.forEach(function(n,t){s.set(n.toLowerCase(),t)});var x={a:function(n){return l[n.getDay()]},A:function(n){return a[n.getDay()]},b:function(n){return f[n.getMonth()]},B:function(n){return c[n.getMonth()]},c:r(t),d:function(n,t){return Dn(n.getDate(),t,2)},e:function(n,t){return Dn(n.getDate(),t,2)},H:function(n,t){return Dn(n.getHours(),t,2)},I:function(n,t){return Dn(n.getHours()%12||12,t,2)},j:function(n,t){return Dn(1+Ku.dayOfYear(n),t,3)},L:function(n,t){return Dn(n.getMilliseconds(),t,3)},m:function(n,t){return Dn(n.getMonth()+1,t,2)},M:function(n,t){return Dn(n.getMinutes(),t,2)},p:function(n){return o[+(12<=n.getHours())]},S:function(n,t){return Dn(n.getSeconds(),t,2)},U:function(n,t){return Dn(Ku.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Dn(Ku.mondayOfYear(n),t,2)},x:r(e),X:r(u),y:function(n,t){return Dn(n.getFullYear()%100,t,2)},Y:function(n,t){return Dn(n.getFullYear()%1e4,t,4)},Z:Gn,"%":function(){return"%"}},b={a:function(n,t,e){g.lastIndex=0;var r=g.exec(t.slice(e));return r?(n.w=v.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(n,t,e){h.lastIndex=0;var r=h.exec(t.slice(e));return r?(n.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(n,t,e){m.lastIndex=0;var r=m.exec(t.slice(e));return r?(n.m=M.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(n,t,e){d.lastIndex=0;var r=d.exec(t.slice(e));return r?(n.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(n,t,e){return i(n,x.c.toString(),t,e)},d:Vn,e:Vn,H:$n,I:$n,j:Xn,L:Jn,m:Zn,M:Bn,p:function(n,t,e){var r=s.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)},S:Wn,U:Fn,w:jn,W:Hn,x:function(n,t,e){return i(n,x.x.toString(),t,e)},X:function(n,t,e){return i(n,x.X.toString(),t,e)},y:In,Y:On,Z:Yn,"%":Kn};return r}function Dn(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(t)+i:i)}function Pn(n){return new RegExp("^(?:"+n.map(Ji.requote).join("|")+")","i")}function Un(n){for(var t=new m,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function jn(n,t,e){eo.lastIndex=0;var r=eo.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Fn(n,t,e){eo.lastIndex=0;var r=eo.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function Hn(n,t,e){eo.lastIndex=0;var r=eo.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function On(n,t,e){eo.lastIndex=0;var r=eo.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function In(n,t,e){eo.lastIndex=0;var r,i=eo.exec(t.slice(e,e+2));return i?(n.y=(r=+i[0])+(68<r?1900:2e3),e+i[0].length):-1}function Yn(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Zn(n,t,e){eo.lastIndex=0;var r=eo.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Vn(n,t,e){eo.lastIndex=0;var r=eo.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function Xn(n,t,e){eo.lastIndex=0;var r=eo.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function $n(n,t,e){eo.lastIndex=0;var r=eo.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function Bn(n,t,e){eo.lastIndex=0;var r=eo.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function Wn(n,t,e){eo.lastIndex=0;var r=eo.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function Jn(n,t,e){eo.lastIndex=0;var r=eo.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function Gn(n){var t=n.getTimezoneOffset(),e=0<t?"-":"+",r=ou(t)/60|0,i=ou(t)%60;return e+Dn(r,"0",2)+Dn(i,"0",2)}function Kn(n,t,e){ro.lastIndex=0;var r=ro.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function Qn(r){for(var n=r.length,t=-1;++t<n;)r[t][0]=this(r[t][0]);return function(n){for(var t=0,e=r[t];!e[1](n);)e=r[++t];return e[0](n)}}function nt(){}function tt(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)}function et(n,t){n&&ao.hasOwnProperty(n.type)&&ao[n.type](n,t)}function rt(n,t,e){var r,i=-1,u=n.length-e;for(t.lineStart();++i<u;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function it(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)rt(n[e],t,1);t.polygonEnd()}function ut(){function e(n,t){t=t*Cu/2+ku/4;var e=(n*=Cu)-f,r=0<=e?1:-1,i=r*e,u=Math.cos(t),o=Math.sin(t),a=h*o,l=s*u+a*Math.cos(i),c=a*r*Math.sin(i);_o.add(Math.atan2(c,l)),f=n,s=u,h=o}var r,i,f,s,h;wo.point=function(n,t){wo.point=e,f=(r=n)*Cu,s=Math.cos(t=(i=t)*Cu/2+ku/4),h=Math.sin(t)},wo.lineEnd=function(){e(r,i)}}function ot(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function at(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function lt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ct(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ft(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function st(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function ht(n){return[Math.atan2(n[1],n[0]),K(n[2])]}function pt(n,t){return ou(n[0]-t[0])<wu&&ou(n[1]-t[1])<wu}function gt(n,t){n*=Cu;var e=Math.cos(t*=Cu);vt(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function vt(n,t,e){Po+=(n-Po)/++Ro,Uo+=(t-Uo)/Ro,jo+=(e-jo)/Ro}function dt(){function r(n,t){n*=Cu;var e=Math.cos(t*=Cu),r=e*Math.cos(n),i=e*Math.sin(n),u=Math.sin(t),o=Math.atan2(Math.sqrt((o=l*u-c*i)*o+(o=c*r-a*u)*o+(o=a*i-l*r)*o),a*r+l*i+c*u);Do+=o,Fo+=o*(a+(a=r)),Ho+=o*(l+(l=i)),Oo+=o*(c+(c=u)),vt(a,l,c)}var a,l,c;Vo.point=function(n,t){n*=Cu;var e=Math.cos(t*=Cu);a=e*Math.cos(n),l=e*Math.sin(n),c=Math.sin(t),Vo.point=r,vt(a,l,c)}}function yt(){Vo.point=gt}function mt(){function r(n,t){n*=Cu;var e=Math.cos(t*=Cu),r=e*Math.cos(n),i=e*Math.sin(n),u=Math.sin(t),o=g*u-v*i,a=v*r-p*u,l=p*i-g*r,c=Math.sqrt(o*o+a*a+l*l),f=p*r+g*i+v*u,s=c&&-G(f)/c,h=Math.atan2(c,f);Io+=s*o,Yo+=s*a,Zo+=s*l,Do+=h,Fo+=h*(p+(p=r)),Ho+=h*(g+(g=i)),Oo+=h*(v+(v=u)),vt(p,g,v)}var i,u,p,g,v;Vo.point=function(n,t){i=n,u=t,Vo.point=r,n*=Cu;var e=Math.cos(t*=Cu);p=e*Math.cos(n),g=e*Math.sin(n),v=Math.sin(t),vt(p,g,v)},Vo.lineEnd=function(){r(i,u),Vo.lineEnd=yt,Vo.point=gt}}function Mt(e,r){function n(n,t){return n=e(n,t),r(n[0],n[1])}return e.invert&&r.invert&&(n.invert=function(n,t){return(n=r.invert(n,t))&&e.invert(n[0],n[1])}),n}function xt(){return!0}function bt(n,t,e,r,a){var l=[],c=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(pt(e,r)){a.lineStart();for(var i=0;i<t;++i)a.point((e=n[i])[0],e[1]);return void a.lineEnd()}var u=new wt(e,n,null,!0),o=new wt(e,null,u,!1);u.o=o,l.push(u),c.push(o),u=new wt(r,n,null,!1),o=new wt(r,null,u,!0),u.o=o,l.push(u),c.push(o)}}),c.sort(t),_t(l),_t(c),l.length){for(var i=0,u=e,o=c.length;i<o;++i)c[i].e=u=!u;for(var f,s,h=l[0];;){for(var p=h,g=!0;p.v;)if((p=p.n)===h)return;f=p.z,a.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(i=0,o=f.length;i<o;++i)a.point((s=f[i])[0],s[1]);else r(p.x,p.n.x,1,a);p=p.n}else{if(g)for(i=(f=p.p.z).length-1;0<=i;--i)a.point((s=f[i])[0],s[1]);else r(p.x,p.p.x,-1,a);p=p.p}f=(p=p.o).z,g=!g}while(!p.v);a.lineEnd()}}}function _t(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function wt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function St(m,M,x,b){return function(r,o){function t(n,t){var e=r(n,t);m(n=e[0],t=e[1])&&o.point(n,t)}function n(n,t){var e=r(n,t);h.point(e[0],e[1])}function e(){g.point=n,h.lineStart()}function i(){g.point=t,h.lineEnd()}function a(n,t){s.push([n,t]);var e=r(n,t);d.point(e[0],e[1])}function u(){d.lineStart(),s=[]}function l(){a(s[0][0],s[0][1]),d.lineEnd();var n,t=d.clean(),e=v.buffer(),r=e.length;if(s.pop(),f.push(s),s=null,r)if(1&t){var i,u=-1;if(0<(r=(n=e[0]).length-1)){for(y||(o.polygonStart(),y=!0),o.lineStart();++u<r;)o.point((i=n[u])[0],i[1]);o.lineEnd()}}else 1<r&&2&t&&e.push(e.pop().concat(e.shift())),c.push(e.filter(kt))}var c,f,s,h=M(o),p=r.invert(b[0],b[1]),g={point:t,lineStart:e,lineEnd:i,polygonStart:function(){g.point=a,g.lineStart=u,g.lineEnd=l,c=[],f=[]},polygonEnd:function(){g.point=t,g.lineStart=e,g.lineEnd=i,c=Ji.merge(c);var n=function(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,o=0;_o.reset();for(var a=0,l=t.length;a<l;++a){var c=t[a],f=c.length;if(f)for(var s=c[0],h=s[0],p=s[1]/2+ku/4,g=Math.sin(p),v=Math.cos(p),d=1;;){d===f&&(d=0);var y=(n=c[d])[0],m=n[1]/2+ku/4,M=Math.sin(m),x=Math.cos(m),b=y-h,_=0<=b?1:-1,w=_*b,S=ku<w,k=g*M;if(_o.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),u+=S?b+_*Nu:b,S^e<=h^e<=y){var N=lt(ot(s),ot(n));st(N);var E=lt(i,N);st(E);var A=(S^0<=b?-1:1)*K(E[2]);(A<r||r===A&&(N[0]||N[1]))&&(o+=S^0<=b?1:-1)}if(!d++)break;h=y,g=M,v=x,s=n}}return(u<-wu||u<wu&&_o<-wu)^1&o}(p,f);c.length?(y||(o.polygonStart(),y=!0),bt(c,Et,n,x,o)):n&&(y||(o.polygonStart(),y=!0),o.lineStart(),x(null,null,1,o),o.lineEnd()),y&&(o.polygonEnd(),y=!1),c=f=null},sphere:function(){o.polygonStart(),o.lineStart(),x(null,null,1,o),o.lineEnd(),o.polygonEnd()}},v=Nt(),d=M(v),y=!1;return g}}function kt(n){return 1<n.length}function Nt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(n,t){e.push([n,t])},lineEnd:y,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){1<t.length&&t.push(t.pop().concat(t.shift()))}}}function Et(n,t){return((n=n.x)[0]<0?n[1]-Au-wu:Au-n[1])-((t=t.x)[0]<0?t[1]-Au-wu:Au-t[1])}function At(i){function p(n,t){return Math.cos(n)*Math.cos(t)>N}function g(n,t,e){var r=[1,0,0],i=lt(ot(n),ot(t)),u=at(i,i),o=i[0],a=u-o*o;if(!a)return!e&&n;var l=N*u/a,c=-N*o/a,f=lt(r,i),s=ft(r,l);ct(s,ft(i,c));var h=f,p=at(s,h),g=at(h,h),v=p*p-g*(at(s,s)-1);if(!(v<0)){var d=Math.sqrt(v),y=ft(h,(-p-d)/g);if(ct(y,s),y=ht(y),!e)return y;var m,M=n[0],x=t[0],b=n[1],_=t[1];x<M&&(m=M,M=x,x=m);var w=x-M,S=ou(w-ku)<wu;if(!S&&_<b&&(m=b,b=_,_=m),S||w<wu?S?0<b+_^y[1]<(ou(y[0]-M)<wu?b:_):b<=y[1]&&y[1]<=_:ku<w^(M<=y[0]&&y[0]<=x)){var k=ft(h,(-p+d)/g);return ct(k,s),[y,ht(k)]}}}function v(n,t){var e=d?i:ku-i,r=0;return n<-e?r|=1:e<n&&(r|=2),t<-e?r|=4:e<t&&(r|=8),r}var N=Math.cos(i),d=0<N,y=ou(N)>wu;return St(p,function(a){var l,c,f,s,h;return{lineStart:function(){s=f=!1,h=1},point:function(n,t){var e,r=[n,t],i=p(n,t),u=d?i?0:v(n,t):i?v(n+(n<0?ku:-ku),t):0;if(!l&&(s=f=i)&&a.lineStart(),i!==f&&(e=g(l,r),(pt(l,e)||pt(r,e))&&(r[0]+=wu,r[1]+=wu,i=p(r[0],r[1]))),i!==f)h=0,i?(a.lineStart(),e=g(r,l),a.point(e[0],e[1])):(e=g(l,r),a.point(e[0],e[1]),a.lineEnd()),l=e;else if(y&&l&&d^i){var o;u&c||!(o=g(r,l,!0))||(h=0,d?(a.lineStart(),a.point(o[0][0],o[0][1]),a.point(o[1][0],o[1][1]),a.lineEnd()):(a.point(o[1][0],o[1][1]),a.lineEnd(),a.lineStart(),a.point(o[0][0],o[0][1])))}!i||l&&pt(l,r)||a.point(r[0],r[1]),l=r,f=i,c=u},lineEnd:function(){f&&a.lineEnd(),l=null},clean:function(){return h|(s&&f)<<1}}},Qt(i,6*Cu),d?[0,-i]:[-ku,i-ku])}function Ct(f,s,h,p){return function(n){var t,e=n.a,r=n.b,i=e.x,u=e.y,o=0,a=1,l=r.x-i,c=r.y-u;if(t=f-i,l||!(0<t)){if(t/=l,l<0){if(t<o)return;t<a&&(a=t)}else if(0<l){if(a<t)return;o<t&&(o=t)}if(t=h-i,l||!(t<0)){if(t/=l,l<0){if(a<t)return;o<t&&(o=t)}else if(0<l){if(t<o)return;t<a&&(a=t)}if(t=s-u,c||!(0<t)){if(t/=c,c<0){if(t<o)return;t<a&&(a=t)}else if(0<c){if(a<t)return;o<t&&(o=t)}if(t=p-u,c||!(t<0)){if(t/=c,c<0){if(a<t)return;o<t&&(o=t)}else if(0<c){if(t<o)return;t<a&&(a=t)}return 0<o&&(n.a={x:i+o*l,y:u+o*c}),a<1&&(n.b={x:i+a*l,y:u+a*c}),n}}}}}}function zt(x,b,_,w){function S(n,t){return ou(n[0]-x)<wu?0<t?0:3:ou(n[0]-_)<wu?0<t?2:1:ou(n[1]-b)<wu?0<t?1:0:0<t?3:2}function k(n,t){return N(n.x,t.x)}function N(n,t){var e=S(n,1),r=S(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(i){function r(n,t,e,r){var i=0,u=0;if(null==n||(i=S(n,e))!==(u=S(t,e))||N(n,t)<0^0<e)for(;r.point(0===i||3===i?x:_,1<i?w:b),(i=(i+e+4)%4)!==u;);else r.point(t[0],t[1])}function u(n,t){return x<=n&&n<=_&&b<=t&&t<=w}function n(n,t){u(n,t)&&i.point(n,t)}function t(n,t){var e=u(n=Math.max(-$o,Math.min($o,n)),t=Math.max(-$o,Math.min($o,t)));if(f&&a.push([n,t]),v)l=n,c=t,v=!1,(s=e)&&(i.lineStart(),i.point(n,t));else if(e&&g)i.point(n,t);else{var r={a:{x:h,y:p},b:{x:n,y:t}};m(r)?(g||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),e||i.lineEnd(),d=!1):e&&(i.lineStart(),i.point(n,t),d=!1)}h=n,p=t,g=e}var o,f,a,l,c,s,h,p,g,v,d,y=i,e=Nt(),m=Ct(x,b,_,w),M={point:n,lineStart:function(){M.point=t,f&&f.push(a=[]),g=!(v=!0),h=p=NaN},lineEnd:function(){o&&(t(l,c),s&&g&&e.rejoin(),o.push(e.buffer())),M.point=n,g&&i.lineEnd()},polygonStart:function(){i=e,o=[],f=[],d=!0},polygonEnd:function(){i=y,o=Ji.merge(o);var n=function(n){for(var t=0,e=f.length,r=n[1],i=0;i<e;++i)for(var u,o=1,a=f[i],l=a.length,c=a[0];o<l;++o)u=a[o],c[1]<=r?u[1]>r&&0<J(c,u,n)&&++t:u[1]<=r&&J(c,u,n)<0&&--t,c=u;return 0!==t}([x,w]),t=d&&n,e=o.length;(t||e)&&(i.polygonStart(),t&&(i.lineStart(),r(null,null,1,i),i.lineEnd()),e&&bt(o,k,n,r,i),i.polygonEnd()),o=f=a=null}};return M}}function Lt(n){var t=0,e=ku/3,r=Vt(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*ku/180,e=n[1]*ku/180):[t/ku*180,e/ku*180]},i}function qt(n,t){function e(n,t){var e=Math.sqrt(u-2*i*Math.sin(t))/i;return[e*Math.sin(n*=i),o-e*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),o=Math.sqrt(u)/i;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/i,K((u-(n*n+e*e)*i*i)/(2*i))]},e}function Tt(){function e(n,t){Wo+=o*n-u*t,u=n,o=t}var r,i,u,o;na.point=function(n,t){na.point=e,r=u=n,i=o=t},na.lineEnd=function(){e(r,i)}}function Rt(){function n(n,t){o.push("M",n,",",t,u)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function i(){o.push("Z")}var u=Dt(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return u=Dt(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Dt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Pt(n,t){Po+=n,Uo+=t,++jo}function Ut(){function e(n,t){var e=n-u,r=t-o,i=Math.sqrt(e*e+r*r);Fo+=i*(u+n)/2,Ho+=i*(o+t)/2,Oo+=i,Pt(u=n,o=t)}var u,o;ea.point=function(n,t){ea.point=e,Pt(u=n,o=t)}}function jt(){ea.point=Pt}function Ft(){function e(n,t){var e=n-u,r=t-o,i=Math.sqrt(e*e+r*r);Fo+=i*(u+n)/2,Ho+=i*(o+t)/2,Oo+=i,Io+=(i=o*n-u*t)*(u+n),Yo+=i*(o+t),Zo+=3*i,Pt(u=n,o=t)}var r,i,u,o;ea.point=function(n,t){ea.point=e,Pt(r=u=n,i=o=t)},ea.lineEnd=function(){e(r,i)}}function Ht(e){function n(n,t){e.moveTo(n+o,t),e.arc(n,t,o,0,Nu)}function t(n,t){e.moveTo(n,t),a.point=r}function r(n,t){e.lineTo(n,t)}function i(){a.point=n}function u(){e.closePath()}var o=4.5,a={point:n,lineStart:function(){a.point=t},lineEnd:i,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=i,a.point=n},pointRadius:function(n){return o=n,a},result:y};return a}function Ot(C){function t(n){return(b?function(i){function n(n,t){n=C(n,t),i.point(n[0],n[1])}function t(){v=NaN,x.point=e,i.lineStart()}function e(n,t){var e=ot([n,t]),r=C(n,t);z(v,d,g,y,m,M,v=r[0],d=r[1],g=n,y=e[0],m=e[1],M=e[2],b,i),i.point(v,d)}function r(){x.point=n,i.lineEnd()}function u(){t(),x.point=o,x.lineEnd=a}function o(n,t){e(l=n,t),c=v,f=d,s=y,h=m,p=M,x.point=e}function a(){z(v,d,g,y,m,M,c,f,l,s,h,p,b,i),(x.lineEnd=r)()}var l,c,f,s,h,p,g,v,d,y,m,M,x={point:n,lineStart:t,lineEnd:r,polygonStart:function(){i.polygonStart(),x.lineStart=u},polygonEnd:function(){i.polygonEnd(),x.lineStart=t}};return x}:function(e){return Yt(e,function(n,t){n=C(n,t),e.point(n[0],n[1])})})(n)}function z(n,t,e,r,i,u,o,a,l,c,f,s,h,p){var g=o-n,v=a-t,d=g*g+v*v;if(4*L<d&&h--){var y=r+c,m=i+f,M=u+s,x=Math.sqrt(y*y+m*m+M*M),b=Math.asin(M/=x),_=ou(ou(M)-1)<wu||ou(e-l)<wu?(e+l)/2:Math.atan2(m,y),w=C(_,b),S=w[0],k=w[1],N=S-n,E=k-t,A=v*N-g*E;(L<A*A/d||.3<ou((g*N+v*E)/d-.5)||r*c+i*f+u*s<q)&&(z(n,t,e,r,i,u,S,k,_,y/=x,m/=x,M,h,p),p.point(S,k),z(S,k,_,y,m,M,o,a,l,c,f,s,h,p))}}var L=.5,q=Math.cos(30*Cu),b=16;return t.precision=function(n){return arguments.length?(b=0<(L=n*n)&&16,t):Math.sqrt(L)},t}function It(n){this.stream=n}function Yt(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function Zt(n){return Vt(function(){return n})()}function Vt(n){function t(n){return[(n=a(n[0]*Cu,n[1]*Cu))[0]*h+l,c-n[1]*h]}function e(n){return(n=a.invert((n[0]-l)/h,(c-n[1])/h))&&[n[0]*zu,n[1]*zu]}function r(){a=Mt(o=Wt(y,m,M),u);var n=u(v,d);return l=p-n[0]*h,c=g+n[1]*h,i()}function i(){return f&&(f.valid=!1,f=null),t}var u,o,a,l,c,f,s=Ot(function(n,t){return[(n=u(n,t))[0]*h+l,c-n[1]*h]}),h=150,p=480,g=250,v=0,d=0,y=0,m=0,M=0,x=Xo,b=R,_=null,w=null;return t.stream=function(n){return f&&(f.valid=!1),(f=Xt(x(o,s(b(n))))).valid=!0,f},t.clipAngle=function(n){return arguments.length?(x=null==n?(_=n,Xo):At((_=+n)*Cu),i()):_},t.clipExtent=function(n){return arguments.length?(b=(w=n)?zt(n[0][0],n[0][1],n[1][0],n[1][1]):R,i()):w},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(p=+n[0],g=+n[1],r()):[p,g]},t.center=function(n){return arguments.length?(v=n[0]%360*Cu,d=n[1]%360*Cu,r()):[v*zu,d*zu]},t.rotate=function(n){return arguments.length?(y=n[0]%360*Cu,m=n[1]%360*Cu,M=2<n.length?n[2]%360*Cu:0,r()):[y*zu,m*zu,M*zu]},Ji.rebind(t,s,"precision"),function(){return u=n.apply(this,arguments),t.invert=u.invert&&e,r()}}function Xt(e){return Yt(e,function(n,t){e.point(n*Cu,t*Cu)})}function $t(n,t){return[n,t]}function Bt(n,t){return[ku<n?n-Nu:n<-ku?n+Nu:n,t]}function Wt(n,t,e){return n?t||e?Mt(Gt(n),Kt(t,e)):Gt(n):t||e?Kt(t,e):Bt}function Jt(e){return function(n,t){return[ku<(n+=e)?n-Nu:n<-ku?n+Nu:n,t]}}function Gt(n){var t=Jt(n);return t.invert=Jt(-n),t}function Kt(n,t){function e(n,t){var e=Math.cos(t),r=Math.cos(n)*e,i=Math.sin(n)*e,u=Math.sin(t),o=u*a+r*l;return[Math.atan2(i*c-o*f,r*a-u*l),K(o*c+i*f)]}var a=Math.cos(n),l=Math.sin(n),c=Math.cos(t),f=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),r=Math.cos(n)*e,i=Math.sin(n)*e,u=Math.sin(t),o=u*c-i*f;return[Math.atan2(i*c+u*f,r*a+o*l),K(o*a-r*l)]},e}function Qt(a,l){var c=Math.cos(a),f=Math.sin(a);return function(n,t,e,r){var i=e*l;null!=n?(n=ne(c,n),t=ne(c,t),(0<e?n<t:t<n)&&(n+=e*Nu)):(n=a+e*Nu,t=a-.5*i);for(var u,o=n;0<e?t<o:o<t;o-=i)r.point((u=ht([c,-f*Math.cos(o),-f*Math.sin(o)]))[0],u[1])}}function ne(n,t){var e=ot(t);e[0]-=n,st(e);var r=G(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-wu)%(2*Math.PI)}function te(n,t,e){var r=Ji.range(n,t-wu,e).concat(t);return function(t){return r.map(function(n){return[t,n]})}}function ee(n,t,e){var r=Ji.range(n,t-wu,e).concat(t);return function(t){return r.map(function(n){return[n,t]})}}function re(n){return n.source}function ie(n){return n.target}function ue(u,o){function n(n,t){var e=Math.cos(n),r=Math.cos(t),i=u(e*r);return[i*r*Math.sin(n),i*Math.sin(t)]}return n.invert=function(n,t){var e=Math.sqrt(n*n+t*t),r=o(e),i=Math.sin(r),u=Math.cos(r);return[Math.atan2(n*i,e*u),Math.asin(e&&t*i/e)]},n}function oe(n,t){function e(n,t){0<o?t<-Au+wu&&(t=-Au+wu):Au-wu<t&&(t=Au-wu);var e=o/Math.pow(r(t),u);return[e*Math.sin(u*n),o-e*Math.cos(u*n)]}function r(n){return Math.tan(ku/4+n/2)}var i=Math.cos(n),u=n===t?Math.sin(n):Math.log(i/Math.cos(t))/Math.log(r(t)/r(n)),o=i*Math.pow(r(n),u)/u;return u?(e.invert=function(n,t){var e=o-t,r=W(u)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/u,2*Math.atan(Math.pow(o/r,1/u))-Au]},e):le}function ae(n,t){function e(n,t){var e=u-t;return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}var r=Math.cos(n),i=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),u=r/i+n;return ou(i)<wu?$t:(e.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/i,u-W(i)*Math.sqrt(n*n+e*e)]},e)}function le(n,t){return[n,Math.log(Math.tan(ku/4+t/2))]}function ce(n){var i,u=Zt(n),o=u.scale,a=u.translate,l=u.clipExtent;return u.scale=function(){var n=o.apply(u,arguments);return n===u?i?u.clipExtent(null):u:n},u.translate=function(){var n=a.apply(u,arguments);return n===u?i?u.clipExtent(null):u:n},u.clipExtent=function(n){var t=l.apply(u,arguments);if(t===u){if(i=null==n){var e=ku*o(),r=a();l([[r[0]-e,r[1]-e],[r[0]+e,r[1]+e]])}}else i&&(t=null);return t},u.clipExtent(null)}function fe(n,t){return[Math.log(Math.tan(ku/4+t/2)),-n]}function se(n){return n[0]}function he(n){return n[1]}function pe(n){for(var t=n.length,e=[0,1],r=2,i=2;i<t;i++){for(;1<r&&J(n[e[r-2]],n[e[r-1]],n[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function ge(n,t){return n[0]-t[0]||n[1]-t[1]}function ve(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function de(n,t,e,r){var i=n[0],u=e[0],o=t[0]-i,a=r[0]-u,l=n[1],c=e[1],f=t[1]-l,s=r[1]-c,h=(a*(l-c)-s*(i-u))/(s*o-a*f);return[i+h*o,l+h*f]}function ye(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function me(){Pe(this),this.edge=this.site=this.circle=null}function Me(n){var t=da.pop()||new me;return t.site=n,t}function xe(n){Ce(n),pa.remove(n),da.push(n),Pe(n)}function be(n){var t=n.circle,e=t.x,r=t.cy,i={x:e,y:r},u=n.P,o=n.N,a=[n];xe(n);for(var l=u;l.circle&&ou(e-l.circle.x)<wu&&ou(r-l.circle.cy)<wu;)u=l.P,a.unshift(l),xe(l),l=u;a.unshift(l),Ce(l);for(var c=o;c.circle&&ou(e-c.circle.x)<wu&&ou(r-c.circle.cy)<wu;)o=c.N,a.push(c),xe(c),c=o;a.push(c),Ce(c);var f,s=a.length;for(f=1;f<s;++f)c=a[f],l=a[f-1],Te(c.edge,l.site,c.site,i);l=a[0],(c=a[s-1]).edge=qe(l.site,c.site,null,i),Ae(l),Ae(c)}function _e(n){for(var t,e,r,i,u=n.x,o=n.y,a=pa._;a;)if(r=we(a,o)-u,wu<r)a=a.L;else{if(i=u-Se(a,o),!(wu<i)){-wu<r?(t=a.P,e=a):-wu<i?e=(t=a).N:t=e=a;break}if(!a.R){t=a;break}a=a.R}var l=Me(n);if(pa.insert(t,l),t||e){if(t===e)return Ce(t),e=Me(t.site),pa.insert(l,e),l.edge=e.edge=qe(t.site,l.site),Ae(t),void Ae(e);if(!e)return void(l.edge=qe(t.site,l.site));Ce(t),Ce(e);var c=t.site,f=c.x,s=c.y,h=n.x-f,p=n.y-s,g=e.site,v=g.x-f,d=g.y-s,y=2*(h*d-p*v),m=h*h+p*p,M=v*v+d*d,x={x:(d*m-p*M)/y+f,y:(h*M-v*m)/y+s};Te(e.edge,c,g,x),l.edge=qe(c,n,null,x),e.edge=qe(n,g,null,x),Ae(t),Ae(e)}}function we(n,t){var e=n.site,r=e.x,i=e.y,u=i-t;if(!u)return r;var o=n.P;if(!o)return-1/0;var a=(e=o.site).x,l=e.y,c=l-t;if(!c)return a;var f=a-r,s=1/u-1/c,h=f/c;return s?(-h+Math.sqrt(h*h-2*s*(f*f/(-2*c)-l+c/2+i-u/2)))/s+r:(r+a)/2}function Se(n,t){var e=n.N;if(e)return we(e,t);var r=n.site;return r.y===t?r.x:1/0}function ke(n){this.site=n,this.edges=[]}function Ne(n,t){return t.angle-n.angle}function Ee(){Pe(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ae(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,i=n.site,u=e.site;if(r!==u){var o=i.x,a=i.y,l=r.x-o,c=r.y-a,f=u.x-o,s=2*(l*(d=u.y-a)-c*f);if(!(-Su<=s)){var h=l*l+c*c,p=f*f+d*d,g=(d*h-c*p)/s,v=(l*p-f*h)/s,d=v+a,y=ya.pop()||new Ee;y.arc=n,y.site=i,y.x=g+o,y.y=d+Math.sqrt(g*g+v*v),y.cy=d,n.circle=y;for(var m=null,M=va._;M;)if(y.y<M.y||y.y===M.y&&y.x<=M.x){if(!M.L){m=M.P;break}M=M.L}else{if(!M.R){m=M;break}M=M.R}va.insert(m,y),m||(ga=y)}}}}function Ce(n){var t=n.circle;t&&(t.P||(ga=t.N),va.remove(t),ya.push(t),Pe(t),n.circle=null)}function ze(n,t){var e=n.b;if(e)return!0;var r,i,u=n.a,o=t[0][0],a=t[1][0],l=t[0][1],c=t[1][1],f=n.l,s=n.r,h=f.x,p=f.y,g=s.x,v=s.y,d=(h+g)/2,y=(p+v)/2;if(v===p){if(d<o||a<=d)return;if(g<h){if(u){if(u.y>=c)return}else u={x:d,y:l};e={x:d,y:c}}else{if(u){if(u.y<l)return}else u={x:d,y:c};e={x:d,y:l}}}else if(i=y-(r=(h-g)/(v-p))*d,r<-1||1<r)if(g<h){if(u){if(u.y>=c)return}else u={x:(l-i)/r,y:l};e={x:(c-i)/r,y:c}}else{if(u){if(u.y<l)return}else u={x:(c-i)/r,y:c};e={x:(l-i)/r,y:l}}else if(p<v){if(u){if(u.x>=a)return}else u={x:o,y:r*o+i};e={x:a,y:r*a+i}}else{if(u){if(u.x<o)return}else u={x:a,y:r*a+i};e={x:o,y:r*o+i}}return n.a=u,n.b=e,!0}function Le(n,t){this.l=n,this.r=t,this.a=this.b=null}function qe(n,t,e,r){var i=new Le(n,t);return sa.push(i),e&&Te(i,n,t,e),r&&Te(i,t,n,r),ha[n.i].edges.push(new Re(i,n,t)),ha[t.i].edges.push(new Re(i,t,n)),i}function Te(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function Re(n,t,e){var r=n.a,i=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function De(){this._=null}function Pe(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function Ue(n,t){var e=t,r=t.R,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function je(n,t){var e=t,r=t.L,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Fe(n){for(;n.L;)n=n.L;return n}function He(n,t){var e,r,i,u=n.sort(Oe).pop();for(sa=[],ha=new Array(n.length),pa=new De,va=new De;;)if(i=ga,u&&(!i||u.y<i.y||u.y===i.y&&u.x<i.x))u.x===e&&u.y===r||(ha[u.i]=new ke(u),_e(u),e=u.x,r=u.y),u=n.pop();else{if(!i)break;be(i.arc)}t&&(function(n){for(var t,e=sa,r=Ct(n[0][0],n[0][1],n[1][0],n[1][1]),i=e.length;i--;)ze(t=e[i],n)&&r(t)&&!(ou(t.a.x-t.b.x)<wu&&ou(t.a.y-t.b.y)<wu)||(t.a=t.b=null,e.splice(i,1))}(t),function(n){for(var t,e,r,i,u,o,a,l,c,f,s=n[0][0],h=n[1][0],p=n[0][1],g=n[1][1],v=ha,d=v.length;d--;)if((u=v[d])&&u.prepare())for(l=(a=u.edges).length,o=0;o<l;)r=(f=a[o].end()).x,i=f.y,t=(c=a[++o%l].start()).x,e=c.y,(ou(r-t)>wu||ou(i-e)>wu)&&(a.splice(o,0,new Re((y=u.site,m=f,M=ou(r-s)<wu&&wu<g-i?{x:s,y:ou(t-s)<wu?e:g}:ou(i-g)<wu&&wu<h-r?{x:ou(e-g)<wu?t:h,y:g}:ou(r-h)<wu&&wu<i-p?{x:h,y:ou(t-h)<wu?e:p}:ou(i-p)<wu&&wu<r-s?{x:ou(e-p)<wu?t:s,y:p}:null,x=void 0,(x=new Le(y,null)).a=m,x.b=M,sa.push(x),x),u.site,null)),++l);var y,m,M,x}(t));var o={cells:ha,edges:sa};return pa=va=sa=ha=null,o}function Oe(n,t){return t.y-n.y||t.x-n.x}function Ie(n){return n.x}function Ye(n){return n.y}function Ze(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ve(n,t){n=Ji.rgb(n),t=Ji.rgb(t);var e=n.r,r=n.g,i=n.b,u=t.r-e,o=t.g-r,a=t.b-i;return function(n){return"#"+dn(Math.round(e+u*n))+dn(Math.round(r+o*n))+dn(Math.round(i+a*n))}}function Xe(n,t){var e,r={},i={};for(e in n)e in t?r[e]=We(n[e],t[e]):i[e]=n[e];for(e in t)e in n||(i[e]=t[e]);return function(n){for(e in r)i[e]=r[e](n);return i}}function $e(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Be(n,r){var t,e,i,u=Ma.lastIndex=xa.lastIndex=0,o=-1,a=[],l=[];for(n+="",r+="";(t=Ma.exec(n))&&(e=xa.exec(r));)(i=e.index)>u&&(i=r.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(t=t[0])===(e=e[0])?a[o]?a[o]+=e:a[++o]=e:(a[++o]=null,l.push({i:o,x:$e(t,e)})),u=xa.lastIndex;return u<r.length&&(i=r.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?(r=l[0].x,function(n){return r(n)+""}):function(){return r}:(r=l.length,function(n){for(var t,e=0;e<r;++e)a[(t=l[e]).i]=t.x(n);return a.join("")})}function We(n,t){for(var e,r=Ji.interpolators.length;0<=--r&&!(e=Ji.interpolators[r](n,t)););return e}function Je(n,t){var e,r=[],i=[],u=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;e<a;++e)r.push(We(n[e],t[e]));for(;e<u;++e)i[e]=n[e];for(;e<o;++e)i[e]=t[e];return function(n){for(e=0;e<a;++e)i[e]=r[e](n);return i}}function Ge(t){return function(n){return 1-t(1-n)}}function Ke(t){return function(n){return.5*(n<.5?t(2*n):2-t(2-2*n))}}function Qe(n){return n*n}function nr(n){return n*n*n}function tr(n){if(n<=0)return 0;if(1<=n)return 1;var t=n*n,e=t*n;return 4*(n<.5?e:3*(n-t)+e-.75)}function er(n){return 1-Math.cos(n*Au)}function rr(n){return Math.pow(2,10*(n-1))}function ir(n){return 1-Math.sqrt(1-n*n)}function ur(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function or(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function ar(n){var t,e,r,i=[n.a,n.b],u=[n.c,n.d],o=cr(i),a=lr(i,u),l=cr(((t=u)[0]+=(r=-a)*(e=i)[0],t[1]+=r*e[1],t))||0;i[0]*u[1]<u[0]*i[1]&&(i[0]*=-1,i[1]*=-1,o*=-1,a*=-1),this.rotate=(o?Math.atan2(i[1],i[0]):Math.atan2(-u[0],u[1]))*zu,this.translate=[n.e,n.f],this.scale=[o,l],this.skew=l?Math.atan2(a,l)*zu:0}function lr(n,t){return n[0]*t[0]+n[1]*t[1]}function cr(n){var t=Math.sqrt(lr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function fr(n){return n.length?n.pop()+",":""}function sr(n,t){var e,r,i,u,o,a,l,c,f=[],s=[];return n=Ji.transform(n),t=Ji.transform(t),function(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push("translate(",null,",",null,")");r.push({i:i-4,x:$e(n[0],t[0])},{i:i-2,x:$e(n[1],t[1])})}else(t[0]||t[1])&&e.push("translate("+t+")")}(n.translate,t.translate,f,s),o=n.rotate,a=t.rotate,l=f,c=s,o!==a?(180<o-a?a+=360:180<a-o&&(o+=360),c.push({i:l.push(fr(l)+"rotate(",null,")")-2,x:$e(o,a)})):a&&l.push(fr(l)+"rotate("+a+")"),e=n.skew,r=t.skew,i=f,u=s,e!==r?u.push({i:i.push(fr(i)+"skewX(",null,")")-2,x:$e(e,r)}):r&&i.push(fr(i)+"skewX("+r+")"),function(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push(fr(e)+"scale(",null,",",null,")");r.push({i:i-4,x:$e(n[0],t[0])},{i:i-2,x:$e(n[1],t[1])})}else 1===t[0]&&1===t[1]||e.push(fr(e)+"scale("+t+")")}(n.scale,t.scale,f,s),n=t=null,function(n){for(var t,e=-1,r=s.length;++e<r;)f[(t=s[e]).i]=t.x(n);return f.join("")}}function hr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function pr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function gr(n){for(var t=n.source,e=n.target,r=function(n,t){if(n===t)return n;for(var e=vr(n),r=vr(t),i=e.pop(),u=r.pop(),o=null;i===u;)o=i,i=e.pop(),u=r.pop();return o}(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var u=i.length;e!==r;)i.splice(u,0,e),e=e.parent;return i}function vr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),e=(n=e).parent;return t.push(n),t}function dr(n){n.fixed|=2}function yr(n){n.fixed&=-7}function mr(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Mr(n){n.fixed&=-5}function xr(n,t){return Ji.rebind(n,t,"sort","children","value"),(n.nodes=n).links=Nr,n}function br(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(i=n.children)&&(r=i.length))for(var r,i;0<=--r;)e.push(i[r])}function _r(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(u=n.children)&&(i=u.length))for(var i,u,o=-1;++o<i;)e.push(u[o]);for(;null!=(n=r.pop());)t(n)}function wr(n){return n.children}function Sr(n){return n.value}function kr(n,t){return t.value-n.value}function Nr(n){return Ji.merge(n.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}function Er(n){return n.x}function Ar(n){return n.y}function Cr(n,t,e){n.y0=t,n.y=e}function zr(n){return Ji.range(n.length)}function Lr(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function qr(n){for(var t,e=1,r=0,i=n[0][1],u=n.length;e<u;++e)(t=n[e][1])>i&&(r=e,i=t);return r}function Tr(n){return n.reduce(Rr,0)}function Rr(n,t){return n+t[1]}function Dr(n,t){return Pr(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Pr(n,t){for(var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];++e<=t;)u[e]=i*e+r;return u}function Ur(n){return[Ji.min(n),Ji.max(n)]}function jr(n,t){return n.value-t.value}function Fr(n,t){var e=n._pack_next;(n._pack_next=t)._pack_prev=n,(t._pack_next=e)._pack_prev=t}function Hr(n,t){(n._pack_next=t)._pack_prev=n}function Or(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return e*e+r*r<.999*i*i}function Ir(n){function t(n){f=Math.min(n.x-n.r,f),s=Math.max(n.x+n.r,s),h=Math.min(n.y-n.r,h),p=Math.max(n.y+n.r,p)}if((e=n.children)&&(c=e.length)){var e,r,i,u,o,a,l,c,f=1/0,s=-1/0,h=1/0,p=-1/0;if(e.forEach(Yr),(r=e[0]).x=-r.r,r.y=0,t(r),1<c&&((i=e[1]).x=i.r,i.y=0,t(i),2<c))for(Vr(r,i,u=e[2]),t(u),Fr(r,u),Fr(r._pack_prev=u,i),i=r._pack_next,o=3;o<c;o++){Vr(r,i,u=e[o]);var g=0,v=1,d=1;for(a=i._pack_next;a!==i;a=a._pack_next,v++)if(Or(a,u)){g=1;break}if(1==g)for(l=r._pack_prev;l!==a._pack_prev&&!Or(l,u);l=l._pack_prev,d++);g?(v<d||v==d&&i.r<r.r?Hr(r,i=a):Hr(r=l,i),o--):(Fr(r,u),t(i=u))}var y=(f+s)/2,m=(h+p)/2,M=0;for(o=0;o<c;o++)(u=e[o]).x-=y,u.y-=m,M=Math.max(M,u.r+Math.sqrt(u.x*u.x+u.y*u.y));n.r=M,e.forEach(Zr)}}function Yr(n){n._pack_next=n._pack_prev=n}function Zr(n){delete n._pack_next,delete n._pack_prev}function Vr(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var o=t.r+e.r,a=i*i+u*u,l=.5+((r*=r)-(o*=o))/(2*a),c=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+l*i+c*u,e.y=n.y+l*u-c*i}else e.x=n.x+r,e.y=n.y}function Xr(n,t){return n.parent==t.parent?1:2}function $r(n){var t=n.children;return t.length?t[0]:n.t}function Br(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Wr(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Jr(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];return i<0&&(e+=i/2,i=0),u<0&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function Gr(n){var t=n[0],e=n[n.length-1];return t<e?[t,e]:[e,t]}function Kr(n){return n.rangeExtent?n.rangeExtent():Gr(n.range())}function Qr(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function ni(n,t){var e,r=0,i=n.length-1,u=n[r],o=n[i];return o<u&&(e=r,r=i,i=e,e=u,u=o,o=e),n[r]=t.floor(u),n[i]=t.ceil(o),n}function ti(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:La}function ei(e,n,t,r){var i=[],u=[],o=0,a=Math.min(e.length,n.length)-1;for(e[a]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++o<=a;)i.push(t(e[o-1],e[o])),u.push(r(n[o-1],n[o]));return function(n){var t=Ji.bisect(e,n,1,a)-1;return u[t](i[t](n))}}function ri(n,t){return Ji.rebind(n,t,"range","rangeRound","interpolate","clamp")}function ii(n,t){return ni(n,ti(ui(n,t)[2])),ni(n,ti(ui(n,t)[2])),n}function ui(n,t){null==t&&(t=10);var e=Gr(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;return u<=.15?i*=10:u<=.35?i*=5:u<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function oi(n,t){return Ji.range.apply(Ji,ui(n,t))}function ai(n,t,e){var r,i,u,o=ui(n,t);if(e){var a=Ju.exec(e);if(a.shift(),"s"===a[8]){var l=Ji.formatPrefix(Math.max(ou(o[0]),ou(o[1])));return a[7]||(a[7]="."+li(l.scale(o[2]))),a[8]="f",e=Ji.format(a.join("")),function(n){return e(l.scale(n))+l.symbol}}a[7]||(a[7]="."+(r=a[8],u=li((i=o)[2]),r in qa?Math.abs(u-li(Math.max(ou(i[0]),ou(i[1]))))+ +("e"!==r):u-2*("%"===r))),e=a.join("")}else e=",."+li(o[2])+"f";return Ji.format(e)}function li(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function ci(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function fi(){return 0}function si(n){return n.innerRadius}function hi(n){return n.outerRadius}function pi(n){return n.startAngle}function gi(n){return n.endAngle}function vi(n){return n&&n.padAngle}function di(n,t,e,r){return 0<(n-e)*t-(t-r)*n?0:1}function yi(n,t,e,r,i){var u=n[0]-t[0],o=n[1]-t[1],a=(i?r:-r)/Math.sqrt(u*u+o*o),l=a*o,c=-a*u,f=n[0]+l,s=n[1]+c,h=t[0]+l,p=t[1]+c,g=(f+h)/2,v=(s+p)/2,d=h-f,y=p-s,m=d*d+y*y,M=e-r,x=f*p-h*s,b=(y<0?-1:1)*Math.sqrt(Math.max(0,M*M*m-x*x)),_=(x*y-d*b)/m,w=(-x*d-y*b)/m,S=(x*y+d*b)/m,k=(-x*d+y*b)/m,N=_-g,E=w-v,A=S-g,C=k-v;return A*A+C*C<N*N+E*E&&(_=S,w=k),[[_-l,w-c],[_*e/M,w*e/M]]}function mi(c){function t(n){function t(){r.push("M",p(c(i),g))}for(var e,r=[],i=[],u=-1,o=n.length,a=_n(f),l=_n(s);++u<o;)h.call(this,e=n[u],u)?i.push([+a.call(this,e,u),+l.call(this,e,u)]):i.length&&(t(),i=[]);return i.length&&t(),r.length?r.join(""):null}var f=se,s=he,h=xt,p=Mi,e=p.key,g=.7;return t.x=function(n){return arguments.length?(f=n,t):f},t.y=function(n){return arguments.length?(s=n,t):s},t.defined=function(n){return arguments.length?(h=n,t):h},t.interpolate=function(n){return arguments.length?(e="function"==typeof n?p=n:(p=Ha.get(n)||Mi).key,t):e},t.tension=function(n){return arguments.length?(g=n,t):g},t}function Mi(n){return 1<n.length?n.join("L"):n+"Z"}function xi(n){return n.join("L")+"Z"}function bi(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function _i(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function wi(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return Mi(n);var e=n.length!=t.length,r="",i=n[0],u=n[1],o=t[0],a=o,l=1;if(e&&(r+="Q"+(u[0]-2*o[0]/3)+","+(u[1]-2*o[1]/3)+","+u[0]+","+u[1],i=n[1],l=2),1<t.length){a=t[1],u=n[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var c=2;c<t.length;c++,l++)u=n[l],a=t[c],r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}if(e){var f=n[l];r+="Q"+(u[0]+2*a[0]/3)+","+(u[1]+2*a[1]/3)+","+f[0]+","+f[1]}return r}function Si(n,t){for(var e,r=[],i=(1-t)/2,u=n[0],o=n[1],a=1,l=n.length;++a<l;)e=u,u=o,o=n[a],r.push([i*(o[0]-e[0]),i*(o[1]-e[1])]);return r}function ki(n){if(n.length<3)return Mi(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],o=[i,i,i,(r=n[1])[0]],a=[u,u,u,r[1]],l=[i,",",u,"L",Ni(Ya,o),",",Ni(Ya,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Ei(l,o,a);return n.pop(),l.push("L",r),l.join("")}function Ni(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Ei(n,t,e){n.push("C",Ni(Oa,t),",",Ni(Oa,e),",",Ni(Ia,t),",",Ni(Ia,e),",",Ni(Ya,t),",",Ni(Ya,e))}function Ai(n,t){return(t[1]-n[1])/(t[0]-n[0])}function Ci(n){for(var t,e,r,i,u=[],o=function(n){for(var t=0,e=n.length-1,r=[],i=n[0],u=n[1],o=r[0]=Ai(i,u);++t<e;)r[t]=(o+(o=Ai(i=u,u=n[t+1])))/2;return r[t]=o,r}(n),a=-1,l=n.length-1;++a<l;)t=Ai(n[a],n[a+1]),ou(t)<wu?o[a]=o[a+1]=0:9<(i=(e=o[a]/t)*e+(r=o[a+1]/t)*r)&&(i=3*t/Math.sqrt(i),o[a]=i*e,o[a+1]=i*r);for(a=-1;++a<=l;)i=(n[Math.min(l,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),u.push([i||0,o[a]*i||0]);return u}function zi(n){for(var t,e,r,i=-1,u=n.length;++i<u;)e=(t=n[i])[0],r=t[1]-Au,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Li(g){function t(n){function t(){u.push("M",x(g(a),w),_,b(g(o.reverse()),w),"Z")}for(var e,r,i,u=[],o=[],a=[],l=-1,c=n.length,f=_n(v),s=_n(y),h=v===d?function(){return r}:_n(d),p=y===m?function(){return i}:_n(m);++l<c;)M.call(this,e=n[l],l)?(o.push([r=+f.call(this,e,l),i=+s.call(this,e,l)]),a.push([+h.call(this,e,l),+p.call(this,e,l)])):o.length&&(t(),o=[],a=[]);return o.length&&t(),u.length?u.join(""):null}var v=se,d=se,y=0,m=he,M=xt,x=Mi,e=x.key,b=x,_="L",w=.7;return t.x=function(n){return arguments.length?(v=d=n,t):d},t.x0=function(n){return arguments.length?(v=n,t):v},t.x1=function(n){return arguments.length?(d=n,t):d},t.y=function(n){return arguments.length?(y=m=n,t):m},t.y0=function(n){return arguments.length?(y=n,t):y},t.y1=function(n){return arguments.length?(m=n,t):m},t.defined=function(n){return arguments.length?(M=n,t):M},t.interpolate=function(n){return arguments.length?(e="function"==typeof n?x=n:(x=Ha.get(n)||Mi).key,b=x.reverse||x,_=x.closed?"M":"L",t):e},t.tension=function(n){return arguments.length?(w=n,t):w},t}function qi(n){return n.radius}function Ti(n){return[n.x,n.y]}function Ri(){return 64}function Di(){return"circle"}function Pi(n){var t=Math.sqrt(n/ku);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Ui(r){return function(){var n,t,e;(n=this[r])&&(e=n[t=n.active])&&(e.timer.c=null,e.timer.t=NaN,--n.count?delete n[t]:delete this[r],n.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function ji(n,t,e){return su(n,Ja),n.namespace=t,n.id=e,n}function Fi(n,r,i,u){var o=n.id,a=n.namespace;return O(n,"function"==typeof i?function(n,t,e){n[a][o].tween.set(r,u(i.call(n,n.__data__,t,e)))}:(i=u(i),function(n){n[a][o].tween.set(r,i)}))}function Hi(n){return null==n&&(n=""),function(){this.textContent=n}}function Oi(n){return null==n?"__transition__":"__transition_"+n+"__"}function Ii(u,o,i,a,n){function e(n){var t=g.active,e=g[t];for(var r in e&&(e.timer.c=null,e.timer.t=NaN,--g.count,delete g[t],e.event&&e.event.interrupt.call(u,u.__data__,e.index)),g)if(+r<a){var i=g[r];i.timer.c=null,i.timer.t=NaN,--g.count,delete g[r]}f.c=l,kn(function(){return f.c&&l(n||1)&&(f.c=null,f.t=NaN),1},0,c),g.active=a,v.event&&v.event.start.call(u,u.__data__,o),p=[],v.tween.forEach(function(n,t){(t=t.call(u,u.__data__,o))&&p.push(t)}),h=v.ease,s=v.duration}function l(n){for(var t=n/s,e=h(t),r=p.length;0<r;)p[--r].call(u,e);return 1<=t?(v.event&&v.event.end.call(u,u.__data__,o),--g.count?delete g[a]:delete u[i],1):void 0}var c,f,s,h,p,g=u[i]||(u[i]={active:0,count:0}),v=g[a];v||(c=n.time,f=kn(function(n){var t=v.delay;return f.t=t+c,t<=n?e(n-t):void(f.c=e)},0,c),v=g[a]={tween:new m,time:c,timer:f,delay:n.delay,duration:n.duration,ease:n.ease,index:o},n=null,++g.count)}function Yi(n,e,r){n.attr("transform",function(n){var t=e(n);return"translate("+(isFinite(t)?t:r(n))+",0)"})}function Zi(n,e,r){n.attr("transform",function(n){var t=e(n);return"translate(0,"+(isFinite(t)?t:r(n))+")"})}function Vi(n){return n.toISOString()}function Xi(t,i,n){function o(n){return t(n)}function a(n,t){var e=(n[1]-n[0])/t,r=Ji.bisect(ul,e);return r==ul.length?[i.year,ui(n.map(function(n){return n/31536e6}),t)[2]]:r?i[e/ul[r-1]<ul[r]/e?r-1:r]:[ll,ui(n,t)[2]]}return o.invert=function(n){return $i(t.invert(n))},o.domain=function(n){return arguments.length?(t.domain(n),o):t.domain().map($i)},o.nice=function(t,e){function r(n){return!isNaN(n)&&!t.range(n,$i(+n+1),e).length}var n=o.domain(),i=Gr(n),u=null==t?a(i,10):"number"==typeof t&&a(i,t);return u&&(t=u[0],e=u[1]),o.domain(ni(n,1<e?{floor:function(n){for(;r(n=t.floor(n));)n=$i(n-1);return n},ceil:function(n){for(;r(n=t.ceil(n));)n=$i(+n+1);return n}}:t))},o.ticks=function(n,t){var e=Gr(o.domain()),r=null==n?a(e,10):"number"==typeof n?a(e,n):!n.range&&[{range:n},t];return r&&(n=r[0],t=r[1]),n.range(e[0],$i(+e[1]+1),t<1?1:t)},o.tickFormat=function(){return n},o.copy=function(){return Xi(t.copy(),i,n)},ri(o,t)}function $i(n){return new Date(n)}function Bi(n){return JSON.parse(n.responseText)}function Wi(n){var t=Qi.createRange();return t.selectNode(Qi.body),t.createContextualFragment(n.responseText)}var Ji={version:"3.5.17"},Gi=[].slice,Ki=function(n){return Gi.call(n)},Qi=this.document;if(Qi)try{Ki(Qi.documentElement.childNodes)[0].nodeType}catch(n){Ki=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),Qi)try{Qi.createElement("DIV").style.setProperty("opacity",0,"")}catch(n){var nu=this.Element.prototype,tu=nu.setAttribute,eu=nu.setAttributeNS,ru=this.CSSStyleDeclaration.prototype,iu=ru.setProperty;nu.setAttribute=function(n,t){tu.call(this,n,t+"")},nu.setAttributeNS=function(n,t,e){eu.call(this,n,t,e+"")},ru.setProperty=function(n,t,e){iu.call(this,n,t+"",e)}}Ji.ascending=o,Ji.descending=function(n,t){return t<n?-1:n<t?1:n<=t?0:NaN},Ji.min=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r<=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&r<e&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r<=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&r<e&&(e=r)}return e},Ji.max=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r<=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&e<r&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r<=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&e<r&&(e=r)}return e},Ji.extent=function(n,t){var e,r,i,u=-1,o=n.length;if(1===arguments.length){for(;++u<o;)if(null!=(r=n[u])&&r<=r){e=i=r;break}for(;++u<o;)null!=(r=n[u])&&(r<e&&(e=r),i<r&&(i=r))}else{for(;++u<o;)if(null!=(r=t.call(n,n[u],u))&&r<=r){e=i=r;break}for(;++u<o;)null!=(r=t.call(n,n[u],u))&&(r<e&&(e=r),i<r&&(i=r))}return[e,i]},Ji.sum=function(n,t){var e,r=0,i=n.length,u=-1;if(1===arguments.length)for(;++u<i;)f(e=+n[u])&&(r+=e);else for(;++u<i;)f(e=+t.call(n,n[u],u))&&(r+=e);return r},Ji.mean=function(n,t){var e,r=0,i=n.length,u=-1,o=i;if(1===arguments.length)for(;++u<i;)f(e=c(n[u]))?r+=e:--o;else for(;++u<i;)f(e=c(t.call(n,n[u],u)))?r+=e:--o;return o?r/o:void 0},Ji.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i},Ji.median=function(n,t){var e,r=[],i=n.length,u=-1;if(1===arguments.length)for(;++u<i;)f(e=c(n[u]))&&r.push(e);else for(;++u<i;)f(e=c(t.call(n,n[u],u)))&&r.push(e);return r.length?Ji.quantile(r.sort(o),.5):void 0},Ji.variance=function(n,t){var e,r,i=n.length,u=0,o=0,a=-1,l=0;if(1===arguments.length)for(;++a<i;)f(e=c(n[a]))&&(o+=(r=e-u)*(e-(u+=r/++l)));else for(;++a<i;)f(e=c(t.call(n,n[a],a)))&&(o+=(r=e-u)*(e-(u+=r/++l)));return 1<l?o/(l-1):void 0},Ji.deviation=function(){var n=Ji.variance.apply(this,arguments);return n?Math.sqrt(n):n};var uu=n(o);Ji.bisectLeft=uu.left,Ji.bisect=Ji.bisectRight=uu.right,Ji.bisector=function(e){return n(1===e.length?function(n,t){return o(e(n),t)}:e)},Ji.shuffle=function(n,t,e){(u=arguments.length)<3&&(e=n.length,u<2&&(t=0));for(var r,i,u=e-t;u;)i=Math.random()*u--|0,r=n[u+t],n[u+t]=n[i+t],n[i+t]=r;return n},Ji.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},Ji.pairs=function(n){for(var t=0,e=n.length-1,r=n[0],i=new Array(e<0?0:e);t<e;)i[t]=[r,r=n[++t]];return i},Ji.transpose=function(n){if(!(i=n.length))return[];for(var t=-1,e=Ji.min(n,l),r=new Array(e);++t<e;)for(var i,u=-1,o=r[t]=new Array(i);++u<i;)o[u]=n[u][t];return r},Ji.zip=function(){return Ji.transpose(arguments)},Ji.keys=function(n){var t=[];for(var e in n)t.push(e);return t},Ji.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},Ji.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},Ji.merge=function(n){for(var t,e,r,i=n.length,u=-1,o=0;++u<i;)o+=n[u].length;for(e=new Array(o);0<=--i;)for(t=(r=n[i]).length;0<=--t;)e[--o]=r[t];return e};var ou=Math.abs;Ji.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e==1/0)throw new Error("infinite range");var r,i=[],u=function(n){for(var t=1;n*t%1;)t*=10;return t}(ou(e)),o=-1;if(n*=u,t*=u,(e*=u)<0)for(;(r=n+e*++o)>t;)i.push(r/u);else for(;(r=n+e*++o)<t;)i.push(r/u);return i},Ji.map=function(n,t){var e=new m;if(n instanceof m)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,i=-1,u=n.length;if(1===arguments.length)for(;++i<u;)e.set(i,n[i]);else for(;++i<u;)e.set(t.call(n,r=n[i],i),r)}else for(var o in n)e.set(o,n[o]);return e};var au="__proto__",lu="\0";t(m,{has:i,get:function(n){return this._[e(n)]},set:function(n,t){return this._[e(n)]=t},remove:u,keys:s,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:r(t),value:this._[t]});return n},size:h,empty:p,forEach:function(n){for(var t in this._)n.call(this,r(t),this._[t])}}),Ji.nest=function(){function s(e,n,r){if(r>=v.length)return p?p.call(g,n):h?n.sort(h):n;for(var t,i,u,o,a=-1,l=n.length,c=v[r++],f=new m;++a<l;)(o=f.get(t=c(i=n[a])))?o.push(i):f.set(t,[i]);return u=e?(i=e(),function(n,t){i.set(n,s(e,t,r))}):(i={},function(n,t){i[n]=s(e,t,r)}),f.forEach(u),i}var h,p,g={},v=[],t=[];return g.map=function(n,t){return s(t,n,0)},g.entries=function(n){return function e(n,r){if(r>=v.length)return n;var i=[],u=t[r++];return n.forEach(function(n,t){i.push({key:n,values:e(t,r)})}),u?i.sort(function(n,t){return u(n.key,t.key)}):i}(s(Ji.map,n,0),0)},g.key=function(n){return v.push(n),g},g.sortKeys=function(n){return t[v.length-1]=n,g},g.sortValues=function(n){return h=n,g},g.rollup=function(n){return p=n,g},g},Ji.set=function(n){var t=new g;if(n)for(var e=0,r=n.length;e<r;++e)t.add(n[e]);return t},t(g,{has:i,add:function(n){return this._[e(n+="")]=!0,n},remove:u,values:s,size:h,empty:p,forEach:function(n){for(var t in this._)n.call(this,r(t))}}),Ji.behavior={},Ji.rebind=function(n,t){for(var e,r=1,i=arguments.length;++r<i;)n[e=arguments[r]]=v(n,t,t[e]);return n};var cu=["webkit","ms","moz","Moz","o","O"];Ji.dispatch=function(){for(var n=new M,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=x(n);return n},M.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(0<=e&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},Ji.event=null,Ji.requote=function(n){return n.replace(fu,"\\$&")};var fu=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,su={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},hu=function(n,t){return t.querySelector(n)},pu=function(n,t){return t.querySelectorAll(n)},gu=function(n,t){var e=n.matches||n[d(n,"matchesSelector")];return(gu=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(hu=function(n,t){return Sizzle(n,t)[0]||null},gu=(pu=Sizzle).matchesSelector),Ji.selection=function(){return Ji.select(Qi.documentElement)};var vu=Ji.selection.prototype=[];vu.select=function(n){var t,e,r,i,u=[];n=w(n);for(var o=-1,a=this.length;++o<a;){u.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(t.push(e=n.call(i,i.__data__,l,o)),e&&"__data__"in i&&(e.__data__=i.__data__)):t.push(null)}return _(u)},vu.selectAll=function(n){var t,e,r=[];n=S(n);for(var i=-1,u=this.length;++i<u;)for(var o=this[i],a=-1,l=o.length;++a<l;)(e=o[a])&&(r.push(t=Ki(n.call(e,e.__data__,a,i))),t.parentNode=e);return _(r)};var du="http://www.w3.org/1999/xhtml",yu={svg:"http://www.w3.org/2000/svg",xhtml:du,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ji.ns={prefix:yu,qualify:function(n){var t=n.indexOf(":"),e=n;return 0<=t&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),yu.hasOwnProperty(e)?{space:yu[e],local:n}:n}},vu.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return(n=Ji.ns.qualify(n)).local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(k(t,n[t]));return this}return this.each(k(n,t))},vu.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=A(n)).length,i=-1;if(t=e.classList){for(;++i<r;)if(!t.contains(n[i]))return!1}else for(t=e.getAttribute("class");++i<r;)if(!E(n[i]).test(t))return!1;return!0}for(t in n)this.each(C(t,n[t]));return this}return this.each(C(n,t))},vu.style=function(n,t,e){var r=arguments.length;if(r<3){if("string"!=typeof n){for(e in r<2&&(t=""),n)this.each(L(e,n[e],t));return this}if(r<2){var i=this.node();return T(i).getComputedStyle(i,null).getPropertyValue(n)}e=""}return this.each(L(n,t,e))},vu.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(q(t,n[t]));return this}return this.each(q(n,t))},vu.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},vu.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},vu.append=function(n){return n=U(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},vu.insert=function(n,t){return n=U(n),t=w(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},vu.remove=function(){return this.each(j)},vu.data=function(n,g){function t(n,t){var e,r,i,u=n.length,o=t.length,a=Math.min(u,o),l=new Array(o),c=new Array(o),f=new Array(u);if(g){var s,h=new m,p=new Array(u);for(e=-1;++e<u;)(r=n[e])&&(h.has(s=g.call(r,r.__data__,e))?f[e]=r:h.set(s,r),p[e]=s);for(e=-1;++e<o;)(r=h.get(s=g.call(t,i=t[e],e)))?!0!==r&&((l[e]=r).__data__=i):c[e]=F(i),h.set(s,!0);for(e=-1;++e<u;)e in p&&!0!==h.get(p[e])&&(f[e]=n[e])}else{for(e=-1;++e<a;)r=n[e],i=t[e],r?(r.__data__=i,l[e]=r):c[e]=F(i);for(;e<o;++e)c[e]=F(t[e]);for(;e<u;++e)f[e]=n[e]}c.update=l,c.parentNode=l.parentNode=f.parentNode=n.parentNode,v.push(c),d.push(l),y.push(f)}var e,r,i=-1,u=this.length;if(!arguments.length){for(n=new Array(u=(e=this[0]).length);++i<u;)(r=e[i])&&(n[i]=r.__data__);return n}var v=I([]),d=_([]),y=_([]);if("function"==typeof n)for(;++i<u;)t(e=this[i],n.call(e,e.parentNode.__data__,i));else for(;++i<u;)t(e=this[i],n);return d.enter=function(){return v},d.exit=function(){return y},d},vu.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},vu.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=H(n));for(var u=0,o=this.length;u<o;u++){i.push(t=[]),t.parentNode=(e=this[u]).parentNode;for(var a=0,l=e.length;a<l;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return _(i)},vu.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],i=r.length-1,u=r[i];0<=--i;)(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e);return this},vu.sort=function(n){n=function(e){return arguments.length||(e=o),function(n,t){return n&&t?e(n.__data__,t.__data__):!n-!t}}.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},vu.each=function(r){return O(this,function(n,t,e){r.call(n,n.__data__,t,e)})},vu.call=function(n){var t=Ki(arguments);return n.apply(t[0]=this,t),this},vu.empty=function(){return!this.node()},vu.node=function(){for(var n=0,t=this.length;n<t;n++)for(var e=this[n],r=0,i=e.length;r<i;r++){var u=e[r];if(u)return u}return null},vu.size=function(){var n=0;return O(this,function(){++n}),n};var mu=[];Ji.selection.enter=I,(Ji.selection.enter.prototype=mu).append=vu.append,mu.empty=vu.empty,mu.node=vu.node,mu.call=vu.call,mu.size=vu.size,mu.select=function(n){for(var t,e,r,i,u,o=[],a=-1,l=this.length;++a<l;){r=(i=this[a]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,f=i.length;++c<f;)(u=i[c])?(t.push(r[c]=e=n.call(i.parentNode,u.__data__,c,a)),e.__data__=u.__data__):t.push(null)}return _(o)},mu.insert=function(n,t){return arguments.length<2&&(o=this,t=function(n,t,e){var r,i=o[e].update,u=i.length;for(e!=l&&(l=e,a=0),a<=t&&(a=t+1);!(r=i[a])&&++a<u;);return r}),vu.insert.call(this,n,t);var o,a,l},Ji.select=function(n){var t;return"string"==typeof n?(t=[hu(n,Qi)]).parentNode=Qi.documentElement:(t=[n]).parentNode=a(n),_([t])},Ji.selectAll=function(n){var t;return"string"==typeof n?(t=Ki(pu(n,Qi))).parentNode=Qi.documentElement:(t=Ki(n)).parentNode=null,_([t])},vu.on=function(n,t,e){var r=arguments.length;if(r<3){if("string"!=typeof n){for(e in r<2&&(t=!1),n)this.each(Y(e,n[e],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(Y(n,t,e))};var Mu=Ji.map({mouseenter:"mouseover",mouseleave:"mouseout"});Qi&&Mu.forEach(function(n){"on"+n in Qi&&Mu.remove(n)});var xu,bu=0;Ji.mouse=function(n){return $(n,b())};var _u=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;Ji.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=b().changedTouches),t)for(var r,i=0,u=t.length;i<u;++i)if((r=t[i]).identifier===e)return $(n,r)},Ji.behavior.drag=function(){function t(){this.on("mousedown.drag",e).on("touchstart.drag",r)}function n(f,s,h,p,g){return function(){var r,n=Ji.event.target.correspondingElement||Ji.event.target,i=this.parentNode,u=v.of(this,arguments),o=0,a=f(),t=".drag"+(null==a?"":"-"+a),e=Ji.select(h(n)).on(p+t,function(){var n,t,e=s(i,a);e&&(n=e[0]-c[0],t=e[1]-c[1],o|=n|t,u({type:"drag",x:(c=e)[0]+r[0],y:e[1]+r[1],dx:n,dy:t}))}).on(g+t,function(){s(i,a)&&(e.on(p+t,null).on(g+t,null),l(o),u({type:"dragend"}))}),l=X(n),c=s(i,a);r=d?[(r=d.apply(this,arguments)).x-c[0],r.y-c[1]]:[0,0],u({type:"dragstart"})}}var v=P(t,"drag","dragstart","dragend"),d=null,e=n(y,Ji.mouse,T,"mousemove","mouseup"),r=n(B,Ji.touch,R,"touchmove","touchend");return t.origin=function(n){return arguments.length?(d=n,t):d},Ji.rebind(t,v,"on")},Ji.touches=function(e,n){return arguments.length<2&&(n=b().touches),n?Ki(n).map(function(n){var t=$(e,n);return t.identifier=n.identifier,t}):[]};var wu=1e-6,Su=wu*wu,ku=Math.PI,Nu=2*ku,Eu=Nu-wu,Au=ku/2,Cu=ku/180,zu=180/ku,Lu=Math.SQRT2;Ji.interpolateZoom=function(n,t){var e,o,a=n[0],l=n[1],c=n[2],r=t[0],i=t[1],u=t[2],f=r-a,s=i-l,h=f*f+s*s;if(h<Su)o=Math.log(u/c)/Lu,e=function(n){return[a+n*f,l+n*s,c*Math.exp(Lu*n*o)]};else{var p=Math.sqrt(h),g=(u*u-c*c+4*h)/(2*c*2*p),v=(u*u-c*c-4*h)/(2*u*2*p),d=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(v*v+1)-v);o=(y-d)/Lu,e=function(n){var t,e,r=n*o,i=Q(d),u=c/(2*p)*(i*(e=Lu*r+d,((e=Math.exp(2*e))-1)/(e+1))-(t=d,((t=Math.exp(t))-1/t)/2));return[a+u*f,l+u*s,c*i/Q(Lu*r+d)]}}return e.duration=1e3*o,e},Ji.behavior.zoom=function(){function i(n){n.on(C,k).on(Tu+".zoom",e).on("dblclick.zoom",r).on(L,N)}function a(n){return[(n[0]-A.x)/A.k,(n[1]-A.y)/A.k]}function x(n){A.k=Math.max(d[0],Math.min(d[1],n))}function b(n,t){var e;t=[(e=t)[0]*A.k+A.x,e[1]*A.k+A.y],A.x+=n[0]-t[0],A.y+=n[1]-t[1]}function _(n,t,e,r){n.__chart__={x:A.x,y:A.y,k:A.k},x(Math.pow(2,r)),b(c=t,e),n=Ji.select(n),0<y&&(n=n.transition().duration(y)),n.call(i.event)}function t(){h&&h.domain(s.range().map(function(n){return(n-A.x)/A.k}).map(s.invert)),g&&g.domain(p.range().map(function(n){return(n-A.y)/A.k}).map(p.invert))}function l(n){m++||n({type:"zoomstart"})}function w(n){t(),n({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function S(n){--m||(n({type:"zoomend"}),c=null)}function k(){var n=this,t=q.of(n,arguments),e=0,r=Ji.select(T(n)).on(M,function(){e=1,b(Ji.mouse(n),i),w(t)}).on(z,function(){r.on(M,null).on(z,null),u(e),S(t)}),i=a(Ji.mouse(n)),u=X(n);Wa.call(n),l(t)}function N(){function f(){var n=Ji.touches(p);return c=A.k,n.forEach(function(n){n.identifier in v&&(v[n.identifier]=a(n))}),n}function n(){var n=Ji.event.target;Ji.select(n).on(y,s).on(m,h),M.push(n);for(var t=Ji.event.changedTouches,e=0,r=t.length;e<r;++e)v[t[e].identifier]=null;var i=f(),u=Date.now();if(1===i.length){if(u-E<500){var o=i[0];_(p,o,v[o.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),D()}E=u}else if(1<i.length){o=i[0];var a=i[1],l=o[0]-a[0],c=o[1]-a[1];d=l*l+c*c}}function s(){var n,t,e,r,i=Ji.touches(p);Wa.call(p);for(var u=0,o=i.length;u<o;++u,r=null)if(e=i[u],r=v[e.identifier]){if(t)break;n=e,t=r}if(r){var a=(a=e[0]-n[0])*a+(a=e[1]-n[1])*a,l=d&&Math.sqrt(a/d);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],x(l*c)}E=null,b(n,t),w(g)}function h(){if(Ji.event.touches.length){for(var n=Ji.event.changedTouches,t=0,e=n.length;t<e;++t)delete v[n[t].identifier];for(var r in v)return void f()}Ji.selectAll(M).on(i,null),u.on(C,k).on(L,N),o(),S(g)}var c,p=this,g=q.of(p,arguments),v={},d=0,i=".zoom-"+Ji.event.changedTouches[0].identifier,y="touchmove"+i,m="touchend"+i,M=[],u=Ji.select(p),o=X(p);n(),l(g),u.on(C,null).on(L,n)}function e(){var n=q.of(this,arguments);f?clearTimeout(f):(Wa.call(this),u=a(c=o||Ji.mouse(this)),l(n)),f=setTimeout(function(){f=null,S(n)},50),D(),x(Math.pow(2,.002*qu())*A.k),b(c,u),w(n)}function r(){var n=Ji.mouse(this),t=Math.log(A.k)/Math.LN2;_(this,n,a(n),Ji.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var u,c,o,f,E,s,h,p,g,A={x:0,y:0,k:1},v=[960,500],d=Ru,y=250,m=0,C="mousedown.zoom",M="mousemove.zoom",z="mouseup.zoom",L="touchstart.zoom",q=P(i,"zoomstart","zoom","zoomend");return Tu=Tu||("onwheel"in Qi?(qu=function(){return-Ji.event.deltaY*(Ji.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Qi?(qu=function(){return Ji.event.wheelDelta},"mousewheel"):(qu=function(){return-Ji.event.detail},"MozMousePixelScroll")),i.event=function(n){n.each(function(){var a=q.of(this,arguments),t=A;$a?Ji.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},l(a)}).tween("zoom:zoom",function(){var r=v[0],n=v[1],i=c?c[0]:r/2,u=c?c[1]:n/2,o=Ji.interpolateZoom([(i-A.x)/A.k,(u-A.y)/A.k,r/A.k],[(i-t.x)/t.k,(u-t.y)/t.k,r/t.k]);return function(n){var t=o(n),e=r/t[2];this.__chart__=A={x:i-t[0]*e,y:u-t[1]*e,k:e},w(a)}}).each("interrupt.zoom",function(){S(a)}).each("end.zoom",function(){S(a)}):(this.__chart__=A,l(a),w(a),S(a))})},i.translate=function(n){return arguments.length?(A={x:+n[0],y:+n[1],k:A.k},t(),i):[A.x,A.y]},i.scale=function(n){return arguments.length?(A={x:A.x,y:A.y,k:null},x(+n),t(),i):A.k},i.scaleExtent=function(n){return arguments.length?(d=null==n?Ru:[+n[0],+n[1]],i):d},i.center=function(n){return arguments.length?(o=n&&[+n[0],+n[1]],i):o},i.size=function(n){return arguments.length?(v=n&&[+n[0],+n[1]],i):v},i.duration=function(n){return arguments.length?(y=+n,i):y},i.x=function(n){return arguments.length?(s=(h=n).copy(),A={x:0,y:0,k:1},i):h},i.y=function(n){return arguments.length?(p=(g=n).copy(),A={x:0,y:0,k:1},i):g},Ji.rebind(i,q,"on")};var qu,Tu,Ru=[0,1/0];(Ji.color=tn).prototype.toString=function(){return this.rgb()+""};var Du=(Ji.hsl=en).prototype=new tn;Du.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new en(this.h,this.s,this.l/n)},Du.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new en(this.h,this.s,n*this.l)},Du.rgb=function(){return rn(this.h,this.s,this.l)};var Pu=(Ji.hcl=un).prototype=new tn;Pu.brighter=function(n){return new un(this.h,this.c,Math.min(100,this.l+Uu*(arguments.length?n:1)))},Pu.darker=function(n){return new un(this.h,this.c,Math.max(0,this.l-Uu*(arguments.length?n:1)))},Pu.rgb=function(){return on(this.h,this.c,this.l).rgb()},Ji.lab=an;var Uu=18,ju=.95047,Fu=1,Hu=1.08883,Ou=an.prototype=new tn;Ou.brighter=function(n){return new an(Math.min(100,this.l+Uu*(arguments.length?n:1)),this.a,this.b)},Ou.darker=function(n){return new an(Math.max(0,this.l-Uu*(arguments.length?n:1)),this.a,this.b)},Ou.rgb=function(){return ln(this.l,this.a,this.b)};var Iu=(Ji.rgb=pn).prototype=new tn;Iu.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b;return t||e||r?(t&&t<30&&(t=30),e&&e<30&&(e=30),r&&r<30&&(r=30),new pn(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new pn(30,30,30)},Iu.darker=function(n){return new pn((n=Math.pow(.7,arguments.length?n:1))*this.r,n*this.g,n*this.b)},Iu.hsl=function(){return mn(this.r,this.g,this.b)},Iu.toString=function(){return"#"+dn(this.r)+dn(this.g)+dn(this.b)};var Yu=Ji.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Yu.forEach(function(n,t){Yu.set(n,gn(t))}),Ji.functor=_n,Ji.xhr=wn(R),Ji.dsv=function(i,u){function o(n,t,e){arguments.length<3&&(e=t,t=null);var r=Sn(n,u,null==t?a:l(t),e);return r.row=function(n){return arguments.length?r.response(null==(t=n)?a:l(n)):t},r}function a(n){return o.parse(n.responseText)}function l(t){return function(n){return o.parse(n.responseText,t)}}function t(n){return n.map(c).join(i)}function c(n){return e.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var e=new RegExp('["'+i+"\n]"),h=i.charCodeAt(0);return o.parse=function(n,r){var i;return o.parseRows(n,function(n,t){if(i)return i(n,t-1);var e=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");i=r?function(n,t){return r(e(n),t)}:e})},o.parseRows=function(i,n){function t(){if(l<=c)return a;if(u)return u=!1,o;var n=c;if(34===i.charCodeAt(n)){for(var t=n;t++<l;)if(34===i.charCodeAt(t)){if(34!==i.charCodeAt(t+1))break;++t}return c=t+2,13===(e=i.charCodeAt(t+1))?(u=!0,10===i.charCodeAt(t+2)&&++c):10===e&&(u=!0),i.slice(n+1,t).replace(/""/g,'"')}for(;c<l;){var e,r=1;if(10===(e=i.charCodeAt(c++)))u=!0;else if(13===e)u=!0,10===i.charCodeAt(c)&&(++c,++r);else if(e!==h)continue;return i.slice(n,c-r)}return i.slice(n)}for(var e,u,o={},a={},r=[],l=i.length,c=0,f=0;(e=t())!==a;){for(var s=[];e!==o&&e!==a;)s.push(e),e=t();n&&null==(s=n(s,f++))||r.push(s)}return r},o.format=function(n){if(Array.isArray(n[0]))return o.formatRows(n);var e=new g,r=[];return n.forEach(function(n){for(var t in n)e.has(t)||r.push(e.add(t))}),[r.map(c).join(i)].concat(n.map(function(t){return r.map(function(n){return c(t[n])}).join(i)})).join("\n")},o.formatRows=function(n){return n.map(t).join("\n")},o},Ji.csv=Ji.dsv(",","text/csv"),Ji.tsv=Ji.dsv("\t","text/tab-separated-values");var Zu,Vu,Xu,$u,Bu=this[d(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};Ji.timer=function(){kn.apply(this,arguments)},Ji.timer.flush=function(){En(),An()},Ji.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var Wu=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(function(n,t){var e=Math.pow(10,3*ou(8-t));return{scale:8<t?function(n){return n/e}:function(n){return n*e},symbol:n}});Ji.formatPrefix=function(n,t){var e=0;return(n=+n)&&(n<0&&(n*=-1),t&&(n=Ji.round(n,Cn(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),Wu[8+e/3]};var Ju=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Gu=Ji.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=Ji.round(n,Cn(n,t))).toFixed(Math.max(0,Math.min(20,Cn(n*(1+1e-15),t))))}}),Ku=Ji.time={},Qu=Date;Ln.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){no.setUTCDate.apply(this._,arguments)},setDay:function(){no.setUTCDay.apply(this._,arguments)},setFullYear:function(){no.setUTCFullYear.apply(this._,arguments)},setHours:function(){no.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){no.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){no.setUTCMinutes.apply(this._,arguments)},setMonth:function(){no.setUTCMonth.apply(this._,arguments)},setSeconds:function(){no.setUTCSeconds.apply(this._,arguments)},setTime:function(){no.setTime.apply(this._,arguments)}};var no=Date.prototype;Ku.year=qn(function(n){return(n=Ku.day(n)).setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),Ku.years=Ku.year.range,Ku.years.utc=Ku.year.utc.range,Ku.day=qn(function(n){var t=new Qu(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),Ku.days=Ku.day.range,Ku.days.utc=Ku.day.utc.range,Ku.dayOfYear=function(n){var t=Ku.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,e){e=7-e;var t=Ku[n]=qn(function(n){return(n=Ku.day(n)).setDate(n.getDate()-(n.getDay()+e)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var t=Ku.year(n).getDay();return Math.floor((Ku.dayOfYear(n)+(t+e)%7)/7)-(t!==e)});Ku[n+"s"]=t.range,Ku[n+"s"].utc=t.utc.range,Ku[n+"OfYear"]=function(n){var t=Ku.year(n).getDay();return Math.floor((Ku.dayOfYear(n)+(t+e)%7)/7)}}),Ku.week=Ku.sunday,Ku.weeks=Ku.sunday.range,Ku.weeks.utc=Ku.sunday.utc.range,Ku.weekOfYear=Ku.sundayOfYear;var to={"-":"",_:" ",0:"0"},eo=/^\s*\d+/,ro=/^%/;Ji.locale=function(n){return{numberFormat:(S=(t=n).decimal,a=t.thousands,l=t.grouping,r=t.currency,k=l&&a?function(n,t){for(var e=n.length,r=[],i=0,u=l[0],o=0;0<e&&0<u&&(t<o+u+1&&(u=Math.max(1,t-o)),r.push(n.substring(e-=u,e+u)),!((o+=u+1)>t));)u=l[i=(i+1)%l.length];return r.reverse().join(a)}:R,function(n){var t=Ju.exec(n),f=t[1]||" ",s=t[2]||">",h=t[3]||"-",e=t[4]||"",p=t[5],g=+t[6],v=t[7],d=t[8],y=t[9],m=1,M="",x="",b=!1,_=!0;switch(d=d&&+d.substring(1),(p||"0"===f&&"="===s)&&(p=f="0",s="="),y){case"n":v=!0,y="g";break;case"%":m=100,x="%",y="f";break;case"p":m=100,x="%",y="r";break;case"b":case"o":case"x":case"X":"#"===e&&(M="0"+y.toLowerCase());case"c":_=!1;case"d":b=!0,d=0;break;case"s":m=-1,y="r"}"$"===e&&(M=r[0],x=r[1]),"r"!=y||d||(y="g"),null!=d&&("g"==y?d=Math.max(1,Math.min(21,d)):"e"!=y&&"f"!=y||(d=Math.max(0,Math.min(20,d)))),y=Gu.get(y)||zn;var w=p&&v;return function(n){var t=x;if(b&&n%1)return"";var e=n<0||0===n&&1/n<0?(n=-n,"-"):"-"===h?"":h;if(m<0){var r=Ji.formatPrefix(n,d);n=r.scale(n),t=r.symbol+x}else n*=m;var i,u,o=(n=y(n,d)).lastIndexOf(".");if(o<0){var a=_?n.lastIndexOf("e"):-1;u=a<0?(i=n,""):(i=n.substring(0,a),n.substring(a))}else i=n.substring(0,o),u=S+n.substring(o+1);!p&&v&&(i=k(i,1/0));var l=M.length+i.length+u.length+(w?0:e.length),c=l<g?new Array(l=g-l+1).join(f):"";return w&&(i=k(c+i,c.length?g-u.length:1/0)),e+=M,n=i+u,("<"===s?e+n+c:">"===s?c+e+n:"^"===s?c.substring(0,l>>=1)+e+n+c.substring(l):e+(w?n:c+n))+t}}),timeFormat:Rn(n)};var t,S,a,l,r,k};var io=Ji.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Ji.format=io.numberFormat,Ji.geo={},nt.prototype={s:0,t:0,add:function(n){tt(n,this.t,uo),tt(uo.s,this.s,this),this.s?this.t+=uo.t:this.s=uo.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var uo=new nt;Ji.geo.stream=function(n,t){n&&oo.hasOwnProperty(n.type)?oo[n.type](n,t):et(n,t)};var oo={Feature:function(n,t){et(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)et(e[r].geometry,t)}},ao={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){rt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)rt(e[r],t,0)},Polygon:function(n,t){it(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)it(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)et(e[r],t)}};Ji.geo.area=function(n){return lo=0,Ji.geo.stream(n,wo),lo};var lo,co,fo,so,ho,po,go,vo,yo,mo,Mo,xo,bo,_o=new nt,wo={sphere:function(){lo+=4*ku},point:y,lineStart:y,lineEnd:y,polygonStart:function(){_o.reset(),wo.lineStart=ut},polygonEnd:function(){var n=2*_o;lo+=n<0?4*ku+n:n,wo.lineStart=wo.lineEnd=wo.point=y}};function So(n,t){Mo.push(xo=[co=n,so=n]),t<fo&&(fo=t),ho<t&&(ho=t)}function ko(n,t){var e=ot([n*Cu,t*Cu]);if(yo){var r=lt(yo,e),i=lt([r[1],-r[0],0],r);st(i),i=ht(i);var u=n-po,o=0<u?1:-1,a=i[0]*zu*o,l=180<ou(u);if(l^(o*po<a&&a<o*n)){var c=i[1]*zu;ho<c&&(ho=c)}else if(l^(o*po<(a=(a+360)%360-180)&&a<o*n)){(c=-i[1]*zu)<fo&&(fo=c)}else t<fo&&(fo=t),ho<t&&(ho=t);l?n<po?Lo(co,n)>Lo(co,so)&&(so=n):Lo(n,so)>Lo(co,so)&&(co=n):co<=so?(n<co&&(co=n),so<n&&(so=n)):po<n?Lo(co,n)>Lo(co,so)&&(so=n):Lo(n,so)>Lo(co,so)&&(co=n)}else So(n,t);yo=e,po=n}function No(){bo.point=ko}function Eo(){xo[0]=co,xo[1]=so,bo.point=So,yo=null}function Ao(n,t){if(yo){var e=n-po;mo+=180<ou(e)?e+(0<e?360:-360):e}else go=n,vo=t;wo.point(n,t),ko(n,t)}function Co(){wo.lineStart()}function zo(){Ao(go,vo),wo.lineEnd(),ou(mo)>wu&&(co=-(so=180)),xo[0]=co,xo[1]=so,yo=null}function Lo(n,t){return(t-=n)<0?t+360:t}function qo(n,t){return n[0]-t[0]}function To(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}Ji.geo.bounds=(bo={point:So,lineStart:No,lineEnd:Eo,polygonStart:function(){bo.point=Ao,bo.lineStart=Co,bo.lineEnd=zo,mo=0,wo.polygonStart()},polygonEnd:function(){wo.polygonEnd(),bo.point=So,bo.lineStart=No,bo.lineEnd=Eo,_o<0?(co=-(so=180),fo=-(ho=90)):wu<mo?ho=90:mo<-wu&&(fo=-90),xo[0]=co,xo[1]=so}},function(n){if(ho=so=-(co=fo=1/0),Mo=[],Ji.geo.stream(n,bo),u=Mo.length){Mo.sort(qo);for(var t=1,e=[a=Mo[0]];t<u;++t)To((i=Mo[t])[0],a)||To(i[1],a)?(Lo(a[0],i[1])>Lo(a[0],a[1])&&(a[1]=i[1]),Lo(i[0],a[1])>Lo(a[0],a[1])&&(a[0]=i[0])):e.push(a=i);for(var r,i,u,o=-1/0,a=(t=0,e[u=e.length-1]);t<=u;a=i,++t)i=e[t],(r=Lo(a[1],i[0]))>o&&(o=r,co=i[0],so=a[1])}return Mo=xo=null,co===1/0||fo===1/0?[[NaN,NaN],[NaN,NaN]]:[[co,fo],[so,ho]]}),Ji.geo.centroid=function(n){Ro=Do=Po=Uo=jo=Fo=Ho=Oo=Io=Yo=Zo=0,Ji.geo.stream(n,Vo);var t=Io,e=Yo,r=Zo,i=t*t+e*e+r*r;return i<Su&&(t=Fo,e=Ho,r=Oo,Do<wu&&(t=Po,e=Uo,r=jo),(i=t*t+e*e+r*r)<Su)?[NaN,NaN]:[Math.atan2(e,t)*zu,K(r/Math.sqrt(i))*zu]};var Ro,Do,Po,Uo,jo,Fo,Ho,Oo,Io,Yo,Zo,Vo={sphere:y,point:gt,lineStart:dt,lineEnd:yt,polygonStart:function(){Vo.lineStart=mt},polygonEnd:function(){Vo.lineStart=dt}},Xo=St(xt,function(s){var h,p=NaN,g=NaN,v=NaN;return{lineStart:function(){s.lineStart(),h=1},point:function(n,t){var e,r,i,u,o,a,l,c=0<n?ku:-ku,f=ou(n-p);ou(f-ku)<wu?(s.point(p,g=0<(g+t)/2?Au:-Au),s.point(v,g),s.lineEnd(),s.lineStart(),s.point(c,g),s.point(n,g),h=0):v!==c&&ku<=f&&(ou(p-v)<wu&&(p-=v*wu),ou(n-c)<wu&&(n-=c*wu),e=p,r=g,i=n,u=t,l=Math.sin(e-i),g=ou(l)>wu?Math.atan((Math.sin(r)*(a=Math.cos(u))*Math.sin(i)-Math.sin(u)*(o=Math.cos(r))*Math.sin(e))/(o*a*l)):(r+u)/2,s.point(v,g),s.lineEnd(),s.lineStart(),s.point(c,g),h=0),s.point(p=n,g=t),v=c},lineEnd:function(){s.lineEnd(),p=g=NaN},clean:function(){return 2-h}}},function(n,t,e,r){var i;if(null==n)i=e*Au,r.point(-ku,i),r.point(0,i),r.point(ku,i),r.point(ku,0),r.point(ku,-i),r.point(0,-i),r.point(-ku,-i),r.point(-ku,0),r.point(-ku,i);else if(ou(n[0]-t[0])>wu){var u=n[0]<t[0]?ku:-ku;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(t[0],t[1])},[-ku,-ku/2]),$o=1e9;Ji.geo.clipExtent=function(){var t,e,r,i,u,o,a={stream:function(n){return u&&(u.valid=!1),(u=o(n)).valid=!0,u},extent:function(n){return arguments.length?(o=zt(t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1]),u&&(u.valid=!1,u=null),a):[[t,e],[r,i]]}};return a.extent([[0,0],[960,500]])},(Ji.geo.conicEqualArea=function(){return Lt(qt)}).raw=qt,Ji.geo.albers=function(){return Ji.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Ji.geo.albersUsa=function(){function i(n){var t=n[0],e=n[1];return r=null,u(t,e),r||(o(t,e),r)||a(t,e),r}var r,u,o,a,l=Ji.geo.albers(),c=Ji.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=Ji.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(n,t){r=[n,t]}};return i.invert=function(n){var t=l.scale(),e=l.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?c:.166<=i&&i<.234&&-.214<=r&&r<-.115?f:l).invert(n)},i.stream=function(n){var e=l.stream(n),r=c.stream(n),i=f.stream(n);return{point:function(n,t){e.point(n,t),r.point(n,t),i.point(n,t)},sphere:function(){e.sphere(),r.sphere(),i.sphere()},lineStart:function(){e.lineStart(),r.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),r.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),r.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),r.polygonEnd(),i.polygonEnd()}}},i.precision=function(n){return arguments.length?(l.precision(n),c.precision(n),f.precision(n),i):l.precision()},i.scale=function(n){return arguments.length?(l.scale(n),c.scale(.35*n),f.scale(n),i.translate(l.translate())):l.scale()},i.translate=function(n){if(!arguments.length)return l.translate();var t=l.scale(),e=+n[0],r=+n[1];return u=l.translate(n).clipExtent([[e-.455*t,r-.238*t],[e+.455*t,r+.238*t]]).stream(s).point,o=c.translate([e-.307*t,r+.201*t]).clipExtent([[e-.425*t+wu,r+.12*t+wu],[e-.214*t-wu,r+.234*t-wu]]).stream(s).point,a=f.translate([e-.205*t,r+.212*t]).clipExtent([[e-.214*t+wu,r+.166*t+wu],[e-.115*t-wu,r+.234*t-wu]]).stream(s).point,i},i.scale(1070)};var Bo,Wo,Jo,Go,Ko,Qo,na={point:y,lineStart:y,lineEnd:y,polygonStart:function(){Wo=0,na.lineStart=Tt},polygonEnd:function(){na.lineStart=na.lineEnd=na.point=y,Bo+=ou(Wo/2)}},ta={point:function(n,t){n<Jo&&(Jo=n),Ko<n&&(Ko=n),t<Go&&(Go=t),Qo<t&&(Qo=t)},lineStart:y,lineEnd:y,polygonStart:y,polygonEnd:y},ea={point:Pt,lineStart:Ut,lineEnd:jt,polygonStart:function(){ea.lineStart=Ft},polygonEnd:function(){ea.point=Pt,ea.lineStart=Ut,ea.lineEnd=jt}};Ji.geo.path=function(){function t(n){return n&&("function"==typeof l&&o.pointRadius(+l.apply(this,arguments)),a&&a.valid||(a=u(o)),Ji.geo.stream(n,a)),o.result()}function r(){return a=null,t}var i,e,u,o,a,l=4.5;return t.area=function(n){return Bo=0,Ji.geo.stream(n,u(na)),Bo},t.centroid=function(n){return Po=Uo=jo=Fo=Ho=Oo=Io=Yo=Zo=0,Ji.geo.stream(n,u(ea)),Zo?[Io/Zo,Yo/Zo]:Oo?[Fo/Oo,Ho/Oo]:jo?[Po/jo,Uo/jo]:[NaN,NaN]},t.bounds=function(n){return Ko=Qo=-(Jo=Go=1/0),Ji.geo.stream(n,u(ta)),[[Jo,Go],[Ko,Qo]]},t.projection=function(n){return arguments.length?(u=(i=n)?n.stream||(e=n,t=Ot(function(n,t){return e([n*zu,t*zu])}),function(n){return Xt(t(n))}):R,r()):i;var e,t},t.context=function(n){return arguments.length?(o=null==(e=n)?new Rt:new Ht(n),"function"!=typeof l&&o.pointRadius(l),r()):e},t.pointRadius=function(n){return arguments.length?(l="function"==typeof n?n:(o.pointRadius(+n),+n),t):l},t.projection(Ji.geo.albersUsa()).context(null)},Ji.geo.transform=function(r){return{stream:function(n){var t=new It(n);for(var e in r)t[e]=r[e];return t}}},It.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Ji.geo.projection=Zt,Ji.geo.projectionMutator=Vt,(Ji.geo.equirectangular=function(){return Zt($t)}).raw=$t.invert=$t,Ji.geo.rotation=function(t){function n(n){return(n=t(n[0]*Cu,n[1]*Cu))[0]*=zu,n[1]*=zu,n}return t=Wt(t[0]%360*Cu,t[1]*Cu,2<t.length?t[2]*Cu:0),n.invert=function(n){return(n=t.invert(n[0]*Cu,n[1]*Cu))[0]*=zu,n[1]*=zu,n},n},Bt.invert=$t,Ji.geo.circle=function(){function t(){var n="function"==typeof u?u.apply(this,arguments):u,e=Wt(-n[0]*Cu,-n[1]*Cu,0).invert,r=[];return i(null,null,1,{point:function(n,t){r.push(n=e(n,t)),n[0]*=zu,n[1]*=zu}}),{type:"Polygon",coordinates:[r]}}var e,i,u=[0,0],r=6;return t.origin=function(n){return arguments.length?(u=n,t):u},t.angle=function(n){return arguments.length?(i=Qt((e=+n)*Cu,r*Cu),t):e},t.precision=function(n){return arguments.length?(i=Qt(e*Cu,(r=+n)*Cu),t):r},t.angle(90)},Ji.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Cu,i=n[1]*Cu,u=t[1]*Cu,o=Math.sin(r),a=Math.cos(r),l=Math.sin(i),c=Math.cos(i),f=Math.sin(u),s=Math.cos(u);return Math.atan2(Math.sqrt((e=s*o)*e+(e=c*f-l*s*a)*e),l*f+c*s*a)},Ji.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return Ji.range(Math.ceil(u/d)*d,i,d).map(h).concat(Ji.range(Math.ceil(c/y)*y,l,y).map(p)).concat(Ji.range(Math.ceil(r/g)*g,e,g).filter(function(n){return ou(n%d)>wu}).map(f)).concat(Ji.range(Math.ceil(a/v)*v,o,v).filter(function(n){return ou(n%y)>wu}).map(s))}var e,r,i,u,o,a,l,c,f,s,h,p,g=10,v=g,d=90,y=360,m=2.5;return t.lines=function(){return n().map(function(n){return{type:"LineString",coordinates:n}})},t.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(p(l).slice(1),h(i).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.majorExtent(n).minorExtent(n):t.minorExtent()},t.majorExtent=function(n){return arguments.length?(u=+n[0][0],i=+n[1][0],c=+n[0][1],l=+n[1][1],i<u&&(n=u,u=i,i=n),l<c&&(n=c,c=l,l=n),t.precision(m)):[[u,c],[i,l]]},t.minorExtent=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],o=+n[1][1],e<r&&(n=r,r=e,e=n),o<a&&(n=a,a=o,o=n),t.precision(m)):[[r,a],[e,o]]},t.step=function(n){return arguments.length?t.majorStep(n).minorStep(n):t.minorStep()},t.majorStep=function(n){return arguments.length?(d=+n[0],y=+n[1],t):[d,y]},t.minorStep=function(n){return arguments.length?(g=+n[0],v=+n[1],t):[g,v]},t.precision=function(n){return arguments.length?(m=+n,f=te(a,o,90),s=ee(r,e,m),h=te(c,l,90),p=ee(u,i,m),t):m},t.majorExtent([[-180,-90+wu],[180,90-wu]]).minorExtent([[-180,-80-wu],[180,80+wu]])},Ji.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),r||u.apply(this,arguments)]}}var e,r,i=re,u=ie;return t.distance=function(){return Ji.geo.distance(e||i.apply(this,arguments),r||u.apply(this,arguments))},t.source=function(n){return arguments.length?(e="function"==typeof(i=n)?null:n,t):i},t.target=function(n){return arguments.length?(r="function"==typeof(u=n)?null:n,t):u},t.precision=function(){return arguments.length?t:0},t},Ji.geo.interpolate=function(n,t){return e=n[0]*Cu,r=n[1]*Cu,i=t[0]*Cu,u=t[1]*Cu,o=Math.cos(r),a=Math.sin(r),l=Math.cos(u),c=Math.sin(u),f=o*Math.cos(e),s=o*Math.sin(e),h=l*Math.cos(i),p=l*Math.sin(i),g=2*Math.asin(Math.sqrt(nn(u-r)+o*l*nn(i-e))),v=1/Math.sin(g),(d=g?function(n){var t=Math.sin(n*=g)*v,e=Math.sin(g-n)*v,r=e*f+t*h,i=e*s+t*p,u=e*a+t*c;return[Math.atan2(i,r)*zu,Math.atan2(u,Math.sqrt(r*r+i*i))*zu]}:function(){return[e*zu,r*zu]}).distance=g,d;var e,r,i,u,o,a,l,c,f,s,h,p,g,v,d},Ji.geo.length=function(n){return ra=0,Ji.geo.stream(n,ia),ra};var ra,ia={sphere:y,point:y,lineStart:function(){function e(n,t){var e=Math.sin(t*=Cu),r=Math.cos(t),i=ou((n*=Cu)-o),u=Math.cos(i);ra+=Math.atan2(Math.sqrt((i=r*Math.sin(i))*i+(i=l*e-a*r*u)*i),a*e+l*r*u),o=n,a=e,l=r}var o,a,l;ia.point=function(n,t){o=n*Cu,a=Math.sin(t*=Cu),l=Math.cos(t),ia.point=e},ia.lineEnd=function(){ia.point=ia.lineEnd=y}},lineEnd:y,polygonStart:y,polygonEnd:y},ua=ue(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(Ji.geo.azimuthalEqualArea=function(){return Zt(ua)}).raw=ua;var oa=ue(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},R);(Ji.geo.azimuthalEquidistant=function(){return Zt(oa)}).raw=oa,(Ji.geo.conicConformal=function(){return Lt(oe)}).raw=oe,(Ji.geo.conicEquidistant=function(){return Lt(ae)}).raw=ae;var aa=ue(function(n){return 1/n},Math.atan);(Ji.geo.gnomonic=function(){return Zt(aa)}).raw=aa,le.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Au]},(Ji.geo.mercator=function(){return ce(le)}).raw=le;var la=ue(function(){return 1},Math.asin);(Ji.geo.orthographic=function(){return Zt(la)}).raw=la;var ca=ue(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(Ji.geo.stereographic=function(){return Zt(ca)}).raw=ca,fe.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Au]},(Ji.geo.transverseMercator=function(){var n=ce(fe),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return n?e([n[0],n[1],2<n.length?n[2]+90:90]):[(n=e())[0],n[1],n[2]-90]},e([0,0,90])}).raw=fe,Ji.geom={},Ji.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,e=_n(h),r=_n(p),i=n.length,u=[],o=[];for(t=0;t<i;t++)u.push([+e.call(this,n[t],t),+r.call(this,n[t],t),t]);for(u.sort(ge),t=0;t<i;t++)o.push([u[t][0],-u[t][1]]);var a=pe(u),l=pe(o),c=l[0]===a[0],f=l[l.length-1]===a[a.length-1],s=[];for(t=a.length-1;0<=t;--t)s.push(n[u[a[t]][2]]);for(t=+c;t<l.length-f;++t)s.push(n[u[l[t]][2]]);return s}var h=se,p=he;return arguments.length?t(n):(t.x=function(n){return arguments.length?(h=n,t):h},t.y=function(n){return arguments.length?(p=n,t):p},t)},Ji.geom.polygon=function(n){return su(n,fa),n};var fa=Ji.geom.polygon.prototype=[];fa.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return.5*i},fa.centroid=function(n){var t,e,r=-1,i=this.length,u=0,o=0,a=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++r<i;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],u+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[u*n,o*n]},fa.clip=function(n){for(var t,e,r,i,u,o,a=ye(n),l=-1,c=this.length-ye(this),f=this[c-1];++l<c;){for(t=n.slice(),n.length=0,i=this[l],u=t[(r=t.length-a)-1],e=-1;++e<r;)ve(o=t[e],f,i)?(ve(u,f,i)||n.push(de(u,o,f,i)),n.push(o)):ve(u,f,i)&&n.push(de(u,o,f,i)),u=o;a&&n.push(n[0]),f=i}return n};var sa,ha,pa,ga,va,da=[],ya=[];ke.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)(n=t[e].edge).b&&n.a||t.splice(e,1);return t.sort(Ne),t.length},Re.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},De.prototype={insert:function(n,t){var e,r,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else e=this._?(n=Fe(this._),t.P=null,(t.N=n).P=n.L=t,n):(t.P=t.N=null,this._=t,null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.R&&(Ue(this,e),e=(n=e).U),e.C=!1,r.C=!0,je(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.L&&(je(this,e),e=(n=e).U),e.C=!1,r.C=!0,Ue(this,r)),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,i=n.U,u=n.L,o=n.R;if(e=u?o?Fe(o):u:o,i?i.L===n?i.L=e:i.R=e:this._=e,u&&o?(r=e.C,e.C=n.C,((e.L=u).U=e)!==o?(i=e.U,e.U=n.U,n=e.R,i.L=n,(e.R=o).U=e):(e.U=i,n=(i=e).R)):(r=n.C,n=e),n&&(n.U=i),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Ue(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,je(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Ue(this,i),n=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,je(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Ue(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,je(this,i),n=this._;break}t.C=!0,i=(n=i).U}while(!n.C);n&&(n.C=!1)}}},Ji.geom.voronoi=function(n){function t(i){var u=new Array(i.length),o=f[0][0],a=f[0][1],l=f[1][0],c=f[1][1];return He(e(i),f).cells.forEach(function(n,t){var e=n.edges,r=n.site;(u[t]=e.length?e.map(function(n){var t=n.start();return[t.x,t.y]}):r.x>=o&&r.x<=l&&r.y>=a&&r.y<=c?[[o,c],[l,c],[l,a],[o,a]]:[]).point=i[t]}),u}function e(n){return n.map(function(n,t){return{x:Math.round(u(n,t)/wu)*wu,y:Math.round(o(n,t)/wu)*wu,i:t}})}var r=se,i=he,u=r,o=i,f=ma;return n?t(n):(t.links=function(t){return He(e(t)).edges.filter(function(n){return n.l&&n.r}).map(function(n){return{source:t[n.l.i],target:t[n.r.i]}})},t.triangles=function(h){var p=[];return He(e(h)).cells.forEach(function(n,t){for(var e,r=n.site,i=n.edges.sort(Ne),u=-1,o=i.length,a=i[o-1].edge,l=a.l===r?a.r:a.l;++u<o;)e=l,l=(a=i[u].edge).l===r?a.r:a.l,t<e.i&&t<l.i&&(f=e,s=l,((c=r).x-s.x)*(f.y-c.y)-(c.x-f.x)*(s.y-c.y)<0)&&p.push([h[t],h[e.i],h[l.i]]);var c,f,s}),p},t.x=function(n){return arguments.length?(u=_n(r=n),t):r},t.y=function(n){return arguments.length?(o=_n(i=n),t):i},t.clipExtent=function(n){return arguments.length?(f=null==n?ma:n,t):f===ma?null:f},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):f===ma?null:f&&f[1]},t)};var ma=[[-1e6,-1e6],[1e6,1e6]];Ji.geom.delaunay=function(n){return Ji.geom.voronoi().triangles(n)},Ji.geom.quadtree=function(n,m,M,x,b){function t(n){function p(n,t,e,r,i,u,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var l=n.x,c=n.y;if(null!=l)if(ou(l-e)+ou(c-r)<.01)s(n,t,e,r,i,u,o,a);else{var f=n.point;n.x=n.y=n.point=null,s(n,f,l,c,i,u,o,a),s(n,t,e,r,i,u,o,a)}else n.x=e,n.y=r,n.point=t}else s(n,t,e,r,i,u,o,a)}function s(n,t,e,r,i,u,o,a){var l=.5*(i+o),c=.5*(u+a),f=l<=e,s=c<=r,h=s<<1|f;n.leaf=!1,f?i=l:o=l,s?u=c:a=c,p(n=n.nodes[h]||(n.nodes[h]=Ze()),t,e,r,i,u,o,a)}var t,e,r,i,u,o,a,l,c,f=_n(w),h=_n(k);if(null!=m)o=m,a=M,l=x,c=b;else if(l=c=-(o=a=1/0),e=[],r=[],u=n.length,_)for(i=0;i<u;++i)(t=n[i]).x<o&&(o=t.x),t.y<a&&(a=t.y),t.x>l&&(l=t.x),t.y>c&&(c=t.y),e.push(t.x),r.push(t.y);else for(i=0;i<u;++i){var g=+f(t=n[i],i),v=+h(t,i);g<o&&(o=g),v<a&&(a=v),l<g&&(l=g),c<v&&(c=v),e.push(g),r.push(v)}var d=l-o,y=c-a;y<d?c=a+d:l=o+y;var S=Ze();if(S.add=function(n){p(S,n,+f(n,++i),+h(n,i),o,a,l,c)},S.visit=function(n){!function n(t,e,r,i,u,o){if(!t(e,r,i,u,o)){var a=.5*(r+u),l=.5*(i+o),c=e.nodes;c[0]&&n(t,c[0],r,i,a,l),c[1]&&n(t,c[1],a,i,u,l),c[2]&&n(t,c[2],r,l,a,o),c[3]&&n(t,c[3],a,l,u,o)}}(n,S,o,a,l,c)},S.find=function(n){return t=S,d=n[0],y=n[1],w=1/0,function n(t,e,r,i,u){if(!(x<e||b<r||i<m||u<M)){if(o=t.point){var o,a=d-t.x,l=y-t.y,c=a*a+l*l;if(c<w){var f=Math.sqrt(w=c);m=d-f,M=y-f,x=d+f,b=y+f,_=o}}for(var s=t.nodes,h=.5*(e+i),p=.5*(r+u),g=(p<=y)<<1|h<=d,v=g+4;g<v;++g)if(t=s[3&g])switch(3&g){case 0:n(t,e,r,h,p);break;case 1:n(t,h,r,i,p);break;case 2:n(t,e,p,h,u);break;case 3:n(t,h,p,i,u)}}}(t,m=o,M=a,x=l,b=c),_;var t,d,y,m,M,x,b,_,w},i=-1,null==m){for(;++i<u;)p(S,n[i],e[i],r[i],o,a,l,c);--i}else n.forEach(S.add);return e=r=n=t=null,S}var _,w=se,k=he;return(_=arguments.length)?(w=Ie,k=Ye,3===_&&(b=M,x=m,M=m=0),t(n)):(t.x=function(n){return arguments.length?(w=n,t):w},t.y=function(n){return arguments.length?(k=n,t):k},t.extent=function(n){return arguments.length?(null==n?m=M=x=b=null:(m=+n[0][0],M=+n[0][1],x=+n[1][0],b=+n[1][1]),t):null==m?null:[[m,M],[x,b]]},t.size=function(n){return arguments.length?(null==n?m=M=x=b=null:(m=M=0,x=+n[0],b=+n[1]),t):null==m?null:[x-m,b-M]},t)},Ji.interpolateRgb=Ve,Ji.interpolateObject=Xe,Ji.interpolateNumber=$e,Ji.interpolateString=Be;var Ma=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xa=new RegExp(Ma.source,"g");Ji.interpolate=We,Ji.interpolators=[function(n,t){var e=typeof t;return("string"==e?Yu.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Ve:Be:t instanceof tn?Ve:Array.isArray(t)?Je:"object"==e&&isNaN(t)?Xe:$e)(n,t)}],Ji.interpolateArray=Je;function ba(){return R}var _a=Ji.map({linear:ba,poly:function(t){return function(n){return Math.pow(n,t)}},quad:function(){return Qe},cubic:function(){return nr},sin:function(){return er},exp:function(){return rr},circle:function(){return ir},elastic:function(t,e){var r;return arguments.length<2&&(e=.45),r=arguments.length?e/Nu*Math.asin(1/t):(t=1,e/4),function(n){return 1+t*Math.pow(2,-10*n)*Math.sin((n-r)*Nu/e)}},back:function(t){return t=t||1.70158,function(n){return n*n*((t+1)*n-t)}},bounce:function(){return ur}}),wa=Ji.map({in:R,out:Ge,"in-out":Ke,"out-in":function(n){return Ke(Ge(n))}});Ji.ease=function(n){var t,e=n.indexOf("-"),r=0<=e?n.slice(0,e):n,i=0<=e?n.slice(e+1):"in";return r=_a.get(r)||ba,i=wa.get(i)||R,t=i(r.apply(null,Gi.call(arguments,1))),function(n){return n<=0?0:1<=n?1:t(n)}},Ji.interpolateHcl=function(n,t){n=Ji.hcl(n),t=Ji.hcl(t);var e=n.h,r=n.c,i=n.l,u=t.h-e,o=t.c-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):180<u?u-=360:u<-180&&(u+=360),function(n){return on(e+u*n,r+o*n,i+a*n)+""}},Ji.interpolateHsl=function(n,t){n=Ji.hsl(n),t=Ji.hsl(t);var e=n.h,r=n.s,i=n.l,u=t.h-e,o=t.s-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):180<u?u-=360:u<-180&&(u+=360),function(n){return rn(e+u*n,r+o*n,i+a*n)+""}},Ji.interpolateLab=function(n,t){n=Ji.lab(n),t=Ji.lab(t);var e=n.l,r=n.a,i=n.b,u=t.l-e,o=t.a-r,a=t.b-i;return function(n){return ln(e+u*n,r+o*n,i+a*n)+""}},Ji.interpolateRound=or,Ji.transform=function(n){var e=Qi.createElementNS(Ji.ns.prefix.svg,"g");return(Ji.transform=function(n){if(null!=n){e.setAttribute("transform",n);var t=e.transform.baseVal.consolidate()}return new ar(t?t.matrix:Sa)})(n)},ar.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Sa={a:1,b:0,c:0,d:1,e:0,f:0};Ji.interpolateTransform=sr,Ji.layout={},Ji.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(gr(n[e]));return t}},Ji.layout.chord=function(){function n(){var n,t,e,r,i,u={},o=[],a=Ji.range(x),l=[];for(y=[],m=[],n=0,r=-1;++r<x;){for(t=0,i=-1;++i<x;)t+=M[r][i];o.push(t),l.push(Ji.range(x)),n+=t}for(b&&a.sort(function(n,t){return b(o[n],o[t])}),_&&l.forEach(function(n,e){n.sort(function(n,t){return _(M[e][n],M[e][t])})}),n=(Nu-S*x)/n,t=0,r=-1;++r<x;){for(e=t,i=-1;++i<x;){var c=a[r],f=l[c][i],s=M[c][f],h=t,p=t+=s*n;u[c+"-"+f]={index:c,subindex:f,startAngle:h,endAngle:p,value:s}}m[c]={index:c,startAngle:e,endAngle:t,value:o[c]},t+=S}for(r=-1;++r<x;)for(i=r-1;++i<x;){var g=u[r+"-"+i],v=u[i+"-"+r];(g.value||v.value)&&y.push(g.value<v.value?{source:v,target:g}:{source:g,target:v})}w&&d()}function d(){y.sort(function(n,t){return w((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var y,m,M,x,b,_,w,t={},S=0;return t.matrix=function(n){return arguments.length?(x=(M=n)&&M.length,y=m=null,t):M},t.padding=function(n){return arguments.length?(S=n,y=m=null,t):S},t.sortGroups=function(n){return arguments.length?(b=n,y=m=null,t):b},t.sortSubgroups=function(n){return arguments.length?(_=n,y=null,t):_},t.sortChords=function(n){return arguments.length?(w=n,y&&d(),t):w},t.chords=function(){return y||n(),y},t.groups=function(){return m||n(),m},t},Ji.layout.force=function(){function s(c){return function(n,t,e,r){if(n.point!==c){var i=n.cx-c.x,u=n.cy-c.y,o=r-t,a=i*i+u*u;if(o*o/_<a){if(a<f){var l=n.charge/a;c.px-=i*l,c.py-=u*l}return!0}if(n.point&&a&&a<f){l=n.pointCharge/a;c.px-=i*l,c.py-=u*l}}return!n.charge}}function n(n){n.px=Ji.event.x,n.py=Ji.event.y,i.resume()}var h,t,p,g,v,d,i={},y=Ji.dispatch("start","tick","end"),m=[1,1],M=.9,u=ka,o=Na,x=-30,f=Ea,b=.1,_=.64,w=[],S=[];return i.tick=function(){if((p*=.99)<.005)return h=null,y.end({type:"end",alpha:p=0}),!0;var n,t,e,r,i,u,o,a,l,c=w.length,f=S.length;for(t=0;t<f;++t)r=(e=S[t]).source,(u=(a=(i=e.target).x-r.x)*a+(l=i.y-r.y)*l)&&(a*=u=p*v[t]*((u=Math.sqrt(u))-g[t])/u,l*=u,i.x-=a*(o=r.weight+i.weight?r.weight/(r.weight+i.weight):.5),i.y-=l*o,r.x+=a*(o=1-o),r.y+=l*o);if((o=p*b)&&(a=m[0]/2,l=m[1]/2,t=-1,o))for(;++t<c;)(e=w[t]).x+=(a-e.x)*o,e.y+=(l-e.y)*o;if(x)for(function n(t,e,r){var i=0,u=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,l=a.length,c=-1;++c<l;)null!=(o=a[c])&&(n(o,e,r),t.charge+=o.charge,i+=o.charge*o.cx,u+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var f=e*r[t.point.index];t.charge+=t.pointCharge=f,i+=f*t.point.x,u+=f*t.point.y}t.cx=i/t.charge,t.cy=u/t.charge}(n=Ji.geom.quadtree(w),p,d),t=-1;++t<c;)(e=w[t]).fixed||n.visit(s(e));for(t=-1;++t<c;)(e=w[t]).fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*M,e.y-=(e.py-(e.py=e.y))*M);y.tick({type:"tick",alpha:p})},i.nodes=function(n){return arguments.length?(w=n,i):w},i.links=function(n){return arguments.length?(S=n,i):S},i.size=function(n){return arguments.length?(m=n,i):m},i.linkDistance=function(n){return arguments.length?(u="function"==typeof n?n:+n,i):u},i.distance=i.linkDistance,i.linkStrength=function(n){return arguments.length?(o="function"==typeof n?n:+n,i):o},i.friction=function(n){return arguments.length?(M=+n,i):M},i.charge=function(n){return arguments.length?(x="function"==typeof n?n:+n,i):x},i.chargeDistance=function(n){return arguments.length?(f=n*n,i):Math.sqrt(f)},i.gravity=function(n){return arguments.length?(b=+n,i):b},i.theta=function(n){return arguments.length?(_=n*n,i):Math.sqrt(_)},i.alpha=function(n){return arguments.length?(n=+n,p?0<n?p=n:(h.c=null,h.t=NaN,h=null,y.end({type:"end",alpha:p=0})):0<n&&(y.start({type:"start",alpha:p=n}),h=kn(i.tick)),i):p},i.start=function(){function n(n,t){if(!l){for(l=new Array(c),u=0;u<c;++u)l[u]=[];for(u=0;u<f;++u){var e=S[u];l[e.source.index].push(e.target),l[e.target.index].push(e.source)}}for(var r,i=l[a],u=-1,o=i.length;++u<o;)if(!isNaN(r=i[u][n]))return r;return Math.random()*t}var a,l,t,c=w.length,f=S.length,e=m[0],r=m[1];for(a=0;a<c;++a)(t=w[a]).index=a,t.weight=0;for(a=0;a<f;++a)"number"==typeof(t=S[a]).source&&(t.source=w[t.source]),"number"==typeof t.target&&(t.target=w[t.target]),++t.source.weight,++t.target.weight;for(a=0;a<c;++a)t=w[a],isNaN(t.x)&&(t.x=n("x",e)),isNaN(t.y)&&(t.y=n("y",r)),isNaN(t.px)&&(t.px=t.x),isNaN(t.py)&&(t.py=t.y);if(g=[],"function"==typeof u)for(a=0;a<f;++a)g[a]=+u.call(this,S[a],a);else for(a=0;a<f;++a)g[a]=u;if(v=[],"function"==typeof o)for(a=0;a<f;++a)v[a]=+o.call(this,S[a],a);else for(a=0;a<f;++a)v[a]=o;if(d=[],"function"==typeof x)for(a=0;a<c;++a)d[a]=+x.call(this,w[a],a);else for(a=0;a<c;++a)d[a]=x;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){return t=t||Ji.behavior.drag().origin(R).on("dragstart.force",dr).on("drag.force",n).on("dragend.force",yr),arguments.length?void this.on("mouseover.force",mr).on("mouseout.force",Mr).call(t):t},Ji.rebind(i,y,"on")};var ka=20,Na=1,Ea=1/0;Ji.layout.hierarchy=function(){function a(n){var t,e=[n],r=[];for(n.depth=0;null!=(t=e.pop());)if(r.push(t),(u=c.call(a,t,t.depth))&&(i=u.length)){for(var i,u,o;0<=--i;)e.push(o=u[i]),o.parent=t,o.depth=t.depth+1;f&&(t.value=0),t.children=u}else f&&(t.value=+f.call(a,t,t.depth)||0),delete t.children;return _r(n,function(n){var t,e;l&&(t=n.children)&&t.sort(l),f&&(e=n.parent)&&(e.value+=n.value)}),r}var l=kr,c=wr,f=Sr;return a.sort=function(n){return arguments.length?(l=n,a):l},a.children=function(n){return arguments.length?(c=n,a):c},a.value=function(n){return arguments.length?(f=n,a):f},a.revalue=function(n){return f&&(br(n,function(n){n.children&&(n.value=0)}),_r(n,function(n){var t;n.children||(n.value=+f.call(a,n,n.depth)||0),(t=n.parent)&&(t.value+=n.value)})),n},a},Ji.layout.partition=function(){function t(n,t){var e=r.call(this,n,t);return function n(t,e,r,i){var u=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,u&&(o=u.length)){var o,a,l,c=-1;for(r=t.value?r/t.value:0;++c<o;)n(a=u[c],e,l=a.value*r,i),e+=l}}(e[0],0,i[0],i[1]/function n(t){var e=t.children,r=0;if(e&&(i=e.length))for(var i,u=-1;++u<i;)r=Math.max(r,n(e[u]));return 1+r}(e[0])),e}var r=Ji.layout.hierarchy(),i=[1,1];return t.size=function(n){return arguments.length?(i=n,t):i},xr(t,r)},Ji.layout.pie=function(){function h(e){var t,n=e.length,r=e.map(function(n,t){return+p.call(h,n,t)}),i=+("function"==typeof v?v.apply(this,arguments):v),u=("function"==typeof d?d.apply(this,arguments):d)-i,o=Math.min(Math.abs(u)/n,+("function"==typeof y?y.apply(this,arguments):y)),a=o*(u<0?-1:1),l=Ji.sum(r),c=l?(u-n*a)/l:0,f=Ji.range(n),s=[];return null!=g&&f.sort(g===Aa?function(n,t){return r[t]-r[n]}:function(n,t){return g(e[n],e[t])}),f.forEach(function(n){s[n]={data:e[n],value:t=r[n],startAngle:i,endAngle:i+=t*c+a,padAngle:o}}),s}var p=Number,g=Aa,v=0,d=Nu,y=0;return h.value=function(n){return arguments.length?(p=n,h):p},h.sort=function(n){return arguments.length?(g=n,h):g},h.startAngle=function(n){return arguments.length?(v=n,h):v},h.endAngle=function(n){return arguments.length?(d=n,h):d},h.padAngle=function(n){return arguments.length?(y=n,h):y},h};var Aa={};Ji.layout.stack=function(){function s(n,t){if(!(u=n.length))return n;var e=n.map(function(n,t){return h.call(s,n,t)}),r=e.map(function(n){return n.map(function(n,t){return[d.call(s,n,t),y.call(s,n,t)]})}),i=p.call(s,r,t);e=Ji.permute(e,i),r=Ji.permute(r,i);var u,o,a,l,c=g.call(s,r,t),f=e[0].length;for(a=0;a<f;++a)for(v.call(s,e[0][a],l=c[a],r[0][a][1]),o=1;o<u;++o)v.call(s,e[o][a],l+=r[o-1][a][1],r[o][a][1]);return n}var h=R,p=zr,g=Lr,v=Cr,d=Er,y=Ar;return s.values=function(n){return arguments.length?(h=n,s):h},s.order=function(n){return arguments.length?(p="function"==typeof n?n:Ca.get(n)||zr,s):p},s.offset=function(n){return arguments.length?(g="function"==typeof n?n:za.get(n)||Lr,s):g},s.x=function(n){return arguments.length?(d=n,s):d},s.y=function(n){return arguments.length?(y=n,s):y},s.out=function(n){return arguments.length?(v=n,s):v},s};var Ca=Ji.map({"inside-out":function(n){var t,e,r=n.length,i=n.map(qr),u=n.map(Tr),o=Ji.range(r).sort(function(n,t){return i[n]-i[t]}),a=0,l=0,c=[],f=[];for(t=0;t<r;++t)e=o[t],a<l?(a+=u[e],c.push(e)):(l+=u[e],f.push(e));return f.reverse().concat(c)},reverse:function(n){return Ji.range(n.length).reverse()},default:zr}),za=Ji.map({silhouette:function(n){var t,e,r,i=n.length,u=n[0].length,o=[],a=0,l=[];for(e=0;e<u;++e){for(r=t=0;t<i;t++)r+=n[t][e][1];a<r&&(a=r),o.push(r)}for(e=0;e<u;++e)l[e]=(a-o[e])/2;return l},wiggle:function(n){var t,e,r,i,u,o,a,l,c,f=n.length,s=n[0],h=s.length,p=[];for(p[0]=l=c=0,e=1;e<h;++e){for(i=t=0;t<f;++t)i+=n[t][e][1];for(u=t=0,a=s[e][0]-s[e-1][0];t<f;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);r<t;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;u+=o*n[t][e][1]}p[e]=l-=i?u/i*a:0,l<c&&(c=l)}for(e=0;e<h;++e)p[e]-=c;return p},expand:function(n){var t,e,r,i=n.length,u=n[0].length,o=1/i,a=[];for(e=0;e<u;++e){for(r=t=0;t<i;t++)r+=n[t][e][1];if(r)for(t=0;t<i;t++)n[t][e][1]/=r;else for(t=0;t<i;t++)n[t][e][1]=o}for(e=0;e<u;++e)a[e]=0;return a},zero:Lr});Ji.layout.histogram=function(){function e(n,t){for(var e,r,i=[],u=n.map(h,this),o=p.call(this,u,t),a=g.call(this,o,u,t),l=(t=-1,u.length),c=a.length-1,f=s?1:1/l;++t<c;)(e=i[t]=[]).dx=a[t+1]-(e.x=a[t]),e.y=0;if(0<c)for(t=-1;++t<l;)(r=u[t])>=o[0]&&r<=o[1]&&((e=i[Ji.bisect(a,r,1,c)-1]).y+=f,e.push(n[t]));return i}var s=!0,h=Number,p=Ur,g=Dr;return e.value=function(n){return arguments.length?(h=n,e):h},e.range=function(n){return arguments.length?(p=_n(n),e):p},e.bins=function(t){return arguments.length?(g="number"==typeof t?function(n){return Pr(n,t)}:_n(t),e):g},e.frequency=function(n){return arguments.length?(s=!!n,e):s},e},Ji.layout.pack=function(){function t(n,t){var e=c.call(this,n,t),r=e[0],i=s[0],u=s[1],o=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(r.x=r.y=0,_r(r,function(n){n.r=+o(n.value)}),_r(r,Ir),f){var a=f*(l?1:Math.max(2*r.r/i,2*r.r/u))/2;_r(r,function(n){n.r+=a}),_r(r,Ir),_r(r,function(n){n.r-=a})}return function n(t,e,r,i){var u=t.children;if(t.x=e+=i*t.x,t.y=r+=i*t.y,t.r*=i,u)for(var o=-1,a=u.length;++o<a;)n(u[o],e,r,i)}(r,i/2,u/2,l?1:1/Math.max(2*r.r/i,2*r.r/u)),e}var l,c=Ji.layout.hierarchy().sort(jr),f=0,s=[1,1];return t.size=function(n){return arguments.length?(s=n,t):s},t.radius=function(n){return arguments.length?(l=null==n||"function"==typeof n?n:+n,t):l},t.padding=function(n){return arguments.length?(f=+n,t):f},xr(t,c)},Ji.layout.tree=function(){function t(n,t){var e=g.call(this,n,t),r=e[0],i=function(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var i,u=t.children,o=0,a=u.length;o<a;++o)r.push((u[o]=i={_:u[o],parent:t,children:(i=u[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return e.children[0]}(r);if(_r(i,s),i.parent.m=-i.z,br(i,h),d)br(r,p);else{var u=r,o=r,a=r;br(r,function(n){n.x<u.x&&(u=n),n.x>o.x&&(o=n),n.depth>a.depth&&(a=n)});var l=M(u,o)/2-u.x,c=v[0]/(o.x+M(o,u)/2+l),f=v[1]/(a.depth||1);br(r,function(n){n.x=(n.x+l)*c,n.y=n.depth*f})}return e}function s(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){!function(n){for(var t,e=0,r=0,i=n.children,u=i.length;0<=--u;)(t=i[u]).z+=e,t.m+=e,e+=t.s+(r+=t.c)}(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+M(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+M(n._,r._));n.parent.A=function(n,t,e){if(t){for(var r,i=n,u=n,o=t,a=i.parent.children[0],l=i.m,c=u.m,f=o.m,s=a.m;o=Br(o),i=$r(i),o&&i;)a=$r(a),(u=Br(u)).a=n,0<(r=o.z+f-i.z-l+M(o._,i._))&&(y=n,m=e,h=(d=o).a.parent===y.parent?d.a:m,v=(g=r)/((p=n).i-h.i),p.c-=v,p.s+=g,h.c+=v,p.z+=g,p.m+=g,l+=r,c+=r),f+=o.m,l+=i.m,s+=a.m,c+=u.m;o&&!Br(u)&&(u.t=o,u.m+=f-c),i&&!$r(a)&&(a.t=i,a.m+=l-s,e=n)}var h,p,g,v;var d,y,m;return e}(n,r,n.parent.A||e[0])}function h(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function p(n){n.x*=v[0],n.y=n.depth*v[1]}var g=Ji.layout.hierarchy().sort(null).value(null),M=Xr,v=[1,1],d=null;return t.separation=function(n){return arguments.length?(M=n,t):M},t.size=function(n){return arguments.length?(d=null==(v=n)?p:null,t):d?null:v},t.nodeSize=function(n){return arguments.length?(d=null==(v=n)?null:p,t):d?v:null},xr(t,g)},Ji.layout.cluster=function(){function t(n,t){var i,e=f.call(this,n,t),r=e[0],u=0;_r(r,function(n){var t,e,r=n.children;r&&r.length?(n.x=(e=r).reduce(function(n,t){return n+t.x},0)/e.length,n.y=(t=r,1+Ji.max(t,function(n){return n.y}))):(n.x=i?u+=s(n,i):0,n.y=0,i=n)});var o=function n(t){var e=t.children;return e&&e.length?n(e[0]):t}(r),a=function n(t){var e,r=t.children;return r&&(e=r.length)?n(r[e-1]):t}(r),l=o.x-s(o,a)/2,c=a.x+s(a,o)/2;return _r(r,p?function(n){n.x=(n.x-r.x)*h[0],n.y=(r.y-n.y)*h[1]}:function(n){n.x=(n.x-l)/(c-l)*h[0],n.y=(1-(r.y?n.y/r.y:1))*h[1]}),e}var f=Ji.layout.hierarchy().sort(null).value(null),s=Xr,h=[1,1],p=!1;return t.separation=function(n){return arguments.length?(s=n,t):s},t.size=function(n){return arguments.length?(p=null==(h=n),t):p?null:h},t.nodeSize=function(n){return arguments.length?(p=null!=(h=n),t):p?h:null},xr(t,f)},Ji.layout.treemap=function(){function f(n,t){for(var e,r,i=-1,u=n.length;++i<u;)r=(e=n[i]).value*(t<0?0:t),e.area=isNaN(r)||r<=0?0:r}function s(n){var t=n.children;if(t&&t.length){var e,r,i,u=v(n),o=[],a=t.slice(),l=1/0,c="slice"===d?u.dx:"dice"===d?u.dy:"slice-dice"===d?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(f(a,u.dx*u.dy/n.value),o.area=0;0<(i=a.length);)o.push(e=a[i-1]),o.area+=e.area,l="squarify"!==d||(r=h(o,c))<=l?(a.pop(),r):(o.area-=o.pop().area,p(o,c,u,!1),c=Math.min(u.dx,u.dy),o.length=o.area=0,1/0);o.length&&(p(o,c,u,!0),o.length=o.area=0),t.forEach(s)}}function o(n){var t=n.children;if(t&&t.length){var e,r=v(n),i=t.slice(),u=[];for(f(i,r.dx*r.dy/n.value),u.area=0;e=i.pop();)u.push(e),u.area+=e.area,null!=e.z&&(p(u,e.z?r.dx:r.dy,r,!i.length),u.length=u.area=0);t.forEach(o)}}function h(n,t){for(var e,r=n.area,i=0,u=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(e<u&&(u=e),i<e&&(i=e));return t*=t,(r*=r)?Math.max(t*i*y/r,r/(t*u*y)):1/0}function p(n,t,e,r){var i,u=-1,o=n.length,a=e.x,l=e.y,c=t?g(n.area/t):0;if(t==e.dx){for((r||c>e.dy)&&(c=e.dy);++u<o;)(i=n[u]).x=a,i.y=l,i.dy=c,a+=i.dx=Math.min(e.x+e.dx-a,c?g(i.area/c):0);i.z=!0,i.dx+=e.x+e.dx-a,e.y+=c,e.dy-=c}else{for((r||c>e.dx)&&(c=e.dx);++u<o;)(i=n[u]).x=a,i.y=l,i.dx=c,l+=i.dy=Math.min(e.y+e.dy-l,c?g(i.area/c):0);i.z=!1,i.dy+=e.y+e.dy-l,e.x+=c,e.dx-=c}}function r(n){var t=i||u(n),e=t[0];return e.x=e.y=0,e.value?(e.dx=a[0],e.dy=a[1]):e.dx=e.dy=0,i&&u.revalue(e),f([e],e.dx*e.dy/e.value),(i?o:s)(e),c&&(i=t),t}var i,u=Ji.layout.hierarchy(),g=Math.round,a=[1,1],l=null,v=Wr,c=!1,d="squarify",y=.5*(1+Math.sqrt(5));return r.size=function(n){return arguments.length?(a=n,r):a},r.padding=function(e){function n(n){return Jr(n,e)}return arguments.length?(v=null==(l=e)?Wr:"function"==(t=typeof e)?function(n){var t=e.call(r,n,n.depth);return null==t?Wr(n):Jr(n,"number"==typeof t?[t,t,t,t]:t)}:("number"==t&&(e=[e,e,e,e]),n),r):l;var t},r.round=function(n){return arguments.length?(g=n?Math.round:Number,r):g!=Number},r.sticky=function(n){return arguments.length?(c=n,i=null,r):c},r.ratio=function(n){return arguments.length?(y=n,r):y},r.mode=function(n){return arguments.length?(d=n+"",r):d},xr(r,u)},Ji.random={normal:function(r,i){var n=arguments.length;return n<2&&(i=1),n<1&&(r=0),function(){for(var n,t,e;!(e=(n=2*Math.random()-1)*n+(t=2*Math.random()-1)*t)||1<e;);return r+i*n*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var n=Ji.random.normal.apply(Ji,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=Ji.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(e){return function(){for(var n=0,t=0;t<e;t++)n+=Math.random();return n}}},Ji.scale={};var La={floor:R,ceil:R};Ji.scale.linear=function(){return function n(e,r,i,u){function t(){var n=2<Math.min(e.length,r.length)?ei:Qr,t=u?pr:hr;return a=n(e,r,t,i),l=n(r,e,t,We),o}function o(n){return a(n)}var a,l;return o.invert=function(n){return l(n)},o.domain=function(n){return arguments.length?(e=n.map(Number),t()):e},o.range=function(n){return arguments.length?(r=n,t()):r},o.rangeRound=function(n){return o.range(n).interpolate(or)},o.clamp=function(n){return arguments.length?(u=n,t()):u},o.interpolate=function(n){return arguments.length?(i=n,t()):i},o.ticks=function(n){return oi(e,n)},o.tickFormat=function(n,t){return ai(e,n,t)},o.nice=function(n){return ii(e,n),t()},o.copy=function(){return n(e,r,i,u)},t()}([0,1],[0,1],We,!1)};var qa={s:1,g:1,p:1,r:1,e:1};Ji.scale.log=function(){return function n(t,l,c,f){function s(n){return(c?Math.log(n<0?0:n):-Math.log(0<n?0:-n))/Math.log(l)}function h(n){return c?Math.pow(l,n):-Math.pow(l,-n)}function i(n){return t(s(n))}return i.invert=function(n){return h(t.invert(n))},i.domain=function(n){return arguments.length?(c=0<=n[0],t.domain((f=n.map(Number)).map(s)),i):f},i.base=function(n){return arguments.length?(l=+n,t.domain(f.map(s)),i):l},i.nice=function(){var n=ni(f.map(s),c?Math:Ra);return t.domain(n),f=n.map(h),i},i.ticks=function(){var n=Gr(f),t=[],e=n[0],r=n[1],i=Math.floor(s(e)),u=Math.ceil(s(r)),o=l%1?2:l;if(isFinite(u-i)){if(c){for(;i<u;i++)for(var a=1;a<o;a++)t.push(h(i)*a);t.push(h(i))}else for(t.push(h(i));i++<u;)for(a=o-1;0<a;a--)t.push(h(i)*a);for(i=0;t[i]<e;i++);for(u=t.length;t[u-1]>r;u--);t=t.slice(i,u)}return t},i.tickFormat=function(n,e){if(!arguments.length)return Ta;arguments.length<2?e=Ta:"function"!=typeof e&&(e=Ji.format(e));var r=Math.max(1,l*n/i.ticks().length);return function(n){var t=n/h(Math.round(s(n)));return t*l<l-.5&&(t*=l),t<=r?e(n):""}},i.copy=function(){return n(t.copy(),l,c,f)},ri(i,t)}(Ji.scale.linear().domain([0,1]),10,!0,[1,10])};var Ta=Ji.format(".0e"),Ra={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};Ji.scale.pow=function(){return function n(t,e,r){function i(n){return t(u(n))}var u=ci(e),o=ci(1/e);return i.invert=function(n){return o(t.invert(n))},i.domain=function(n){return arguments.length?(t.domain((r=n.map(Number)).map(u)),i):r},i.ticks=function(n){return oi(r,n)},i.tickFormat=function(n,t){return ai(r,n,t)},i.nice=function(n){return i.domain(ii(r,n))},i.exponent=function(n){return arguments.length?(u=ci(e=n),o=ci(1/e),t.domain(r.map(u)),i):e},i.copy=function(){return n(t.copy(),e,r)},ri(i,t)}(Ji.scale.linear(),1,[0,1])},Ji.scale.sqrt=function(){return Ji.scale.pow().exponent(.5)},Ji.scale.ordinal=function(){return function n(a,l){function c(n){return s[((i.get(n)||("range"===l.t?i.set(n,a.push(n)):NaN))-1)%s.length]}function f(t,e){return Ji.range(a.length).map(function(n){return t+e*n})}var i,s,h;return c.domain=function(n){if(!arguments.length)return a;a=[],i=new m;for(var t,e=-1,r=n.length;++e<r;)i.has(t=n[e])||i.set(t,a.push(t));return c[l.t].apply(c,l.a)},c.range=function(n){return arguments.length?(s=n,h=0,l={t:"range",a:arguments},c):s},c.rangePoints=function(n,t){arguments.length<2&&(t=0);var e=n[0],r=n[1],i=a.length<2?(e=(e+r)/2,0):(r-e)/(a.length-1+t);return s=f(e+i*t/2,i),h=0,l={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(n,t){arguments.length<2&&(t=0);var e=n[0],r=n[1],i=a.length<2?(e=r=Math.round((e+r)/2),0):(r-e)/(a.length-1+t)|0;return s=f(e+Math.round(i*t/2+(r-e-(a.length-1+t)*i)/2),i),h=0,l={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(n,t,e){arguments.length<2&&(t=0),arguments.length<3&&(e=t);var r=n[1]<n[0],i=n[r-0],u=(n[1-r]-i)/(a.length-t+2*e);return s=f(i+u*e,u),r&&s.reverse(),h=u*(1-t),l={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(n,t,e){arguments.length<2&&(t=0),arguments.length<3&&(e=t);var r=n[1]<n[0],i=n[r-0],u=n[1-r],o=Math.floor((u-i)/(a.length-t+2*e));return s=f(i+Math.round((u-i-(a.length-t)*o)/2),o),r&&s.reverse(),h=Math.round(o*(1-t)),l={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return h},c.rangeExtent=function(){return Gr(l.a[0])},c.copy=function(){return n(a,l)},c.domain(a)}([],{t:"range",a:[[]]})},Ji.scale.category10=function(){return Ji.scale.ordinal().range(Da)},Ji.scale.category20=function(){return Ji.scale.ordinal().range(Pa)},Ji.scale.category20b=function(){return Ji.scale.ordinal().range(Ua)},Ji.scale.category20c=function(){return Ji.scale.ordinal().range(ja)};var Da=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(vn),Pa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(vn),Ua=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(vn),ja=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(vn);Ji.scale.quantile=function(){return function n(e,r){function t(){var n=0,t=r.length;for(u=[];++n<t;)u[n-1]=Ji.quantile(e,n/t);return i}function i(n){return isNaN(n=+n)?void 0:r[Ji.bisect(u,n)]}var u;return i.domain=function(n){return arguments.length?(e=n.map(c).filter(f).sort(o),t()):e},i.range=function(n){return arguments.length?(r=n,t()):r},i.quantiles=function(){return u},i.invertExtent=function(n){return(n=r.indexOf(n))<0?[NaN,NaN]:[0<n?u[n-1]:e[0],n<u.length?u[n]:e[e.length-1]]},i.copy=function(){return n(e,r)},t()}([],[])},Ji.scale.quantize=function(){return function n(t,e,r){function i(n){return r[Math.max(0,Math.min(a,Math.floor(o*(n-t))))]}function u(){return o=r.length/(e-t),a=r.length-1,i}var o,a;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],u()):[t,e]},i.range=function(n){return arguments.length?(r=n,u()):r},i.invertExtent=function(n){return[n=(n=r.indexOf(n))<0?NaN:n/o+t,n+1/o]},i.copy=function(){return n(t,e,r)},u()}(0,1,[0,1])},Ji.scale.threshold=function(){return function n(t,e){function r(n){return n<=n?e[Ji.bisect(t,n)]:void 0}return r.domain=function(n){return arguments.length?(t=n,r):t},r.range=function(n){return arguments.length?(e=n,r):e},r.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},r.copy=function(){return n(t,e)},r}([.5],[0,1])},Ji.scale.identity=function(){return function n(e){function t(n){return+n}return(t.invert=t).domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(n){return oi(e,n)},t.tickFormat=function(n,t){return ai(e,n,t)},t.copy=function(){return n(e)},t}([0,1])},Ji.svg={},Ji.svg.arc=function(){function t(){var n=Math.max(0,+F.apply(this,arguments)),t=Math.max(0,+H.apply(this,arguments)),e=Y.apply(this,arguments)-Au,r=Z.apply(this,arguments)-Au,i=Math.abs(r-e),u=r<e?0:1;if(t<n&&(o=t,t=n,n=o),Eu<=i)return j(t,u)+(n?j(n,1-u):"")+"Z";var o,a,l,c,f,s,h,p,g,v,d,y,m=0,M=0,x=[];if((c=(+V.apply(this,arguments)||0)/2)&&(l=I===Fa?Math.sqrt(n*n+t*t):+I.apply(this,arguments),u||(M*=-1),t&&(M=K(l/t*Math.sin(c))),n&&(m=K(l/n*Math.sin(c)))),t){f=t*Math.cos(e+M),s=t*Math.sin(e+M),h=t*Math.cos(r-M),p=t*Math.sin(r-M);var b=Math.abs(r-e-2*M)<=ku?0:1;if(M&&di(f,s,h,p)===u^b){var _=(e+r)/2;f=t*Math.cos(_),s=t*Math.sin(_),h=p=null}}else f=s=0;if(n){g=n*Math.cos(r-m),v=n*Math.sin(r-m),d=n*Math.cos(e+m),y=n*Math.sin(e+m);var w=Math.abs(e-r+2*m)<=ku?0:1;if(m&&di(g,v,d,y)===1-u^w){var S=(e+r)/2;g=n*Math.cos(S),v=n*Math.sin(S),d=y=null}}else g=v=0;if(wu<i&&.001<(o=Math.min(Math.abs(t-n)/2,+O.apply(this,arguments)))){a=n<t^u?0:1;var k=o,N=o;if(i<ku){var E=null==d?[g,v]:null==h?[f,s]:de([f,s],[d,y],[h,p],[g,v]),A=f-E[0],C=s-E[1],z=h-E[0],L=p-E[1],q=1/Math.sin(Math.acos((A*z+C*L)/(Math.sqrt(A*A+C*C)*Math.sqrt(z*z+L*L)))/2),T=Math.sqrt(E[0]*E[0]+E[1]*E[1]);N=Math.min(o,(n-T)/(q-1)),k=Math.min(o,(t-T)/(1+q))}if(null!=h){var R=yi(null==d?[g,v]:[d,y],[f,s],t,k,u),D=yi([h,p],[g,v],t,k,u);o===k?x.push("M",R[0],"A",k,",",k," 0 0,",a," ",R[1],"A",t,",",t," 0 ",1-u^di(R[1][0],R[1][1],D[1][0],D[1][1]),",",u," ",D[1],"A",k,",",k," 0 0,",a," ",D[0]):x.push("M",R[0],"A",k,",",k," 0 1,",a," ",D[0])}else x.push("M",f,",",s);if(null!=d){var P=yi([f,s],[d,y],n,-N,u),U=yi([g,v],null==h?[f,s]:[h,p],n,-N,u);o===N?x.push("L",U[0],"A",N,",",N," 0 0,",a," ",U[1],"A",n,",",n," 0 ",u^di(U[1][0],U[1][1],P[1][0],P[1][1]),",",1-u," ",P[1],"A",N,",",N," 0 0,",a," ",P[0]):x.push("L",U[0],"A",N,",",N," 0 0,",a," ",P[0])}else x.push("L",g,",",v)}else x.push("M",f,",",s),null!=h&&x.push("A",t,",",t," 0 ",b,",",u," ",h,",",p),x.push("L",g,",",v),null!=d&&x.push("A",n,",",n," 0 ",w,",",1-u," ",d,",",y);return x.push("Z"),x.join("")}function j(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var F=si,H=hi,O=fi,I=Fa,Y=pi,Z=gi,V=vi;return t.innerRadius=function(n){return arguments.length?(F=_n(n),t):F},t.outerRadius=function(n){return arguments.length?(H=_n(n),t):H},t.cornerRadius=function(n){return arguments.length?(O=_n(n),t):O},t.padRadius=function(n){return arguments.length?(I=n==Fa?Fa:_n(n),t):I},t.startAngle=function(n){return arguments.length?(Y=_n(n),t):Y},t.endAngle=function(n){return arguments.length?(Z=_n(n),t):Z},t.padAngle=function(n){return arguments.length?(V=_n(n),t):V},t.centroid=function(){var n=(+F.apply(this,arguments)+ +H.apply(this,arguments))/2,t=(+Y.apply(this,arguments)+ +Z.apply(this,arguments))/2-Au;return[Math.cos(t)*n,Math.sin(t)*n]},t};var Fa="auto";Ji.svg.line=function(){return mi(R)};var Ha=Ji.map({linear:Mi,"linear-closed":xi,step:function(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return 1<e&&i.push("H",r[0]),i.join("")},"step-before":bi,"step-after":_i,basis:ki,"basis-open":function(n){if(n.length<4)return Mi(n);for(var t,e=[],r=-1,i=n.length,u=[0],o=[0];++r<3;)t=n[r],u.push(t[0]),o.push(t[1]);for(e.push(Ni(Ya,u)+","+Ni(Ya,o)),--r;++r<i;)t=n[r],u.shift(),u.push(t[0]),o.shift(),o.push(t[1]),Ei(e,u,o);return e.join("")},"basis-closed":function(n){for(var t,e,r=-1,i=n.length,u=i+4,o=[],a=[];++r<4;)e=n[r%i],o.push(e[0]),a.push(e[1]);for(t=[Ni(Ya,o),",",Ni(Ya,a)],--r;++r<u;)e=n[r%i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ei(t,o,a);return t.join("")},bundle:function(n,t){var e=n.length-1;if(e)for(var r,i,u=n[0][0],o=n[0][1],a=n[e][0]-u,l=n[e][1]-o,c=-1;++c<=e;)i=c/e,(r=n[c])[0]=t*r[0]+(1-t)*(u+i*a),r[1]=t*r[1]+(1-t)*(o+i*l);return ki(n)},cardinal:function(n,t){return n.length<3?Mi(n):n[0]+wi(n,Si(n,t))},"cardinal-open":function(n,t){return n.length<4?Mi(n):n[1]+wi(n.slice(1,-1),Si(n,t))},"cardinal-closed":function(n,t){return n.length<3?xi(n):n[0]+wi((n.push(n[0]),n),Si([n[n.length-2]].concat(n,[n[1]]),t))},monotone:function(n){return n.length<3?Mi(n):n[0]+wi(n,Ci(n))}});Ha.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Oa=[0,2/3,1/3,0],Ia=[0,1/3,2/3,0],Ya=[0,1/6,2/3,1/6];Ji.svg.line.radial=function(){var n=mi(zi);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},(bi.reverse=_i).reverse=bi,Ji.svg.area=function(){return Li(R)},Ji.svg.area.radial=function(){var n=Li(zi);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},Ji.svg.chord=function(){function t(n,t){var e,r,i=o(this,c,n,t),u=o(this,f,n,t);return"M"+i.p0+a(i.r,i.p1,i.a1-i.a0)+(r=u,(e=i).a0==r.a0&&e.a1==r.a1?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,u.r,u.p0)+a(u.r,u.p1,u.a1-u.a0)+l(u.r,u.p1,i.r,i.p0))+"Z"}function o(n,t,e,r){var i=t.call(n,e,r),u=s.call(n,i,r),o=h.call(n,i,r)-Au,a=p.call(n,i,r)-Au;return{r:u,a0:o,a1:a,p0:[u*Math.cos(o),u*Math.sin(o)],p1:[u*Math.cos(a),u*Math.sin(a)]}}function a(n,t,e){return"A"+n+","+n+" 0 "+ +(ku<e)+",1 "+t}function l(n,t,e,r){return"Q 0,0 "+r}var c=re,f=ie,s=qi,h=pi,p=gi;return t.radius=function(n){return arguments.length?(s=_n(n),t):s},t.source=function(n){return arguments.length?(c=_n(n),t):c},t.target=function(n){return arguments.length?(f=_n(n),t):f},t.startAngle=function(n){return arguments.length?(h=_n(n),t):h},t.endAngle=function(n){return arguments.length?(p=_n(n),t):p},t},Ji.svg.diagonal=function(){function t(n,t){var e=o.call(this,n,t),r=a.call(this,n,t),i=(e.y+r.y)/2,u=[e,{x:e.x,y:i},{x:r.x,y:i},r];return"M"+(u=u.map(l))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var o=re,a=ie,l=Ti;return t.source=function(n){return arguments.length?(o=_n(n),t):o},t.target=function(n){return arguments.length?(a=_n(n),t):a},t.projection=function(n){return arguments.length?(l=n,t):l},t},Ji.svg.diagonal.radial=function(){var n=Ji.svg.diagonal(),t=Ti,e=n.projection;return n.projection=function(n){return arguments.length?e((r=t=n,function(){var n=r.apply(this,arguments),t=n[0],e=n[1]-Au;return[t*Math.cos(e),t*Math.sin(e)]})):t;var r},n},Ji.svg.symbol=function(){function t(n,t){return(Za.get(e.call(this,n,t))||Pi)(r.call(this,n,t))}var e=Di,r=Ri;return t.type=function(n){return arguments.length?(e=_n(n),t):e},t.size=function(n){return arguments.length?(r=_n(n),t):r},t};var Za=Ji.map({circle:Pi,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Xa)),e=t*Xa;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/Va),e=t*Va/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/Va),e=t*Va/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});Ji.svg.symbolTypes=Za.keys();var Va=Math.sqrt(3),Xa=Math.tan(30*Cu);vu.transition=function(n){for(var t,e,r=$a||++Ga,i=Oi(n),u=[],o=Ba||{time:Date.now(),ease:tr,delay:0,duration:250},a=-1,l=this.length;++a<l;){u.push(t=[]);for(var c=this[a],f=-1,s=c.length;++f<s;)(e=c[f])&&Ii(e,f,i,r,o),t.push(e)}return ji(u,i,r)},vu.interrupt=function(n){return this.each(null==n?Wa:Ui(Oi(n)))};var $a,Ba,Wa=Ui(Oi()),Ja=[],Ga=0;Ja.call=vu.call,Ja.empty=vu.empty,Ja.node=vu.node,Ja.size=vu.size,Ji.transition=function(n,t){return n&&n.transition?$a?n.transition(t):n:Ji.selection().transition(n)},(Ji.transition.prototype=Ja).select=function(n){var t,e,r,i=this.id,u=this.namespace,o=[];n=w(n);for(var a=-1,l=this.length;++a<l;){o.push(t=[]);for(var c=this[a],f=-1,s=c.length;++f<s;)(r=c[f])&&(e=n.call(r,r.__data__,f,a))?("__data__"in r&&(e.__data__=r.__data__),Ii(e,f,u,i,r[u][i]),t.push(e)):t.push(null)}return ji(o,u,i)},Ja.selectAll=function(n){var t,e,r,i,u,o=this.id,a=this.namespace,l=[];n=S(n);for(var c=-1,f=this.length;++c<f;)for(var s=this[c],h=-1,p=s.length;++h<p;)if(r=s[h]){u=r[a][o],e=n.call(r,r.__data__,h,c),l.push(t=[]);for(var g=-1,v=e.length;++g<v;)(i=e[g])&&Ii(i,g,a,o,u),t.push(i)}return ji(l,a,o)},Ja.filter=function(n){var t,e,r=[];"function"!=typeof n&&(n=H(n));for(var i=0,u=this.length;i<u;i++){r.push(t=[]);for(var o,a=0,l=(o=this[i]).length;a<l;a++)(e=o[a])&&n.call(e,e.__data__,a,i)&&t.push(e)}return ji(r,this.namespace,this.id)},Ja.tween=function(t,e){var r=this.id,i=this.namespace;return arguments.length<2?this.node()[i][r].tween.get(t):O(this,null==e?function(n){n[i][r].tween.remove(t)}:function(n){n[i][r].tween.set(t,e)})},Ja.attr=function(n,t){function r(){this.removeAttribute(o)}function i(){this.removeAttributeNS(o.space,o.local)}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var u="transform"==n?sr:We,o=Ji.ns.qualify(n);return Fi(this,"attr."+n,t,o.local?function(e){return null==e?i:(e+="",function(){var t,n=this.getAttributeNS(o.space,o.local);return n!==e&&(t=u(n,e),function(n){this.setAttributeNS(o.space,o.local,t(n))})})}:function(e){return null==e?r:(e+="",function(){var t,n=this.getAttribute(o);return n!==e&&(t=u(n,e),function(n){this.setAttribute(o,t(n))})})})},Ja.attrTween=function(n,r){var i=Ji.ns.qualify(n);return this.tween("attr."+n,i.local?function(n,t){var e=r.call(this,n,t,this.getAttributeNS(i.space,i.local));return e&&function(n){this.setAttributeNS(i.space,i.local,e(n))}}:function(n,t){var e=r.call(this,n,t,this.getAttribute(i));return e&&function(n){this.setAttribute(i,e(n))}})},Ja.style=function(r,n,i){function t(){this.style.removeProperty(r)}var e=arguments.length;if(e<3){if("string"!=typeof r){for(i in e<2&&(n=""),r)this.style(i,r[i],n);return this}i=""}return Fi(this,"style."+r,n,function(e){return null==e?t:(e+="",function(){var t,n=T(this).getComputedStyle(this,null).getPropertyValue(r);return n!==e&&(t=We(n,e),function(n){this.style.setProperty(r,t(n),i)})})})},Ja.styleTween=function(r,i,u){return arguments.length<3&&(u=""),this.tween("style."+r,function(n,t){var e=i.call(this,n,t,T(this).getComputedStyle(this,null).getPropertyValue(r));return e&&function(n){this.style.setProperty(r,e(n),u)}})},Ja.text=function(n){return Fi(this,"text",n,Hi)},Ja.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var n;this[t].count<2&&(n=this.parentNode)&&n.removeChild(this)})},Ja.ease=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].ease:("function"!=typeof t&&(t=Ji.ease.apply(Ji,arguments)),O(this,function(n){n[r][e].ease=t}))},Ja.delay=function(r){var i=this.id,u=this.namespace;return arguments.length<1?this.node()[u][i].delay:O(this,"function"==typeof r?function(n,t,e){n[u][i].delay=+r.call(n,n.__data__,t,e)}:(r=+r,function(n){n[u][i].delay=r}))},Ja.duration=function(r){var i=this.id,u=this.namespace;return arguments.length<1?this.node()[u][i].duration:O(this,"function"==typeof r?function(n,t,e){n[u][i].duration=Math.max(1,r.call(n,n.__data__,t,e))}:(r=Math.max(1,r),function(n){n[u][i].duration=r}))},Ja.each=function(r,e){var i=this.id,u=this.namespace;if(arguments.length<2){var n=Ba,t=$a;try{$a=i,O(this,function(n,t,e){Ba=n[u][i],r.call(n,n.__data__,t,e)})}finally{Ba=n,$a=t}}else O(this,function(n){var t=n[u][i];(t.event||(t.event=Ji.dispatch("start","end","interrupt"))).on(r,e)});return this},Ja.transition=function(){for(var n,t,e,r=this.id,i=++Ga,u=this.namespace,o=[],a=0,l=this.length;a<l;a++){o.push(n=[]);for(var c,f=0,s=(c=this[a]).length;f<s;f++)(t=c[f])&&Ii(t,f,u,i,{time:(e=t[u][r]).time,ease:e.ease,delay:e.delay+e.duration,duration:e.duration}),n.push(t)}return ji(o,u,i)},Ji.svg.axis=function(){function e(n){n.each(function(){var n,t=Ji.select(this),e=this.__chart__||E,r=this.__chart__=E.copy(),i=null==T?r.ticks?r.ticks.apply(r,q):r.domain():T,u=null==N?r.tickFormat?r.tickFormat.apply(r,q):R:N,o=t.selectAll(".tick").data(i,r),a=o.enter().insert("g",".domain").attr("class","tick").style("opacity",wu),l=Ji.transition(o.exit()).style("opacity",wu).remove(),c=Ji.transition(o.order()).style("opacity",1),f=Math.max(C,0)+L,s=Kr(r),h=t.selectAll(".domain").data([0]),p=(h.enter().append("path").attr("class","domain"),Ji.transition(h));a.append("line"),a.append("text");var g,v,d,y,m=a.select("line"),M=c.select("line"),x=o.select("text").text(u),b=a.select("text"),_=c.select("text"),w="top"===A||"left"===A?-1:1;if("bottom"===A||"top"===A?(n=Yi,g="x",d="y",v="x2",y="y2",x.attr("dy",w<0?"0em":".71em").style("text-anchor","middle"),p.attr("d","M"+s[0]+","+w*z+"V0H"+s[1]+"V"+w*z)):(n=Zi,g="y",d="x",v="y2",y="x2",x.attr("dy",".32em").style("text-anchor",w<0?"end":"start"),p.attr("d","M"+w*z+","+s[0]+"H0V"+s[1]+"H"+w*z)),m.attr(y,w*C),b.attr(d,w*f),M.attr(v,0).attr(y,w*C),_.attr(g,0).attr(d,w*f),r.rangeBand){var S=r,k=S.rangeBand()/2;e=r=function(n){return S(n)+k}}else e.rangeBand?e=r:l.call(n,r,e);a.call(n,e,r),c.call(n,r,r)})}var N,E=Ji.scale.linear(),A=Ka,C=6,z=6,L=3,q=[10],T=null;return e.scale=function(n){return arguments.length?(E=n,e):E},e.orient=function(n){return arguments.length?(A=n in Qa?n+"":Ka,e):A},e.ticks=function(){return arguments.length?(q=Ki(arguments),e):q},e.tickValues=function(n){return arguments.length?(T=n,e):T},e.tickFormat=function(n){return arguments.length?(N=n,e):N},e.tickSize=function(n){var t=arguments.length;return t?(C=+n,z=+arguments[t-1],e):C},e.innerTickSize=function(n){return arguments.length?(C=+n,e):C},e.outerTickSize=function(n){return arguments.length?(z=+n,e):z},e.tickPadding=function(n){return arguments.length?(L=+n,e):L},e.tickSubdivide=function(){return arguments.length&&e},e};var Ka="bottom",Qa={top:1,right:1,bottom:1,left:1};Ji.svg.brush=function(){function m(n){n.each(function(){var n=Ji.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),t=n.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var e=n.selectAll(".resize").data(a,R);e.exit().remove(),e.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return nl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),e.style("display",m.empty()?"none":null);var r,i=Ji.transition(n),u=Ji.transition(t);k&&(r=Kr(k),u.attr("x",r[0]).attr("width",r[1]-r[0]),x(i)),N&&(r=Kr(N),u.attr("y",r[0]).attr("height",r[1]-r[0]),b(i)),M(i)})}function M(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+E[+/e$/.test(n)]+","+A[+/^s/.test(n)]+")"})}function x(n){n.select(".extent").attr("x",E[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",E[1]-E[0])}function b(n){n.select(".extent").attr("y",A[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",A[1]-A[0])}function o(){function n(){var n=Ji.mouse(i),t=!1;r&&(n[0]+=r[0],n[1]+=r[1]),h||(Ji.event.altKey?(s=s||[(E[0]+E[1])/2,(A[0]+A[1])/2],g[0]=E[+(n[0]<s[0])],g[1]=A[+(n[1]<s[1])]):s=null),c&&e(n,k,0)&&(x(a),t=!0),f&&e(n,N,1)&&(b(a),t=!0),t&&(M(a),o({type:"brush",mode:h?"move":"resize"}))}function e(n,t,e){var r,i,u=Kr(t),o=u[0],a=u[1],l=g[e],c=e?A:E,f=c[1]-c[0];return h&&(o-=l,a-=f+l),r=(e?z:C)?Math.max(o,Math.min(a,n[e])):n[e],h?i=(r+=l)+f:(s&&(l=Math.max(o,Math.min(a,2*s[e]-r))),l<r?(i=r,r=l):i=l),c[0]!=r||c[1]!=i?(e?w=null:_=null,c[0]=r,c[1]=i,!0):void 0}function t(){n(),a.style("pointer-events","all").selectAll(".resize").style("display",m.empty()?"none":null),Ji.select("body").style("cursor",null),v.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),p(),o({type:"brushend"})}var s,r,i=this,u=Ji.select(Ji.event.target),o=S.of(i,arguments),a=Ji.select(i),l=u.datum(),c=!/^(n|s)$/.test(l)&&k,f=!/^(e|w)$/.test(l)&&N,h=u.classed("extent"),p=X(i),g=Ji.mouse(i),v=Ji.select(T(i)).on("keydown.brush",function(){32==Ji.event.keyCode&&(h||(s=null,g[0]-=E[1],g[1]-=A[1],h=2),D())}).on("keyup.brush",function(){32==Ji.event.keyCode&&2==h&&(g[0]+=E[1],g[1]+=A[1],h=0,D())});if(Ji.event.changedTouches?v.on("touchmove.brush",n).on("touchend.brush",t):v.on("mousemove.brush",n).on("mouseup.brush",t),a.interrupt().selectAll("*").interrupt(),h)g[0]=E[0]-g[0],g[1]=A[0]-g[1];else if(l){var d=+/w$/.test(l),y=+/^n/.test(l);r=[E[1-d]-g[0],A[1-y]-g[1]],g[0]=E[d],g[1]=A[y]}else Ji.event.altKey&&(s=g.slice());a.style("pointer-events","none").selectAll(".resize").style("display",null),Ji.select("body").style("cursor",u.style("cursor")),o({type:"brushstart"}),n()}var _,w,S=P(m,"brushstart","brush","brushend"),k=null,N=null,E=[0,0],A=[0,0],C=!0,z=!0,a=tl[0];return m.event=function(n){n.each(function(){var r=S.of(this,arguments),i={x:E,y:A,i:_,j:w},n=this.__chart__||i;this.__chart__=i,$a?Ji.select(this).transition().each("start.brush",function(){_=n.i,w=n.j,E=n.x,A=n.y,r({type:"brushstart"})}).tween("brush:brush",function(){var t=Je(E,i.x),e=Je(A,i.y);return _=w=null,function(n){E=i.x=t(n),A=i.y=e(n),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){_=i.i,w=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},m.x=function(n){return arguments.length?(a=tl[!(k=n)<<1|!N],m):k},m.y=function(n){return arguments.length?(a=tl[!k<<1|!(N=n)],m):N},m.clamp=function(n){return arguments.length?(k&&N?(C=!!n[0],z=!!n[1]):k?C=!!n:N&&(z=!!n),m):k&&N?[C,z]:k?C:N?z:null},m.extent=function(n){var t,e,r,i,u;return arguments.length?(k&&(t=n[0],e=n[1],N&&(t=t[0],e=e[0]),_=[t,e],k.invert&&(t=k(t),e=k(e)),e<t&&(u=t,t=e,e=u),t==E[0]&&e==E[1]||(E=[t,e])),N&&(r=n[0],i=n[1],k&&(r=r[1],i=i[1]),w=[r,i],N.invert&&(r=N(r),i=N(i)),i<r&&(u=r,r=i,i=u),r==A[0]&&i==A[1]||(A=[r,i])),m):(k&&(_?(t=_[0],e=_[1]):(t=E[0],e=E[1],k.invert&&(t=k.invert(t),e=k.invert(e)),e<t&&(u=t,t=e,e=u))),N&&(w?(r=w[0],i=w[1]):(r=A[0],i=A[1],N.invert&&(r=N.invert(r),i=N.invert(i)),i<r&&(u=r,r=i,i=u))),k&&N?[[t,r],[e,i]]:k?[t,e]:N&&[r,i])},m.clear=function(){return m.empty()||(E=[0,0],A=[0,0],_=w=null),m},m.empty=function(){return!!k&&E[0]==E[1]||!!N&&A[0]==A[1]},Ji.rebind(m,S,"on")};var nl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},tl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],el=Ku.format=io.timeFormat,rl=el.utc,il=rl("%Y-%m-%dT%H:%M:%S.%LZ");el.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Vi:il,Vi.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Vi.toString=il.toString,Ku.second=qn(function(n){return new Qu(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),Ku.seconds=Ku.second.range,Ku.seconds.utc=Ku.second.utc.range,Ku.minute=qn(function(n){return new Qu(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),Ku.minutes=Ku.minute.range,Ku.minutes.utc=Ku.minute.utc.range,Ku.hour=qn(function(n){var t=n.getTimezoneOffset()/60;return new Qu(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),Ku.hours=Ku.hour.range,Ku.hours.utc=Ku.hour.utc.range,Ku.month=qn(function(n){return(n=Ku.day(n)).setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),Ku.months=Ku.month.range,Ku.months.utc=Ku.month.utc.range;var ul=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ol=[[Ku.second,1],[Ku.second,5],[Ku.second,15],[Ku.second,30],[Ku.minute,1],[Ku.minute,5],[Ku.minute,15],[Ku.minute,30],[Ku.hour,1],[Ku.hour,3],[Ku.hour,6],[Ku.hour,12],[Ku.day,1],[Ku.day,2],[Ku.week,1],[Ku.month,1],[Ku.month,3],[Ku.year,1]],al=el.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",xt]]),ll={range:function(n,t,e){return Ji.range(Math.ceil(n/e)*e,+t,e).map($i)},floor:R,ceil:R};ol.year=Ku.year,Ku.scale=function(){return Xi(Ji.scale.linear(),ol,al)};var cl=ol.map(function(n){return[n[0].utc,n[1]]}),fl=rl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",xt]]);cl.year=Ku.year.utc,Ku.scale.utc=function(){return Xi(Ji.scale.linear(),cl,fl)},Ji.text=wn(function(n){return n.responseText}),Ji.json=function(n,t){return Sn(n,"application/json",Bi,t)},Ji.html=function(n,t){return Sn(n,"text/html",Wi,t)},Ji.xml=wn(function(n){return n.responseXML}),"function"==typeof define&&define.amd?(this.d3=Ji,define(Ji)):"object"==typeof module&&module.exports?module.exports=Ji:this.d3=Ji}();
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.io=e():t.io=e()}(this,function(){return r={},n.m=o=[function(t,e,n){"use strict";var o=n(1);window.JMessage=t.exports=o},function(t,e,n){"use strict";function o(t){var e=t||{};this.opts={address:e.address?e.address:a.WSS_ADDRESS,upload_file:e.upload_file?e.upload_file:a.UPLOAD_FILE,download_file:e.download_file?e.download_file:a.DOWNLOAD_FILE,debug:!!e.debug},this.channel=new s(this.opts),this.syncTask=0,this.msgReceipTask=0}var i=n(2),r=n(5),s=n(6),a=n(59),c=n(60),u=n(61),p=n(62),h=n(63)(),l=n(64);o.prototype.init=function(n){var o=this;return o.autoDiscon=!0,n.flag!==a.SYNC_TYPE_OPEN&&n.flag!==a.SYNC_TYPE_CLOSE||(o.channel.sync_type=n.flag),n.fromPlatForm=a.FROM_PLATFORM,new c(this.channel).setEvent(a.EVENTS.INIT).setData(n).send().addHook(function(t,e){o.current_appkey=n.appkey,e&&e(t)})},o.prototype.loginOut=function(){if(this.current_user){this.autoDiscon=!1,this.channel.client.close();var t=this.channel.dataCache;for(var e in t)t[e].cleanAckTimeout(),t[e].cleanRespTimeout();this.current_user=null,this.current_appkey=null,this.channel.init(this.channel.opts)}},o.prototype.login=function(n){this.__checkInit(),n.is_md5||(n.password=h(n.password)),n.version=a.SDK_VERSION;var o=this,t=new c(this.channel).setEvent(a.EVENTS.LOGIN).setData(n).addHook(function(t,e){o.current_user=n.username,l.StorageUtils.removeItems(o.current_user),o.channel.sync_key=0,o.channel.sync_event_key=0,o.channel.msg_receipt_key=0,o.channel.ses_key=a.SESSION_KEY+o.current_appkey+"-"+o.current_user,o.channel.conversations_key=a.CONVERSATION_KEY+o.current_appkey+"-"+o.current_user,o.channel.event_key=a.EVENT_KEY+o.current_appkey+"-"+o.current_user,o._syncCheckTask(),o._receiptReportTask(),o._initConversation(),o.lastMsgs={},o.channel.client.removeListener(a.EVENTS.LOGIN),o._addEventListen(),o.firstLogin=!1,e&&e(t)});return setTimeout(function(){t.send()},500),t},o.prototype._initConversation=function(){var t=this,e=l.StorageUtils.getItem(t.channel.conversations_key);null===e&&(e=JSON.stringify({}),l.StorageUtils.addItem(t.channel.conversations_key,e)),t.conversations=JSON.parse(e)},o.prototype._receiptReportTask=function(){var t=this;t.report=[],t.msgReceipTask=setInterval(function(){t._receiptReport()},a.RECEIPT_REPORT_INTERVAL)},o.prototype._syncCheckTask=function(){var e=this,t=l.StorageUtils.getItem(e.channel.event_key);null!=t&&(e.channel.sync_event_key=t),e._syncCheck({sync_key:e.channel.sync_key,sync_type:e.channel.sync_type,sync_event_key:e.channel.sync_event_key,msg_receipt_key:e.channel.msg_receipt_key}).onSuccess(function(t){t&&0===t.code&&(e.channel.sync_key=t.sync_key,e.channel.sync_type=t.sync_type,e.channel.sync_event_key=t.sync_event_key,e.channel.msg_receipt_key=t.msg_receipt_key,l.StorageUtils.addItem(e.channel.event_key,t.sync_event_key))}),e.syncTask=setInterval(function(){e._syncCheck({sync_key:e.channel.sync_key,sync_type:e.channel.sync_type,sync_event_key:e.channel.sync_event_key,msg_receipt_key:e.channel.msg_receipt_key}).onSuccess(function(t){t&&0===t.code&&(e.channel.sync_key=t.sync_key,e.channel.sync_type=t.sync_type,e.channel.sync_event_key=t.sync_event_key,e.channel.msg_receipt_key=t.msg_receipt_key,l.StorageUtils.addItem(e.channel.event_key,t.sync_event_key))})},a.SYNC_INTERVAL)},o.prototype._syncCheck=function(t){return new c(this.channel).setEvent(a.EVENTS.SYNC_CHECK).setData(t).send()},o.prototype.register=function(t){return this.__checkInit(),t.is_md5||(t.password=h(t.password)),new c(this.channel).setEvent(a.EVENTS.REGISTER).setData(t).send()},o.prototype.getUserInfo=function(t){return this.__checkLogin(),l.StringUtils.isBlack(t.appkey)&&(t.appkey=this.current_appkey),new c(this.channel).setEvent(a.EVENTS.GET_ACROSS_USER_INFO).setData(t).send()},o.prototype.updateSelfInfo=function(t){return this.__checkLogin(),l.StringUtils.isBlack(t.avatar)||delete t.avatar,new c(this.channel).setEvent(a.EVENTS.UPDATE_SELF_INFO).setData(t).send()},o.prototype.updateSelfAvatar=function(t){this.__checkLogin();var n=new c(this.channel).setEvent(a.EVENTS.UPDATE_SELF_INFO);return this.__uploadFile({appkey:this.current_appkey,username:this.current_user,file:t.avatar,type:"image"},function(t,e){if(t)return t.is_timeout?n.timeout&&n.timeout(t.data):n.fail&&n.fail(t.data);n.setData({avatar:e.media_id}).send()}),n},o.prototype.updateSelfPwd=function(t){return this.__checkLogin(),t.is_md5||(t.old_pwd=h(t.old_pwd),t.new_pwd=h(t.new_pwd)),new c(this.channel).setEvent(a.EVENTS.UPDATE_SELF_PWD).setData(t).send()},o.prototype.getConversation=function(){this.__checkLogin();var n=this;return new c(this.channel).setEvent(a.EVENTS.GET_CONVERSATIONS).setData({}).send().addHook(function(t,e){t.conversations.forEach(function(t){var e;3===t.type?(n[t.key]=t.utime,delete t.utime,e=t.appkey+t.username):(e=t.key,t.gid=t.key),n.conversations[e]?(n.conversations[e].extras?t.extras=n.conversations[e].extras:t.extras={},t.unread_msg_count=n.conversations[e].unread_msg_count):(t.extras={},t.unread_msg_count=0,n.conversations[e]={},n.conversations[e].extras={},n.conversations[e].unread_msg_count=0,n.conversations[e].msg_time=[])}),l.StorageUtils.addItem(n.channel.conversations_key,JSON.stringify(n.conversations)),e&&e(t)})},o.prototype.resetUnreadCount=function(t){this.__checkLogin();var e,n=this;e=t.gid?String(t.gid):(t.appkey||(t.appkey=n.current_appkey),t.appkey+t.username),n.conversations[e]=void 0===n.conversations[e]?{}:n.conversations[e],t.gid?n._updateGroupUnreadCount({gid:t.gid}):n._updateSingleUnreadCount({appkey:t.appkey,username:t.username}),n.conversations[e].unread_msg_count=0,n.conversations[e].msg_time=[];var o=(new Date).getTime();n.lastMsgs[e]&&(o=n.lastMsgs[e].last_msg_time),n.conversations[e].recent_time=o,n.current_conversation=e,l.StorageUtils.addItem(n.channel.conversations_key,JSON.stringify(n.conversations))},o.prototype.getUnreadMsgCnt=function(t){this.__checkLogin();var e,n=this;return e=t.gid?String(t.gid):(t.appkey||(t.appkey=n.current_appkey),t.appkey+t.username),n.conversations[e]||(n.conversations[e]={}),n.conversations[e].unread_msg_count?n.conversations[e].unread_msg_count:0},o.prototype.msgRetract=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.MSG_RETRACT).setData(t).send()},o.prototype.sendSingleMsg=function(t){return this.__sendMsg({type:"single",target_id:t.target_username,target_name:t.target_nickname,content:t.content,extras:t.extras,msg_body:t.msg_body,appkey:t.appkey,no_offline:t.no_offline,no_notification:t.no_notification,custom_notification:t.custom_notification,need_receipt:t.need_receipt})},o.prototype.sendGroupMsg=function(t){return this.__sendMsg({type:"group",target_id:t.target_gid,target_name:t.target_gname,content:t.content,extras:t.extras,msg_body:t.msg_body,at_list:t.at_list,no_offline:t.no_offline,no_notification:t.no_notification,custom_notification:t.custom_notification,need_receipt:t.need_receipt})},o.prototype.sendSinglePic=function(t){return this.__sendPic({type:"single",target_id:t.target_username,target_name:t.target_nickname,file:t.image,msg_body:t.msg_body,extras:t.extras,appkey:t.appkey,no_offline:t.no_offline,no_notification:t.no_notification,custom_notification:t.custom_notification,need_receipt:t.need_receipt})},o.prototype.sendGroupPic=function(t){return this.__sendPic({type:"group",target_id:t.target_gid,target_name:t.target_gname,file:t.image,msg_body:t.msg_body,extras:t.extras,no_offline:t.no_offline,no_notification:t.no_notification,custom_notification:t.custom_notification,need_receipt:t.need_receipt})},o.prototype.sendSingleFile=function(t){return this.__sendFile({type:"single",target_id:t.target_username,target_name:t.target_nickname,file:t.file,msg_body:t.msg_body,extras:t.extras,appkey:t.appkey,no_offline:t.no_offline,no_notification:t.no_notification,custom_notification:t.custom_notification,need_receipt:t.need_receipt})},o.prototype.sendGroupFile=function(t){return this.__sendFile({type:"group",target_id:t.target_gid,target_name:t.target_gname,file:t.file,msg_body:t.msg_body,extras:t.extras,no_offline:t.no_offline,no_notification:t.no_notification,custom_notification:t.custom_notification,need_receipt:t.need_receipt})},o.prototype.sendSingleLocation=function(t){return this.__sendLocation({type:"single",target_id:t.target_username,target_name:t.target_nickname,latitude:t.latitude,longitude:t.longitude,scale:t.scale,label:t.label,msg_body:t.msg_body,extras:t.extras,appkey:t.appkey,no_offline:t.no_offline,no_notification:t.no_notification,custom_notification:t.custom_notification,need_receipt:t.need_receipt})},o.prototype.sendGroupLocation=function(t){return this.__sendLocation({type:"group",target_id:t.target_gid,target_name:t.target_gname,latitude:t.latitude,longitude:t.longitude,scale:t.scale,label:t.label,msg_body:t.msg_body,extras:t.extras,no_offline:t.no_offline,no_notification:t.no_notification,custom_notification:t.custom_notification,need_receipt:t.need_receipt})},o.prototype.sendSingleCustom=function(t){return this.__sendCustom({type:"single",target_id:t.target_username,target_name:t.target_nickname,custom:t.custom,extras:t.extras,msg_body:t.msg_body,appkey:t.appkey,no_offline:t.no_offline,no_notification:t.no_notification,custom_notification:t.custom_notification,need_receipt:t.need_receipt})},o.prototype.sendGroupCustom=function(t){return this.__sendCustom({type:"group",target_id:t.target_gid,target_name:t.target_gname,custom:t.custom,msg_body:t.msg_body,extras:t.extras,no_offline:t.no_offline,no_notification:t.no_notification,custom_notification:t.custom_notification,need_receipt:t.need_receipt})},o.prototype.createGroup=function(n){this.__checkLogin();var o=new c(this.channel).setEvent(a.EVENTS.CREATE_GROUP);return n.avatar?this.__uploadFile({appkey:this.current_appkey,username:this.current_user,file:n.avatar,type:"image"},function(t,e){if(t)return t.is_timeout?o.timeout&&o.timeout(t.data):o.fail&&o.fail(t.data);delete n.avatar,n.media_id=e.media_id,o.setData(n).send()}):o.setData(n).send(),o},o.prototype.exitGroup=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.EXIT_GROUP).setData(t).send()},o.prototype.getGroups=function(){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.GET_GROUPS_LIST).setData({}).send().addHook(function(t,e){t.group_list.forEach(function(t){t.group_type=t.flag,delete t.flag}),e&&e(t)})},o.prototype.getGroupInfo=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.GET_GROUP_INFO).setData(t).send().addHook(function(t,e){t.group_info.group_type=t.group_info.flag,delete t.group_info.flag,e&&e(t)})},o.prototype.updateGroupInfo=function(n){this.__checkLogin();var o=new c(this.channel).setEvent(a.EVENTS.UPDATE_GROUP_INFO);return n.avatar?this.__uploadFile({appkey:this.current_appkey,username:this.current_user,file:n.avatar,type:"image"},function(t,e){if(t)return t.is_timeout?o.timeout&&o.timeout(t.data):o.fail&&o.fail(t.data);delete n.avatar,n.media_id=e.media_id,o.setData(n).send()}):o.setData(n).send(),o},o.prototype.getGroupMembers=function(t){this.__checkLogin();var n=this;return new c(this.channel).setEvent(a.EVENTS.GET_GROUP_MEMBERS).setData(t).send().onUserInfoGet(function(t,e){n[t]=e})},o.prototype.addGroupMembers=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.ADD_ACROSS_GROUP_MEMBER).setData(t).send()},o.prototype.delGroupMembers=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.DEL_ACROSS_GROUP_MEMBER).setData(t).send()},o.prototype.getNoDisturb=function(){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.NO_DISTURB).setData({version:0}).send().addHook(function(t,e){t.no_disturb.groups.forEach(function(t){t.group_type=t.flag,delete t.flag}),e&&e(t)})},o.prototype.addSingleNoDisturb=function(t){return this.__checkLogin(),t.version=0,new c(this.channel).setEvent(a.EVENTS.ADD_MSG_NO_DISTURB_SINGLE).setData(t).send()},o.prototype.delSingleNoDisturb=function(t){return this.__checkLogin(),t.version=0,new c(this.channel).setEvent(a.EVENTS.DELETE_MSG_NO_DISTURB_SINGLE).setData(t).send()},o.prototype.addGroupNoDisturb=function(t){return this.__checkLogin(),t.version=0,new c(this.channel).setEvent(a.EVENTS.ADD_MSG_NO_DISTURB_GROUP).setData(t).send()},o.prototype.delGroupNoDisturb=function(t){return this.__checkLogin(),t.version=0,new c(this.channel).setEvent(a.EVENTS.DELETE_MSG_NO_DISTURB_GROUP).setData(t).send()},o.prototype.addGlobalNoDisturb=function(){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.ADD_MSG_NO_DISTURB_GLOBAL).setData({version:0}).send()},o.prototype.delGlobalNoDisturb=function(){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.DELETE_MSG_NO_DISTURB_GLOBAL).setData({version:0}).send()},o.prototype.getBlacks=function(){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.GET_BLACK_LIST).setData({version:0}).send()},o.prototype.addSingleBlacks=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.ADD_BLACK_LIST).setData(t).send()},o.prototype.delSingleBlacks=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.DEL_BLACK_LIST).setData(t).send()},o.prototype.getFriendList=function(){this.__checkLogin();var n=this;return new c(this.channel).setEvent(a.EVENTS.GET_FRIEND_LIST).setData({}).send().onUserInfoGet(function(t,e){n[t]=e})},o.prototype.addFriend=function(t){return this.__checkLogin(),t.from_type=a.FRIEND_INVITE,new c(this.channel).setEvent(a.EVENTS.ADD_FRIEND).setData(t).send()},o.prototype.acceptFriend=function(t){return this.__checkLogin(),t.why="yes",t.from_type=a.FRIEND_INVITED,new c(this.channel).setEvent(a.EVENTS.ADD_FRIEND).setData(t).send()},o.prototype.declineFriend=function(t){return this.__checkLogin(),t.why&&""!=t.why.trim()||(t.why="no"),t.from_type=a.FRIEND_INVITED,new c(this.channel).setEvent(a.EVENTS.ADD_FRIEND).setData(t).send()},o.prototype.delFriend=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.DEL_FRIEND).setData(t).send()},o.prototype.updateFriendMemo=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.UPDATE_FRIEND_MEMO).setData(t).send()},o.prototype.addGroupShield=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.ADD_MSG_SHIELD_GROUP).setData(t).send()},o.prototype.delGroupShield=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.DEL_MSG_SHIELD_GROUP).setData(t).send()},o.prototype.groupShieldList=function(){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.LIST_SHIELD_GROUP).setData({}).send().addHook(function(t,e){t.groups.forEach(function(t){t.group_type=t.flag,delete t.flag}),e&&e(t)})},o.prototype.getResource=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.GET_RESOURCE).setData(t).send()},o.prototype._updateGroupUnreadCount=function(t){this.__checkLogin(),t.type=4,new c(this.channel).setEvent(a.EVENTS.UNREAD_GROUP_COUNT).setData(t).send()},o.prototype._updateSingleUnreadCount=function(t){this.__checkLogin(),t.type=3,new c(this.channel).setEvent(a.EVENTS.UNREAD_SINGLE_COUNT).setData(t).send()},o.prototype.msgUnreadList=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.MSG_UNREAD_LIST).setData(t).send()},o.prototype.addGroupReceiptReport=function(t){this.__checkLogin();var e=this;if(t.msg_ids instanceof Array&&0!==t.msg_ids.length){t.key=t.gid,t.type=4;var n=new u(t);return e.report.push(n),setTimeout(function(){e._checkReportSize()>=a.RECEIPT_REPORT_MAX_SIZE&&e._receiptReport()},50),n}console.error("msg_ids is not Array type or msg_ids size=0")},o.prototype.addSingleReceiptReport=function(t){this.__checkLogin();var e=this;if(t.msg_ids instanceof Array&&0!==t.msg_ids.length){t.appkey||(t.appkey=e.current_appkey),t.type=3,t.key=t.appkey+t.username;var n=new u(t);return e.report.push(n),setTimeout(function(){e._checkReportSize()>=a.RECEIPT_REPORT_MAX_SIZE&&e._receiptReport()},50),n}console.error("msg_ids is not Array type or msg_ids size=0")},o.prototype._checkReportSize=function(){var e=0;return this.report.forEach(function(t){e+=t.args.msg_ids.length}),e},o.prototype.transSingleMsg=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.TRANS_MSG_SINGLE).setData(t).send()},o.prototype.transGroupMsg=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.TRANS_MSG_GROUP).setData(t).send()},o.prototype.transPlatMsg=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.TRANS_MSG_PLATFORM).setData(t).send()},o.prototype.updateConversation=function(t){this.__checkLogin();var e,n=this;t.appkey||(t.appkey=n.current_appkey),t.gid?e=t.gid:t.username&&(e=t.appkey+t.username),e&&t.extras&&(n.conversations[e]||(n.conversations[e]={}),n.conversations[e].extras=t.extras),l.StorageUtils.addItem(n.channel.conversations_key,JSON.stringify(n.conversations))},o.prototype.addGroupMemberResp=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.ADMIN_ADD_GROUP_MEMBER).setData(t).send()},o.prototype.joinGroup=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.APPLY_JOIN_GROUP).setData(t).send()},o.prototype.getAppkeyChatrooms=function(t){return this.__checkLogin(),t||(t={}),new c(this.channel).setEvent(a.EVENTS.ROOM_LIST).setData(t).send().addHook(function(t,e){t.result.rooms.forEach(function(t){l.Cache.rooms[t.id]=t}),e&&e(t)})},o.prototype.getSelfChatrooms=function(){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.ROOM_LIST_SELF).setData({}).send().addHook(function(t,e){t.chat_rooms.forEach(function(t){l.Cache.rooms[t.id]=t}),e&&e(t)})},o.prototype.getChatroomInfo=function(e){this.__checkLogin();var n=new c(this.channel);return l.Cache.rooms[e.id]?setTimeout(function(){var t={code:0,message:"success"};t.info=l.Cache.rooms[e.id],n.cleanRespTimeout(),n.success&&n.success(t)},100):n.setEvent(a.EVENTS.ROOM_INFO).setData(e).send().addHook(function(t,e){l.Cache.rooms[t.info.id]=t.info,e&&e(t)}),n},o.prototype.enterChatroom=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.JOIN_ROOM).setData(t).send()},o.prototype.exitChatroom=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.EXIT_ROOM).setData(t).send()},o.prototype.sendChatroomMsg=function(t){return this.__checkLogin(),t.target_rname||(t.target_rname=void 0===l.Cache.rooms[t.target_rid]?"":l.Cache.rooms[t.target_rid].name),this.__sendMsg({type:"chatroom",target_id:t.target_rid,target_name:t.target_rname,content:t.content,extras:t.extras,msg_body:t.msg_body})},o.prototype.sendChatroomPic=function(t){return this.__checkLogin(),t.target_rname||(t.target_rname=void 0===l.Cache.rooms[t.target_rid]?"":l.Cache.rooms[t.target_rid].name),this.__sendPic({type:"chatroom",target_id:t.target_rid,target_name:t.target_rname,file:t.image,extras:t.extras,msg_body:t.msg_body})},o.prototype.sendChatroomFile=function(t){return this.__checkLogin(),t.target_rname||(t.target_rname=void 0===l.Cache.rooms[t.target_rid]?"":l.Cache.rooms[t.target_rid].name),this.__sendFile({type:"chatroom",target_id:t.target_rid,target_name:t.target_rname,file:t.file,extras:t.extras,msg_body:t.msg_body})},o.prototype.sendChatroomCustom=function(t){return this.__checkLogin(),t.target_rname||(t.target_rname=void 0===l.Cache.rooms[t.target_rid]?"":l.Cache.rooms[t.target_rid].name),this.__sendCustom({type:"chatroom",target_id:t.target_rid,target_name:t.target_rname,custom:t.custom,extras:t.extras,msg_body:t.msg_body})},o.prototype.sendChatroomLocation=function(t){return this.__checkLogin(),t.target_rname||(t.target_rname=void 0===l.Cache.rooms[t.target_rid]?"":l.Cache.rooms[t.target_rid].name),this.__sendLocation({type:"chatroom",target_id:t.target_rid,target_name:t.target_rname,latitude:t.latitude,longitude:t.longitude,scale:t.scale,label:t.label,extras:t.extras,msg_body:t.msg_body})},o.prototype.addGroupMemSilence=function(t){return this.__checkLogin(),t.keep_silence=!0,new c(this.channel).setEvent(a.EVENTS.GROUP_MEM_SILENCE).setData(t).send()},o.prototype.delGroupMemSilence=function(t){return this.__checkLogin(),t.keep_silence=!1,new c(this.channel).setEvent(a.EVENTS.GROUP_MEM_SILENCE).setData(t).send()},o.prototype.dissolveGroup=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.DISSOLVE_GROUP).setData(t).send()},o.prototype.addGroupKeeper=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.ADD_GROUP_KEEPER).setData(t).send()},o.prototype.delGroupKeeper=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.DEL_GROUP_KEEPER).setData(t).send()},o.prototype.changeGroupAdmin=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.CHANGE_GROUP_ADMIN).setData(t).send()},o.prototype.getAppkeyPublicGroups=function(t){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.PUBLIC_GROUP_LIST).setData(t).send().addHook(function(t,e){t.result.groups.forEach(function(t){t.group_type=t.flag,delete t.flag}),e&&e(t)})},o.prototype.isInit=function(){return!!this.current_appkey},o.prototype.isLogin=function(){return!!this.current_user},o.prototype.isConnect=function(){return!!this.channel.client.connected},o.prototype._addEventListen=function(){var e=this;e.channel.client.on(a.EVENTS.MSG_SYNC,function(t){e._onMsgReceive(t)}),e.channel.client.on(a.EVENTS.EVENT_NOTIFICATION,function(t){e._onEventNotification(t)}),e.channel.client.on(a.EVENTS.SYNC_CONVERSATION,function(t){e._onSyncConversation(t)}),e.channel.client.on(a.EVENTS.SYNC_EVENT,function(t){e._onSyncEvent(t)}),e.channel.client.on(a.EVENTS.SYNC_RECEIPT,function(t){e._onSyncMsgReceipt(t)}),e.channel.client.on(a.EVENTS.RECEIPT_CHANGE,function(t){e._onMsgReceiptChange(t)}),e.channel.client.on(a.EVENTS.TRANS_MSG_REC,function(t){e._onTransMsgRec(t)}),e.channel.client.on(a.EVENTS.ROOM_MSG_SYNC,function(t){e._onRoomMsg(t)}),e.channel.client.on(a.EVENTS.ROOM_MSG_SYNC_HIS,function(t){e._onSyncRoomMsg(t)}),e.channel.client.on("disconnect",function(){e._onDisconnect()})},o.prototype.onRoomMsg=function(t){this._onRoomMsgFn=t},o.prototype._onRoomMsg=function(t){this._onRoomMsgFn&&this._onRoomMsgFn(t)},o.prototype._onSyncRoomMsg=function(e){var n=this;e.messages.forEach(function(t){l.Cache.rooms[t.room_id]||n.getChatroomInfo({id:e.room_id}),t.msgs&&t.msgs.forEach(function(t){n._onRoomMsgFn&&n._onRoomMsgFn(t)})})},o.prototype.onMsgReceive=function(t){this._onMsgReceiveFn=t},o.prototype._onMsgReceive=function(t){var r=this;Array.prototype.push.apply([],t.messages.map(function(t){return{msg_id:t.msg_id,msg_type:t.msg_type,from_uid:t.from_uid,from_gid:t.from_gid}})),t.messages.forEach(function(t){if(t.content.sui_mtime&&r[t.from_uid]&&t.content.sui_mtime>new Date(r[t.from_uid]).getTime()/1e3){r[t.from_uid]=1e3*t.content.sui_mtime;var e={};e.from_username=t.content.from_id,e.from_appkey=t.content.from_appkey,e.mtime=t.content.sui_mtime,delete t.content.sui_mtime,r._updateInfoEventFun&&r._updateInfoEventFun(e)}var n;n=3===t.msg_type?(t.key=t.from_uid,t.from_username=t.content.from_id,t.from_appkey=t.content.from_appkey,t.from_appkey+t.from_username):(t.key=t.from_gid,String(t.from_gid)),0===t.msg_level?t.msg_level="normal":1===t.msg_level&&(t.msg_level="across");var o=!1;t.from_appkey===r.current_appkey&&t.from_username===r.current_user&&(o=!0,n=(void 0===t.content.target_appkey||""===t.content.target_appkey?t.content.from_appkey:t.content.target_appkey)+t.content.target_id),r.lastMsgs[n]={last_msg_time:t.ctime_ms},r.conversations[n]||(r.conversations[n]={},r.conversations[n].extras={},r.conversations[n].unread_msg_count=0,r.conversations[n].msg_time=[]),r.current_conversation===n||o?(r.conversations[n].recent_time=t.ctime_ms,r.conversations[n].unread_msg_count=0,r.conversations[n].msg_time=[]):(r.conversations[n].unread_msg_count=r.conversations[n].unread_msg_count+1,r.conversations[n].msg_time.push(t.ctime_ms)),new c(r.channel).setEvent(a.EVENTS.MSG_RECV_V2).setData({msg_id:t.msg_id,msg_type:t.msg_type,from_uid:t.from_uid,from_gid:t.from_gid}).send()}),l.StorageUtils.addItem(r.channel.conversations_key,JSON.stringify(r.conversations)),this._onMsgReceiveFn&&this._onMsgReceiveFn(t)},o.prototype.onEventNotification=function(t){this._onEventNotificationFn=t},o.prototype._onEventNotification=function(t){var e=this;if(200!==t.event_type){var n=e.__eventDateFilter(t);if(56===t.event_type&&10==t.extra?(n.by_self=!1,delete n.extra):56===t.event_type&&59==t.extra&&(n.by_self=!0,delete n.extra),1===t.event_type){var o={event_id:t.event_id,event_type:t.event_type,from_uid:t.from_uid,gid:t.gid};new c(e.channel).setEvent(a.EVENTS.EVENT_NOTIFICATION).setData(o).send()}e._onEventNotificationFn&&e._onEventNotificationFn(n),-1!=a.LOGIN_OUT_EVENT.indexOf(t.event_type)&&e.loginOut()}else 3===t.description.type?e._dealMutlReadEvent(t.description.type,t.ctime_ms,t.description.appkey,t.description.username):e._dealMutlReadEvent(t.description.type,t.ctime_ms,t.description.gid)},o.prototype.onSyncConversation=function(t){this._onSyncConversationFn=t},o.prototype._onSyncConversation=function(t){var i=this;i.channel.sync_key=t.sync_key,t.messages&&(t.messages.forEach(function(t){var e,n=0;e=3===t.msg_type?t.from_appkey+t.from_username:String(t.from_gid);var o=t.msgs[t.msgs.length-1].ctime_ms;if(i.current_conversation===e)i.conversations[e]=void 0===i.conversations[e]?{}:i.conversations[e],i.conversations[e].unread_msg_count=n,i.conversations[e].recent_time=o,i.conversations[e].msg_time=[];else if(i.conversations[e]&&i.conversations[e].recent_time){var r=i.conversations[e].recent_time;t.msgs.forEach(function(t){t.ctime_ms<=r||t.content.from_appkey===i.current_appkey&&t.content.from_id===i.current_user?(n=0,i.conversations[e].msg_time=[]):(n++,i.conversations[e].msg_time.push(t.ctime_ms))}),i.channel.sync_type===a.SYNC_TYPE_OPEN?i.conversations[e].unread_msg_count=n:i.conversations[e].unread_msg_count+=n}else n=t.unsync_count,i.conversations[e]=void 0===i.conversations[e]?{}:i.conversations[e],i.conversations[e].unread_msg_count=n,t.msgs.length-1-n<0?i.conversations[e].recent_time=-1:i.conversations[e].recent_time=t.msgs[t.msgs.length-1-n].ctime_ms,i.conversations[e].msg_time=[];i.lastMsgs[e]={last_msg_time:o},delete t.unsync_count,t.unread_msg_count=i.conversations[e].unread_msg_count}),l.StorageUtils.addItem(i.channel.conversations_key,JSON.stringify(i.conversations)),i._onSyncConversationFn&&0<t.messages.length&&i._onSyncConversationFn(t.messages));var e={sync_key:i.channel.sync_key};new c(i.channel).setEvent(a.EVENTS.SYNC_CONVERSATION_ACK).setData(e).send()},o.prototype.onSyncEvent=function(t){this._onSyncEventFn=t},o.prototype._onSyncEvent=function(o){var r=this;r.channel.sync_event_key=o.sync_key,l.StorageUtils.addItem(r.channel.event_key,o.sync_key);var t={sync_key:r.channel.sync_event_key};new c(r.channel).setEvent(a.EVENTS.SYNC_EVENT_ACK).setData(t).send(),setTimeout(function(){if(r._onSyncEventFn&&o.events&&0<o.events.length){var n=[];o.events.forEach(function(t){if(200===t.event_type)3===t.description.type?r._dealMutlReadEvent(t.description.type,t.ctime_ms,t.description.appkey,t.description.username):r._dealMutlReadEvent(t.description.type,t.ctime_ms,t.description.gid);else{var e=r.__eventDateFilter(t);56===o.event_type&&10==o.extra?(delete e.extra,e.by_self=!1):56===o.event_type&&59==o.extra&&(delete e.extra,e.by_self=!0),n.push(e)}}),r._onSyncEventFn(n)}},1700)},o.prototype.onSyncMsgReceipt=function(t){this._onSyncMsgReceiptFn=t},o.prototype._onSyncMsgReceipt=function(t){var e=this;if(e.channel.msg_receipt_key=t.sync_key,e._onSyncMsgReceiptFn&&t.receipts&&0<t.receipts.length){var o={},r=[];t.receipts.forEach(function(t){var e=t.gid;if(3===t.type&&(e=t.appkey+t.username),o[e]){var n=Number(o[e]);Array.prototype.push.apply(r[n].receipt_msgs,t.receipt_msgs)}else 0<t.receipt_msgs.length&&(o[e]=String(r.length),r.push(t))}),setTimeout(function(){e._onSyncMsgReceiptFn&&0<r.length&&e._onSyncMsgReceiptFn(r)},1500)}var n={sync_key:e.channel.msg_receipt_key};new c(e.channel).setEvent(a.EVENTS.SYNC_RECEIPT_ACK).setData(n).send()},o.prototype.onMsgReceiptChange=function(t){this._onMsgReceiptChangeFn=t},o.prototype._onMsgReceiptChange=function(t){this._onMsgReceiptChangeFn&&this._onMsgReceiptChangeFn(t)},o.prototype.onUserInfUpdate=function(t){this._updateInfoEventFun=t},o.prototype.onMutiUnreadMsgUpdate=function(t){this._conversationUpdateFun=t},o.prototype.onTransMsgRec=function(t){this._onTransMsgRecFn=t},o.prototype._onTransMsgRec=function(t){this._onTransMsgRecFn&&this._onTransMsgRecFn(t)},o.prototype.onDisconnect=function(t){this._onDisconnectFn=t},o.prototype._onDisconnect=function(){var t=this;clearTimeout(t.syncTask),clearTimeout(t.msgReceipTask),t.autoDiscon&&(t.current_appkey=null,t.current_user=null,t._onDisconnectFn&&t._onDisconnectFn()),this.channel.init(this.channel.opts)},o.prototype._dealMutlReadEvent=function(t,e,n,o){var r,i=this,s={};if(3===(s.type=t)?(r=n+o,s.username=o,s.appkey=n):(r=String(n),s.gid=n),i.conversations[r]=void 0===i.conversations[r]?{msg_time:[],unread_msg_count:0}:i.conversations[r],i.conversations[r].recent_time=e,i.current_conversation===r)i.conversations[r].unread_msg_count=0,i.conversations[r].msg_time=[];else{var a=i.conversations[r].unread_msg_count,c=[],u=0;i.conversations[r].msg_time.forEach(function(t){e<t&&(u++,c.push(t))}),i.conversations[r].msg_time=c,u<a&&(i.conversations[r].unread_msg_count=u,s.unreadCount=u,l.StorageUtils.addItem(i.channel.conversations_key,JSON.stringify(i.conversations)),i._conversationUpdateFun&&i._conversationUpdateFun(s))}},o.prototype._receiptReport=function(){if(0<this.report.length){var n={},o=[];this.report.forEach(function(t){if(n[t.args.key]){var e=Number(n[t.args.key]);Array.prototype.push.apply(o[e].result.msg_ids,t.args.msg_ids),o[e].msg_reports.push(t)}else n[t.args.key]=String(o.length),o.push({result:t.args,msg_reports:[t]})}),this.report=[];for(var t=0;t<o.length;t++)o[t].result.msg_ids=l.ArrayUtils.delRepeatItem(o[t].result.msg_ids),delete o[t].result.key,this._msgReceipt(o[t])}},o.prototype._msgReceipt=function(t){new c(this.channel).setEvent(a.EVENTS.RECEIPT_REPORT).setData({sessions:[t.result]}).send().onSuccess(function(e){t.msg_reports.forEach(function(t){t.success&&t.success(e,t.args.msg_ids)})}).onFail(function(e){t.msg_reports.forEach(function(t){t.fail&&t.fail(e,t.args.msg_ids)})}).onAck(function(e){t.msg_reports.forEach(function(t){t.ack&&t.ack(e,t.args.msg_ids)})}).onTimeout(function(e){t.msg_reports.forEach(function(t){t.timeout&&t.timeout(e,t.args.msg_ids)})})},o.prototype.__eventDateFilter=function(t){var e={};return e.event_id=t.event_id,e.event_type=t.event_type,e.from_username=t.from_username,e.gid=t.gid,e.to_usernames=t.to_usernames,e.ctime=t.ctime,e.extra=t.extra,e.return_code=t.return_code,e.from_appkey=t.from_appkey,e.msg_ids=t.msg_ids,e.from_gid=t.from_gid,e.msgid_list=t.msgid_list,e.to_groups=t.to_groups,e.new_owner=t.new_owner,e.group_name=t.group_name,e.ctime_ms=t.ctime_ms,e.media_id=t.media_id,e.from_nickname=t.from_nickname,e.from_eventid=t.from_eventid,100===t.event_type&&7===t.extra?e.description=JSON.parse(t.description):e.description=t.description,55===t.event_type&&0===t.from_gid?e.type=0:55===t.event_type&&0!=t.from_gid&&(e.type=1),e},o.prototype.__checkConnect=function(){if(!this.channel.client.connected)throw new Error("wss socket not connect")},o.prototype.__checkInit=function(){if(!this.current_appkey)throw new Error("must init first")},o.prototype.__checkLogin=function(){if(!this.current_user)throw new Error("must login first")},o.prototype.__getUploadToken=function(){return this.__checkLogin(),new c(this.channel).setEvent(a.EVENTS.GET_UPLOAD_TOKEN).setData({}).send()},o.prototype.__uploadFile0=function(t,n){var e=new XMLHttpRequest;e.open("POST",this.opts.upload_file+"?type="+t.type),e.setRequestHeader("X-App-Key",t.appkey),e.setRequestHeader("jm-channel",a.PLAT_CHANNEL),e.setRequestHeader("Authorization","Basic "+r.btoa(t.username+":"+t.token)),e.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var t=JSON.parse(this.responseText);n(null,t)}else try{var e=JSON.parse(this.responseText);898061===e.error.code?n({code:880210,message:"file size exceed limit"}):n(e)}catch(t){n({code:880210,message:"file size exceed the limit"})}},e.send(t.file)},o.prototype.__uploadFile=function(n,o){var r=this;i(function(e){r.__getUploadToken().onSuccess(function(t){e(null,t.uptoken)}).onFail(function(t){e(t)}).onTimeout(function(t){o({is_timeout:!0,data:t})})}).then(function(t,e){r.__uploadFile0({type:n.type,file:n.file,appkey:n.appkey,username:n.username,token:e},t)}).then(function(t,e){o(null,e)}).fail(function(t,e){o({data:e})})},o.prototype.__sendMsg=function(t){return this.__checkLogin(),new c(this.channel).setEvent("single"===t.type?a.EVENTS.S_SINGLE_TEXT:"group"===t.type?a.EVENTS.SEND_GROUP_MSG:a.EVENTS.SEND_ROOM_MSG).setData(new p(this.current_user,this.current_appkey).setType(t.type).setAppkey(t.appkey).setNeedReceipt(t.need_receipt).setTarget(t.target_id,t.target_name).setText(t.content?t.content:t.msg_body.text,t.content?t.extras:t.msg_body.extras).setAtList(t.at_list).setNoOffline(!0===t.no_offline).setNoNotification(!0===t.no_notification).setCustomNotification(t.custom_notification).build()).send()},o.prototype.__sendPic=function(n){this.__checkLogin();var o=new c(this.channel).setEvent("single"===n.type?a.EVENTS.S_SINGLE_TEXT:"group"===n.type?a.EVENTS.SEND_GROUP_MSG:a.EVENTS.SEND_ROOM_MSG),r=new p(this.current_user,this.current_appkey).setType(n.type).setAppkey(n.appkey).setNeedReceipt(n.need_receipt).setTarget(n.target_id,n.target_name).setNoOffline(!0===n.no_offline).setNoNotification(!0===n.no_notification).setCustomNotification(n.custom_notification);return n.file?this.__uploadFile({appkey:this.current_appkey,username:this.current_user,file:n.file,type:"image"},function(t,e){if(t)return t.is_timeout?o.timeout&&o.timeout(t.data):o.fail&&o.fail(t.data);o.setData(r.setImage(e,n.extras).build()).send()}):o.setData(r.setImage(n.msg_body,n.msg_body.extras).build()).send(),o},o.prototype.__sendFile=function(n){this.__checkLogin();var o=new c(this.channel).setEvent("single"===n.type?a.EVENTS.S_SINGLE_TEXT:"group"===n.type?a.EVENTS.SEND_GROUP_MSG:a.EVENTS.SEND_ROOM_MSG),r=new p(this.current_user,this.current_appkey).setType(n.type).setAppkey(n.appkey).setNeedReceipt(n.need_receipt).setTarget(n.target_id,n.target_name).setNoOffline(!0===n.no_offline).setNoNotification(!0===n.no_notification).setCustomNotification(n.custom_notification);return n.file?this.__uploadFile({appkey:this.current_appkey,username:this.current_user,file:n.file,type:"file"},function(t,e){if(t)return t.is_timeout?o.timeout&&o.timeout(t.data):o.fail&&o.fail(t.data);o.setData(r.setFile(e,n.extras).build()).send()}):o.setData(r.setFile(n.msg_body,n.msg_body.extras).build()).send(),o},o.prototype.__sendLocation=function(t){return this.__checkLogin(),new c(this.channel).setEvent("single"===t.type?a.EVENTS.S_SINGLE_TEXT:"group"===t.type?a.EVENTS.SEND_GROUP_MSG:a.EVENTS.SEND_ROOM_MSG).setData(new p(this.current_user,this.current_appkey).setType(t.type).setAppkey(t.appkey).setNeedReceipt(t.need_receipt).setTarget(t.target_id,t.target_name).setLocation(t.latitude?t:t.msg_body,t.latitude?t.extras:t.msg_body.extras).setNoOffline(!0===t.no_offline).setNoNotification(!0===t.no_notification).setCustomNotification(t.custom_notification).build()).send()},o.prototype.__sendCustom=function(t){return this.__checkLogin(),new c(this.channel).setEvent("single"===t.type?a.EVENTS.S_SINGLE_TEXT:"group"===t.type?a.EVENTS.SEND_GROUP_MSG:a.EVENTS.SEND_ROOM_MSG).setData(new p(this.current_user,this.current_appkey).setType(t.type).setAppkey(t.appkey).setNeedReceipt(t.need_receipt).setTarget(t.target_id,t.target_name).setCustom(t.custom?t.custom:t.msg_body,t.custom?t.extras:t.msg_body.extras).setNoOffline(!0===t.no_offline).setNoNotification(!0===t.no_notification).setCustomNotification(t.custom_notification).build()).send()},t.exports=o},function(e,n,t){var o,r,i;(function(E){!function(t){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t():(r=[],void 0===(i="function"==typeof(o=t)?o.apply(n,r):o)||(e.exports=i))}(function(){"use strict";var e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r="function"==typeof E?E:function(t){setTimeout(t,0)},u=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(t,e){if((e=e||0)>=t.length)return[];for(var n=t.length,o=Array(n-e);n-- >e;)o[n-e]=t[n];return o}function p(t,e){try{e.apply(null,i(arguments,2))}catch(e){t(e)}}function h(t,e){var n=arguments;r(function(){p.apply(null,n)})}function s(t,r){return function(t,e){for(var n=[],o=0,r=t.length;o<r;o++)n.push(e(t[o],o,t));return n}(t,function(e,n,o){return function(t){r(t,e,n,o)}})}function l(t,e){var n,o,r=this;return t instanceof l?t:r instanceof l?(r._chain=0,r._success=r._parallel=r._series=null,r._finally=r._error=r._result=r._nextThen=null,arguments.length?(n=c(r,e),void(void 0===(t=null==(o=t)?o:"function"==typeof o.toThunk?o.toThunk():"function"==typeof o.then?function(e){o.then(function(t){e(null,t)},e)}:o)?n():"function"==typeof t?h(n,t,n):n(null,t))):r):new l(t,e)}l.defer=h,l.parallel=function(e,t){return new l(function(t){p(t,_,t,e)},t)},l.series=function(e,t){return new l(function(t){p(t,y,t,e)},t)},l.each=function(e,n,t){return new l(function(t){p(t,_,t,s(e,n))},t)},l.eachSeries=function(e,n,t){return new l(function(t){p(t,y,t,s(e,n))},t)},l.parallelLimit=function(e,n,t){return new l(function(t){g(t,e,n)},t)},l.eachLimit=function(e,n,o,t){return new l(function(t){g(t,s(e,n),o)},t)},l.nextTick=function(t){var e=i(arguments,1);r(function(){t.apply(null,e)})},l.onerror=function(t){throw console.error("Thenjs caught error: ",t),t};var o=l.prototype;function a(){var o=this,e=i(arguments);!1!==o._result&&(!o._result&&o._chain&&o.debug.apply(o,["\nChain "+o._chain+": "].concat(i(e))),o._result=!1,p(function(t){t===e[0]?function(t){for(var e=o,n=o._error||o._finally;!n&&e._nextThen;)n=(e=e._nextThen)._error||e._finally;if(n)return p(function(t){a.call(e._nextThen,t)},n,t);if(l.onerror)return l.onerror(t);for(;e._nextThen;)e=e._nextThen;e._result=[t]}(t):a.call(o._nextThen,t)},t,o,e))}function t(t,e){if(null==e[0])e[0]=null;else if(e=[e[0]],!t._finally)throw e[0];if(t._finally)return t._finally.apply(null,e);var n=t._success||t._parallel||t._series;if(n)return n.apply(null,i(e,1));t._result=e}function c(t,e){function n(){return a.apply(t,arguments)}return n._isCont=!0,e&&(o.debug="function"==typeof e?e:m,t._chain=1),n}function f(t,e,n){var o=new l;return t(c(o,n),e),e&&(e._nextThen=o,e._chain&&(o._chain=e._chain+1),e._result&&r(function(){a.apply(e,e._result)})),o}function d(e,n){return n._isCont?n:function(){var t=i(arguments);t.unshift(e),n.apply(null,t)}}function _(o,t){if(!u(t))return o(v(t,"parallel"));var r=t.length,i=[];if(r<=0)return o(null,i);for(var e=0,n=r;e<n;e++)t[e](s(e));function s(n){function t(t,e){if(!(r<=0))return null==t?(i[n]=e,!--r&&o(null,i)):(r=0,void o(t))}return t._isCont=!0,t}}function y(n,o){if(!u(o))return n(v(o,"series"));var r=0,i=o.length-1,s=[],a=100;if(i<0)return n(null,s);function c(t,e){return null!=t?n(t):(s[r]=e,++r>i?n(null,s):void(0<--a?p:(a=100,h))(n,o[r],c))}c._isCont=!0,o[0](c)}function g(o,t,e){var n=0,r=0,i=t.length,s=[],a=!1;for(e=1<=e?Math.floor(e):Number.MAX_VALUE;c(),n<i&&r<e;);function c(){if(!a)return i<=n?(a=!0,_(o,s)):void(e<=r||(r++,s.push(new l(t[n++]).fin(function(t,e,n){if(null!=e)return a=!0,o(e);r--,c(),t(null,n)}).toThunk())))}}function m(){console.log.apply(console,arguments)}function v(t,e){return new Error("The argument "+(t&&t.toString())+' in "'+e+'" is not Array!')}return o.fin=o.finally=function(n){return f(function(t,e){e._finally=d(t,n)},this)},o.then=function(n,o){return f(function(t,e){n&&(e._success=d(t,n)),o&&(e._error=d(t,o))},this)},o.fail=o.catch=function(n){return f(function(e,t){t._error=d(e,n),t._success=function(){var t=i(arguments);t.unshift(null),e.apply(null,t)}},this)},o.parallel=function(n){return f(function(e,t){t._parallel=function(t){_(e,n||t)}},this)},o.series=function(n){return f(function(e,t){t._series=function(t){y(e,n||t)}},this)},o.each=function(o,r){return f(function(n,t){t._parallel=function(t,e){_(n,s(o||t,r||e))}},this)},o.eachSeries=function(o,r){return f(function(n,t){t._series=function(t,e){y(n,s(o||t,r||e))}},this)},o.parallelLimit=function(n,o){return f(function(e,t){t._parallel=function(t){g(e,n||t,o)}},this)},o.eachLimit=function(o,r,i){return f(function(n,t){t._series=function(t,e){g(n,s(o||t,r||e),i)}},this)},o.toThunk=function(){var e=this;return function(t){e._result?(t.apply(null,e._result),e._result=!1):!1!==e._result&&(e._finally=e._error=t)}},o.inspect=function(){var t={};for(var e in this)n.call(this,e)&&(t[e]="_nextThen"===e?this[e]&&this[e]._chain:this[e]);return t},l.NAME="Thenjs",l.VERSION="2.0.3",l})}).call(n,t(3).setImmediate)},function(t,c,u){(function(t,e){var o=u(4).nextTick,n=Function.prototype.apply,r=Array.prototype.slice,i={},s=0;function a(t,e){this._id=t,this._clearFn=e}c.setTimeout=function(){return new a(n.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new a(n.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(t){t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},c.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},c._unrefActive=c.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},c.setImmediate="function"==typeof t?t:function(t){var e=s++,n=!(arguments.length<2)&&r.call(arguments,1);return i[e]=!0,o(function(){i[e]&&(n?t.apply(null,n):t.call(null),c.clearImmediate(e))}),e},c.clearImmediate="function"==typeof e?e:function(t){delete i[t]}}).call(c,u(3).setImmediate,u(3).clearImmediate)},function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var c,u=[],p=!1,h=-1;function l(){p&&c&&(p=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!p){var t=a(l);p=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,p=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function _(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||p||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){function a(t){this.message=t}var o,c;o=e,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",(a.prototype=new Error).name="InvalidCharacterError",o.btoa||(o.btoa=function(t){for(var e,n,o=String(t),r=0,i=c,s="";o.charAt(0|r)||(i="=",r%1);s+=i.charAt(63&e>>8-r%1*8)){if(255<(n=o.charCodeAt(r+=.75)))throw new a("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|n}return s}),o.atob||(o.atob=function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,r=0,i=0,s="";o=e.charAt(i++);~o&&(n=r%4?64*n+o:o,r++%4)&&(s+=String.fromCharCode(255&n>>(-2*r&6))))o=c.indexOf(o);return s})},function(t,e,n){"use strict";function o(t){this.init(t)}var i=n(7),s=n(8),r=n(59);o.prototype.init=function(t){this.opts=t,this.dataCache={},this.memStore={},this.sync_key=0,this.sync_type=0,this.client=s(this.opts.address,{transports:["websocket","polling"]});var n=this,o=i.prototype.emit,r=this.client.onevent;this.client.onevent=function(t){var e=t.data||[];r.call(n.client,t),o.apply(n.client,["*"].concat(e))},this.client.on("*",function(t,e){n.onReceive(t,e)})},o.prototype.onReceive=function(t,e){if(this.opts.debug&&console.info("---<- event:%s, data:%s",t,JSON.stringify(e)),t!==r.EVENTS.EVENT_NOTIFICATION&&t!==r.EVENTS.MSG_SYNC&&t!==r.EVENTS.SYNC_CONVERSATION&&t!==r.EVENTS.SYNC_EVENT&&t!==r.EVENTS.SYNC_RECEIPT&&t!==r.EVENTS.RECEIPT_CHANGE&&t!==r.ROOM_MSG_SYNC&&t!==r.ROOM_MSG_SYNC_HIS){var n=this.dataCache[e.rid];delete e.rid,n&&(0===e.code&&t===r.EVENTS.GET_GROUP_MEMBERS?e.member_list.forEach(function(t){n.userInfoGet&&n.userInfoGet(t.uid,t.mtime),delete t.uid,delete t.mtime}):0===e.code&&t===r.EVENTS.GET_FRIEND_LIST?e.friend_list.forEach(function(t){n.userInfoGet&&n.userInfoGet(t.uid,1e3*t.mtime),delete t.uid}):0===e.code&&t===r.EVENTS.GET_BLACK_LIST?e.black_list.forEach(function(t){delete t.uid}):0===e.code&&t===r.EVENTS.GET_ACROSS_USER_INFO&&delete e.user_info.uid,t===r.EVENTS.ACK?(n.ack&&n.ack({rid:e.rid,data:n.data}),n.cleanAckTimeout()):(n.cleanRespTimeout(),delete this.dataCache[n.rid],e.code&&0!==e.code?n.fail&&n.fail(e):t!=r.EVENTS.S_SINGLE_TEXT_&&t!=r.EVENTS.SEND_GROUP_MSG&&t!=r.EVENTS.SEND_ROOM_MSG?n.hook?n.hook(e,n.success):n.success&&n.success(e):(n.data.msg_id=e.msg_id,t===r.EVENTS.S_SINGLE_TEXT_&&(e.target_username=n.data.target_id,e.appkey=n.data.appkey),n.success&&n.success(e,n.data),n.innerCall&&n.innerCall(e.msg_id))))}},o.prototype.generateRid=function(){for(var t=Math.floor(-2147483646*Math.random()+2147483647);this.dataCache[t];)t=Math.floor(-2147483646*Math.random()+2147483647);return t},o.prototype.send=function(t,e){this.opts.debug&&console.info("---\x3e- event:%s, data:%s",t,JSON.stringify(e)),this.client.emit(t,e)},t.exports=o},function(t,e,n){function o(t){if(t)return function(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}(t)}(t.exports=o).prototype.on=o.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},o.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<o.length;r++)if((n=o[r])===e||n.fn===e){o.splice(r,1);break}return this},o.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var o=0,r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,e);return this},o.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},o.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var c=n(9),o=n(14),u=n(25),p=n(11)("socket.io-client");t.exports=e=r;var h=e.managers={};function r(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o=c(t),r=o.source,i=o.id,s=o.path,a=h[i]&&s in h[i].nsps;return n=e.forceNew||e["force new connection"]||!1===e.multiplex||a?(p("ignoring socket cache for %s",r),u(r,e)):(h[i]||(p("new io instance for %s",r),h[i]=u(r,e)),h[i]),o.query&&!e.query?e.query=o.query:e&&"object"==typeof e.query&&(e.query=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}(e.query)),n.socket(o.path,e)}e.protocol=o.protocol,e.connect=r,e.Manager=n(25),e.Socket=n(54)},function(t,e,n){(function(r){var i=n(10),s=n(11)("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||r.location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(s("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),s("parse %s",t),n=i(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}}).call(e,window)},function(t,e){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,n=t.indexOf("["),o=t.indexOf("]");-1!=n&&-1!=o&&(t=t.substring(0,n)+t.substring(n,o).replace(/:/g,";")+t.substring(o,t.length));for(var r=a.exec(t||""),i={},s=14;s--;)i[c[s]]=r[s]||"";return-1!=n&&-1!=o&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i}},function(n,i,o){(function(t){function e(){try{return i.storage.debug}catch(t){}if(void 0!==t&&"env"in t)return t.env.DEBUG}(i=n.exports=o(12)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},i.formatArgs=function(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+i.humanize(this.diff),!e)return t;var n="color: "+this.color,o=0,r=0;return(t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1)))[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&"%c"===t&&(r=++o)}),t.splice(r,0,n),t},i.save=function(t){try{null==t?i.storage.removeItem("debug"):i.storage.debug=t}catch(t){}},i.load=e,i.useColors=function(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},i.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],i.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},i.enable(e())}).call(i,o(4))},function(t,a,e){(a=t.exports=n.debug=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},a.disable=function(){a.enable("")},a.enable=function(t){a.save(t);for(var e=(t||"").split(/[\s,]+/),n=e.length,o=0;o<n;o++)e[o]&&("-"===(t=e[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+t.substr(1)+"$")):a.names.push(new RegExp("^"+t+"$")))},a.enabled=function(t){var e,n;for(e=0,n=a.skips.length;e<n;e++)if(a.skips[e].test(t))return!1;for(e=0,n=a.names.length;e<n;e++)if(a.names[e].test(t))return!0;return!1},a.humanize=e(13),a.names=[],a.skips=[],a.formatters={};var c,u=0;function n(t){function e(){}function o(){var r=o,t=+new Date,e=t-(c||t);r.diff=e,r.prev=c,r.curr=t,c=t,null==r.useColors&&(r.useColors=a.useColors()),null==r.color&&r.useColors&&(r.color=a.colors[u++%a.colors.length]);for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var s=0;i[0]=i[0].replace(/%([a-z%])/g,function(t,e){if("%%"===t)return t;s++;var n=a.formatters[e];if("function"==typeof n){var o=i[s];t=n.call(r,o),i.splice(s,1),s--}return t}),i=a.formatArgs.apply(r,i),(o.log||a.log||console.log.bind(console)).apply(r,i)}o.enabled=!(e.enabled=!1);var n=a.enabled(t)?o:e;return n.namespace=t,n}},function(t,e){var i=36e5,s=864e5;function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var n,o,r=typeof t;if("string"==r&&0<t.length)return function(t){if(!(1e4<(t=String(t)).length)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"==r&&!1===isNaN(t))return e.long?a(n=t,s,"day")||a(n,i,"hour")||a(n,6e4,"minute")||a(n,1e3,"second")||n+" ms":s<=(o=t)?Math.round(o/s)+"d":i<=o?Math.round(o/i)+"h":6e4<=o?Math.round(o/6e4)+"m":1e3<=o?Math.round(o/1e3)+"s":o+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,s,e){var a=e(15)("socket.io-parser"),c=e(18),n=e(21),i=e(22),o=e(24);function r(){}function u(t){var e="",n=!1;return e+=t.type,s.BINARY_EVENT!=t.type&&s.BINARY_ACK!=t.type||(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(n=!0,e+=t.nsp),null!=t.id&&(n&&(e+=",",n=!1),e+=t.id),null!=t.data&&(n&&(e+=","),e+=c.stringify(t.data)),a("encoded %j as %s",t,e),e}function p(){this.reconstructor=null}function h(t){this.reconPack=t,this.buffers=[]}function l(){return{type:s.ERROR,data:"parser error"}}s.protocol=4,s.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],s.CONNECT=0,s.DISCONNECT=1,s.EVENT=2,s.ACK=3,s.ERROR=4,s.BINARY_EVENT=5,s.BINARY_ACK=6,s.Encoder=r,s.Decoder=p,r.prototype.encode=function(t,e){var n,r;a("encoding packet %j",t),s.BINARY_EVENT==t.type||s.BINARY_ACK==t.type?(n=t,r=e,i.removeBlobs(n,function(t){var e=i.deconstructPacket(t),n=u(e.packet),o=e.buffers;o.unshift(n),r(o)})):e([u(t)])},n(p.prototype),p.prototype.add=function(t){var e;if("string"==typeof t)e=function(t){var e={},n=0;if(e.type=Number(t.charAt(0)),null==s.types[e.type])return l();if(s.BINARY_EVENT==e.type||s.BINARY_ACK==e.type){for(var o="";"-"!=t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!=t.charAt(n))throw new Error("Illegal attachments");e.attachments=Number(o)}if("/"==t.charAt(n+1))for(e.nsp="";++n;){if(","==(i=t.charAt(n)))break;if(e.nsp+=i,n==t.length)break}else e.nsp="/";var r=t.charAt(n+1);if(""!==r&&Number(r)==r){for(e.id="";++n;){var i;if(null==(i=t.charAt(n))||Number(i)!=i){--n;break}if(e.id+=t.charAt(n),n==t.length)break}e.id=Number(e.id)}return t.charAt(++n)&&(e=function(t,e){try{t.data=c.parse(e)}catch(t){return l()}return t}(e,t.substr(n))),a("decoded %s as %j",t,e),e}(t),s.BINARY_EVENT==e.type||s.BINARY_ACK==e.type?(this.reconstructor=new h(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!o(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",e))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length!=this.reconPack.attachments)return null;var e=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,i,e){function n(){var t;try{t=i.storage.debug}catch(t){}return t}(i=t.exports=e(16)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},i.formatArgs=function(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+i.humanize(this.diff),!e)return t;var n="color: "+this.color,o=0,r=0;return(t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1)))[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&"%c"===t&&(r=++o)}),t.splice(r,0,n),t},i.save=function(t){try{null==t?i.storage.removeItem("debug"):i.storage.debug=t}catch(t){}},i.load=n,i.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},i.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],i.formatters.j=function(t){return JSON.stringify(t)},i.enable(n())},function(t,a,e){(a=t.exports=function(t){function e(){}function n(){var r=n,t=+new Date,e=t-(c||t);r.diff=e,r.prev=c,r.curr=t,c=t,null==r.useColors&&(r.useColors=a.useColors()),null==r.color&&r.useColors&&(r.color=a.colors[u++%a.colors.length]);var i=Array.prototype.slice.call(arguments);i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var s=0;i[0]=i[0].replace(/%([a-z%])/g,function(t,e){if("%%"===t)return t;s++;var n=a.formatters[e];if("function"==typeof n){var o=i[s];t=n.call(r,o),i.splice(s,1),s--}return t}),"function"==typeof a.formatArgs&&(i=a.formatArgs.apply(r,i)),(n.log||a.log||console.log.bind(console)).apply(r,i)}n.enabled=!(e.enabled=!1);var o=a.enabled(t)?n:e;return o.namespace=t,o}).coerce=function(t){return t instanceof Error?t.stack||t.message:t},a.disable=function(){a.enable("")},a.enable=function(t){a.save(t);for(var e=(t||"").split(/[\s,]+/),n=e.length,o=0;o<n;o++)e[o]&&("-"===(t=e[o].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+t.substr(1)+"$")):a.names.push(new RegExp("^"+t+"$")))},a.enabled=function(t){var e,n;for(e=0,n=a.skips.length;e<n;e++)if(a.skips[e].test(t))return!1;for(e=0,n=a.names.length;e<n;e++)if(a.names[e].test(t))return!0;return!1},a.humanize=e(17),a.names=[],a.skips=[],a.formatters={};var c,u=0},function(t,e){var r=36e5,i=864e5;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){return e=e||{},"string"==typeof t?function(t){if(!(1e4<(t=""+t).length)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*i;case"hours":case"hour":case"hrs":case"hr":case"h":return n*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}(t):e.long?s(o=t,i,"day")||s(o,r,"hour")||s(o,6e4,"minute")||s(o,1e3,"second")||o+" ms":(n=t)>=i?Math.round(n/i)+"d":r<=n?Math.round(n/r)+"h":6e4<=n?Math.round(n/6e4)+"m":1e3<=n?Math.round(n/1e3)+"s":n+"ms";var n,o}},function(t,u,p){var h;(function(a,c){(function(){var t=p(20),G={function:!0,object:!0},e=G[typeof u]&&u&&!u.nodeType&&u,B=G[typeof window]&&window||this,n=e&&G[typeof a]&&a&&!a.nodeType&&"object"==typeof c&&c;function V(t,c){t=t||B.Object(),c=c||B.Object();var u=t.Number||B.Number,p=t.String||B.String,e=t.Object||B.Object,h=t.Date||B.Date,n=t.SyntaxError||B.SyntaxError,T=t.TypeError||B.TypeError,o=t.Math||B.Math,r=t.JSON||B.JSON;"object"==typeof r&&r&&(c.stringify=r.stringify,c.parse=r.parse);var b,N,w,i=e.prototype,R=i.toString,l=new h(-0xc782b5b800cec);try{l=-109252==l.getUTCFullYear()&&0===l.getUTCMonth()&&1===l.getUTCDate()&&10==l.getUTCHours()&&37==l.getUTCMinutes()&&6==l.getUTCSeconds()&&708==l.getUTCMilliseconds()}catch(t){}function f(t){if(f[t]!==w)return f[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=f("json-stringify")&&f("json-parse");else{var n,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var r=c.stringify,i="function"==typeof r&&l;if(i){(n=function(){return 1}).toJSON=n;try{i="0"===r(0)&&"0"===r(new u)&&'""'==r(new p)&&r(R)===w&&r(w)===w&&r()===w&&"1"===r(n)&&"[1]"==r([n])&&"[null]"==r([w])&&"null"==r(null)&&"[null,null,null]"==r([w,R,null])&&r({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==o&&"1"===r(null,n)&&"[\n 1,\n 2\n]"==r([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==r(new h(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==r(new h(864e13))&&'"-000001-01-01T00:00:00.000Z"'==r(new h(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==r(new h(-1))}catch(t){i=!1}}e=i}if("json-parse"==t){var s=c.parse;if("function"==typeof s)try{if(0===s("0")&&!s(!1)){var a=5==(n=s(o)).a.length&&1===n.a[0];if(a){try{a=!s('"\t"')}catch(t){}if(a)try{a=1!==s("01")}catch(t){}if(a)try{a=1!==s("1.")}catch(t){}}}}catch(t){a=!1}e=a}}return f[t]=!!e}if(!f("json")){var d="[object Function]",C="[object Number]",A="[object String]",O="[object Array]",a=f("bug-string-char-index");if(!l)var D=o.floor,s=[0,31,59,90,120,151,181,212,243,273,304,334],I=function(t,e){return s[e]+365*(t-1970)+D((t-1969+(e=+(1<e)))/4)-D((t-1901+e)/100)+D((t-1601+e)/400)};if((b=i.hasOwnProperty)||(b=function(t){var n,e={};return b=(e.__proto__=null,e.__proto__={toString:1},e).toString!=R?function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(n=e.constructor,function(t){var e=(this.constructor||n).prototype;return t in this&&!(t in e&&this[t]===e[t])}),e=null,b.call(this,t)}),N=function(t,e){var n,s,o,r=0;for(o in(n=function(){this.valueOf=0}).prototype.valueOf=0,s=new n)b.call(s,o)&&r++;return n=s=null,(N=r?2==r?function(t,e){var n,o={},r=R.call(t)==d;for(n in t)r&&"prototype"==n||b.call(o,n)||!(o[n]=1)||!b.call(t,n)||e(n)}:function(t,e){var n,o,r=R.call(t)==d;for(n in t)r&&"prototype"==n||!b.call(t,n)||(o="constructor"===n)||e(n);(o||b.call(t,n="constructor"))&&e(n)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],function(t,e){var n,o,r=R.call(t)==d,i=!r&&"function"!=typeof t.constructor&&G[typeof t.hasOwnProperty]&&t.hasOwnProperty||b;for(n in t)r&&"prototype"==n||!i.call(t,n)||e(n);for(o=s.length;n=s[--o];i.call(t,n)&&e(n));}))(t,e)},!f("json-stringify")){function x(t,e){return("000000"+(e||0)).slice(-t)}function L(t){for(var e='"',n=0,o=t.length,r=!a||10<o,i=r&&(a?t.split(""):t);n<o;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=_[s];break;default:if(s<32){e+="\\u00"+x(2,s.toString(16));break}e+=r?i[n]:t.charAt(n)}}return e+'"'}var _={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},M=function(t,e,n,o,r,i,s){var a,c,u,p,h,l,f,d,_,y,g,m,v,E,k,S;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if("[object Date]"!=(c=R.call(a))||b.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=C&&c!=A&&c!=O||b.call(a,"toJSON"))&&(a=a.toJSON(t));else if(-1/0<a&&a<1/0){if(I){for(h=D(a/864e5),u=D(h/365.2425)+1970-1;I(u+1,0)<=h;u++);for(p=D((h-I(u,0))/30.42);I(u,p+1)<=h;p++);h=1+h-I(u,p),f=D((l=(a%864e5+864e5)%864e5)/36e5)%24,d=D(l/6e4)%60,_=D(l/1e3)%60,y=l%1e3}else u=a.getUTCFullYear(),p=a.getUTCMonth(),h=a.getUTCDate(),f=a.getUTCHours(),d=a.getUTCMinutes(),_=a.getUTCSeconds(),y=a.getUTCMilliseconds();a=(u<=0||1e4<=u?(u<0?"-":"+")+x(6,u<0?-u:u):x(4,u))+"-"+x(2,p+1)+"-"+x(2,h)+"T"+x(2,f)+":"+x(2,d)+":"+x(2,_)+"."+x(3,y)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(c=R.call(a)))return""+a;if(c==C)return-1/0<a&&a<1/0?""+a:"null";if(c==A)return L(""+a);if("object"==typeof a){for(E=s.length;E--;)if(s[E]===a)throw T();if(s.push(a),g=[],k=i,i+=r,c==O){for(v=0,E=a.length;v<E;v++)m=M(v,a,n,o,r,i,s),g.push(m===w?"null":m);S=g.length?r?"[\n"+i+g.join(",\n"+i)+"\n"+k+"]":"["+g.join(",")+"]":"[]"}else N(o||a,function(t){var e=M(t,a,n,o,r,i,s);e!==w&&g.push(L(t)+":"+(r?" ":"")+e)}),S=g.length?r?"{\n"+i+g.join(",\n"+i)+"\n"+k+"}":"{"+g.join(",")+"}":"{}";return s.pop(),S}};c.stringify=function(t,e,n){var o,r,i,s;if(G[typeof e]&&e)if((s=R.call(e))==d)r=e;else if(s==O){i={};for(var a,c=0,u=e.length;c<u;a=e[c++],(s=R.call(a))!=A&&s!=C||(i[a]=1));}if(n)if((s=R.call(n))==C){if(0<(n-=n%1))for(o="",10<n&&(n=10);o.length<n;o+=" ");}else s==A&&(o=n.length<=10?n:n.slice(0,10));return M("",((a={})[""]=t,a),r,i,o,"",[])}}if(!f("json-parse")){function y(){throw v=E=null,n()}function g(){for(var t,e,n,o,r,i=E,s=i.length;v<s;)switch(r=i.charCodeAt(v)){case 9:case 10:case 13:case 32:v++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=a?i.charAt(v):i[v],v++,t;case 34:for(t="@",v++;v<s;)if((r=i.charCodeAt(v))<32)y();else if(92==r)switch(r=i.charCodeAt(++v)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=S[r],v++;break;case 117:for(e=++v,n=v+4;v<n;v++)48<=(r=i.charCodeAt(v))&&r<=57||97<=r&&r<=102||65<=r&&r<=70||y();t+=k("0x"+i.slice(e,v));break;default:y()}else{if(34==r)break;for(r=i.charCodeAt(v),e=v;32<=r&&92!=r&&34!=r;)r=i.charCodeAt(++v);t+=i.slice(e,v)}if(34==i.charCodeAt(v))return v++,t;y();default:if(e=v,45==r&&(o=!0,r=i.charCodeAt(++v)),48<=r&&r<=57){for(48==r&&48<=(r=i.charCodeAt(v+1))&&r<=57&&y(),o=!1;v<s&&48<=(r=i.charCodeAt(v))&&r<=57;v++);if(46==i.charCodeAt(v)){for(n=++v;n<s&&48<=(r=i.charCodeAt(n))&&r<=57;n++);n==v&&y(),v=n}if(101==(r=i.charCodeAt(v))||69==r){for(43!=(r=i.charCodeAt(++v))&&45!=r||v++,n=v;n<s&&48<=(r=i.charCodeAt(n))&&r<=57;n++);n==v&&y(),v=n}return+i.slice(e,v)}if(o&&y(),"true"==i.slice(v,v+4))return v+=4,!0;if("false"==i.slice(v,v+5))return v+=5,!1;if("null"==i.slice(v,v+4))return v+=4,null;y()}return"$"}function m(t,e,n){var o=U(t,e,n);o===w?delete t[e]:t[e]=o}var v,E,k=p.fromCharCode,S={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},P=function(t){var e,n;if("$"==t&&y(),"string"==typeof t){if("@"==(a?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=g());n=n||!0)n&&(","==t?"]"==(t=g())&&y():y()),","==t&&y(),e.push(P(t));return e}if("{"==t){for(e={};"}"!=(t=g());n=n||!0)n&&(","==t?"}"==(t=g())&&y():y()),","!=t&&"string"==typeof t&&"@"==(a?t.charAt(0):t[0])&&":"==g()||y(),e[t.slice(1)]=P(g());return e}y()}return t},U=function(t,e,n){var o,r=t[e];if("object"==typeof r&&r)if(R.call(r)==O)for(o=r.length;o--;)m(r,o,n);else N(r,function(t){m(r,t,n)});return n.call(t,e,r)};c.parse=function(t,e){var n,o;return v=0,E=""+t,n=P(g()),"$"!=g()&&y(),v=E=null,e&&R.call(e)==d?U(((o={})[""]=n,o),"",e):n}}}return c.runInContext=V,c}if(!n||n.global!==n&&n.window!==n&&n.self!==n||(B=n),e&&!t)V(B,e);else{var o=B.JSON,r=B.JSON3,i=!1,s=V(B,B.JSON3={noConflict:function(){return i||(i=!0,B.JSON=o,B.JSON3=r,o=r=null),s}});B.JSON={parse:s.parse,stringify:s.stringify}}t&&(void 0===(h=function(){return s}.call(u,p,u,a))||(a.exports=h))}).call(this)}).call(u,p(19)(t),window)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(t,e){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}(t.exports=n).prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){var n=this;function o(){n.off(t,o),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},o.fn=e,this.on(t,o),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks[t];if(!o)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r=0;r<o.length;r++)if((n=o[r])===e||n.fn===e){o.splice(r,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var o=0,r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){(function(p){var h=n(23),l=n(24);e.deconstructPacket=function(t){var s=[],e=t.data,n=t;return n.data=function t(e){if(!e)return e;if(l(e)){var n={_placeholder:!0,num:s.length};return s.push(e),n}if(h(e)){for(var o=new Array(e.length),r=0;r<e.length;r++)o[r]=t(e[r]);return o}if("object"!=typeof e||e instanceof Date)return e;for(var i in o={},e)o[i]=t(e[i]);return o}(e),n.attachments=s.length,{packet:n,buffers:s}},e.reconstructPacket=function(t,r){return t.data=function t(e){if(e&&e._placeholder)return r[e.num];if(h(e)){for(var n=0;n<e.length;n++)e[n]=t(e[n]);return e}if(e&&"object"==typeof e){for(var o in e)e[o]=t(e[o]);return e}return e}(t.data),t.attachments=void 0,t},e.removeBlobs=function(t,a){var c=0,u=t;!function t(e,n,o){if(!e)return e;if(p.Blob&&e instanceof Blob||p.File&&e instanceof File){c++;var r=new FileReader;r.onload=function(){o?o[n]=this.result:u=this.result,--c||a(u)},r.readAsArrayBuffer(e)}else if(h(e))for(var i=0;i<e.length;i++)t(e[i],i,e);else if(e&&"object"==typeof e&&!l(e))for(var s in e)t(e[s],s,e)}(u),c||a(u)}}).call(e,window)},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){(function(e){t.exports=function(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}}).call(e,window)},function(t,e,n){var c=n(26),i=n(54),o=n(7),r=n(14),u=n(56),s=n(57),p=n(11)("socket.io-client:manager"),a=n(52),h=n(58),l=Object.prototype.hasOwnProperty;function f(t,e){if(!(this instanceof f))return new f(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}(t.exports=f).prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)l.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},f.prototype.updateSocketIds=function(){for(var t in this.nsps)l.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},o(f.prototype),f.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},f.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},f.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(n,t){if(p("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=c(this.uri,this.opts);var e=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var r=u(e,"open",function(){o.onopen(),n&&n()}),i=u(e,"error",function(t){if(p("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",t),n){var e=new Error("Connection error");e.data=t,n(e)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;p("connect attempt will timeout after %d",s);var a=setTimeout(function(){p("connect attempt timed out after %d",s),r.destroy(),e.close(),e.emit("error","timeout"),o.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(r),this.subs.push(i),this},f.prototype.onopen=function(){p("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(u(t,"data",s(this,"ondata"))),this.subs.push(u(t,"ping",s(this,"onping"))),this.subs.push(u(t,"pong",s(this,"onpong"))),this.subs.push(u(t,"error",s(this,"onerror"))),this.subs.push(u(t,"close",s(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",s(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(t){this.decoder.add(t)},f.prototype.ondecoded=function(t){this.emit("packet",t)},f.prototype.onerror=function(t){p("error",t),this.emitAll("error",t)},f.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new i(this,t,e),this.nsps[t]=n;var o=this;n.on("connecting",r),n.on("connect",function(){n.id=o.engine.id}),this.autoConnect&&r()}function r(){~a(o.connecting,n)||o.connecting.push(n)}return n},f.prototype.destroy=function(t){var e=a(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},f.prototype.packet=function(n){p("writing packet %j",n);var o=this;n.query&&0===n.type&&(n.nsp+="?"+n.query),o.encoding?o.packetBuffer.push(n):(o.encoding=!0,this.encoder.encode(n,function(t){for(var e=0;e<t.length;e++)o.engine.write(t[e],n.options);o.encoding=!1,o.processPacketQueue()}))},f.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},f.prototype.cleanup=function(){p("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){p("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(t){p("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();p("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(p("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(p("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(p("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){t.exports=n(27)},function(t,e,n){t.exports=n(28),t.exports.parser=n(35)},function(e,t,u){(function(o){var n=u(29),t=u(7),h=u(46)("engine.io-client:socket"),r=u(52),i=u(35),s=u(10),a=u(53),c=u(43);function l(t,e){if(!(this instanceof l))return new l(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=s(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=s(e.host).host),this.secure=null!=e.secure?e.secure:o.location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(o.location?location.hostname:"localhost"),this.port=e.port||(o.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized?null:e.rejectUnauthorized,this.forceNode=!!e.forceNode;var n="object"==typeof o&&o;n.global===n&&(e.extraHeaders&&0<Object.keys(e.extraHeaders).length&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}(e.exports=l).priorWebsocketSuccess=!1,t(l.prototype),l.protocol=i.protocol,(l.Socket=l).Transport=u(34),l.transports=u(29),l.parser=u(35),l.prototype.createTransport=function(t){h('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);return e.EIO=i.protocol,e.transport=t,this.id&&(e.sid=this.id),new n[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},l.prototype.open=function(){var t;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},l.prototype.setTransport=function(t){h("setting transport %s",t.name);var e=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=t).on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},l.prototype.probe=function(n){h('probing transport "%s"',n);var o=this.createTransport(n,{probe:1}),r=!1,i=this;function t(){if(i.onlyBinaryUpgrades){var t=!this.supportsBinary&&i.transport.supportsBinary;r=r||t}r||(h('probe transport "%s" opened',n),o.send([{type:"ping",data:"probe"}]),o.once("packet",function(t){if(!r)if("pong"===t.type&&"probe"===t.data){if(h('probe transport "%s" pong',n),i.upgrading=!0,i.emit("upgrading",o),!o)return;l.priorWebsocketSuccess="websocket"===o.name,h('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){r||"closed"!==i.readyState&&(h("changing transport and sending upgrade packet"),p(),i.setTransport(o),o.send([{type:"upgrade"}]),i.emit("upgrade",o),o=null,i.upgrading=!1,i.flush())})}else{h('probe transport "%s" failed',n);var e=new Error("probe error");e.transport=o.name,i.emit("upgradeError",e)}}))}function s(){r||(r=!0,p(),o.close(),o=null)}function e(t){var e=new Error("probe error: "+t);e.transport=o.name,s(),h('probe transport "%s" failed because of error: %s',n,t),i.emit("upgradeError",e)}function a(){e("transport closed")}function c(){e("socket closed")}function u(t){o&&t.name!==o.name&&(h('"%s" works - aborting "%s"',t.name,o.name),s())}function p(){o.removeListener("open",t),o.removeListener("error",e),o.removeListener("close",a),i.removeListener("close",c),i.removeListener("upgrading",u)}l.priorWebsocketSuccess=!1,o.once("open",t),o.once("error",e),o.once("close",a),this.once("close",c),this.once("upgrading",u),o.open()},l.prototype.onOpen=function(){if(h("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){h("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},l.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(h('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(a(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else h('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},l.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},l.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},l.prototype.sendPacket=function(t,e,n,o){if("function"==typeof e&&(o=e,e=void 0),"function"==typeof n&&(o=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?o():e()}):this.upgrading?o():e()}function e(){t.onClose("forced close"),h("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function o(){t.once("upgrade",n),t.once("upgradeError",n)}return this},l.prototype.onError=function(t){h("socket error %j",t),l.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},l.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(h('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},l.prototype.filterUpgrades=function(t){for(var e=[],n=0,o=t.length;n<o;n++)~r(this.transports,t[n])&&e.push(t[n]);return e}}).call(t,window)},function(t,e,n){(function(s){var a=n(30),c=n(32),u=n(49),t=n(50);e.polling=function(t){var e=!1,n=!1,o=!1!==t.jsonp;if(s.location){var r="https:"===location.protocol,i=location.port;i=i||(r?443:80),e=t.hostname!==location.hostname||i!==t.port,n=t.secure!==r}if(t.xdomain=e,t.xscheme=n,"open"in new a(t)&&!t.forceJSONP)return new c(t);if(!o)throw new Error("JSONP disabled");return new u(t)},e.websocket=t}).call(e,window)},function(t,e,n){(function(r){var i=n(31);t.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(t){}if(!e)try{return new(r[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(e,window)},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(p,t,h){(function(r){var i=h(30),o=h(33),t=h(7),e=h(44),s=h(46)("engine.io-client:polling-xhr");function n(){}function a(t){if(o.call(this,t),this.requestTimeout=t.requestTimeout,r.location){var e="https:"===location.protocol,n=location.port;n=n||(e?443:80),this.xd=t.hostname!==r.location.hostname||n!==t.port,this.xs=t.secure!==e}else this.extraHeaders=t.extraHeaders}function c(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function u(){for(var t in c.requests)c.requests.hasOwnProperty(t)&&c.requests[t].abort()}p.exports=a,p.exports.Request=c,e(a,o),a.prototype.supportsBinary=!0,a.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new c(t)},a.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,o=this.request({method:"POST",data:t,isBinary:n}),r=this;o.on("success",e),o.on("error",function(t){r.onError("xhr post error",t)}),this.sendXhr=o},a.prototype.doPoll=function(){s("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},t(c.prototype),c.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new i(t),n=this;try{s("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if(this.supportsBinary&&(e.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},s("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}r.document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},c.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},c.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,t)try{this.xhr.abort()}catch(t){}r.document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var n=new Uint8Array(this.xhr.response),o=[],r=0,i=n.length;r<i;r++)o.push(n[r]);t=String.fromCharCode.apply(null,o)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},c.prototype.hasXDR=function(){return void 0!==r.XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},c.requestsCount=0,c.requests={},r.document&&(r.attachEvent?r.attachEvent("onunload",u):r.addEventListener&&r.addEventListener("beforeunload",u,!1))}).call(t,window)},function(t,e,n){var o=n(34),r=n(43),i=n(35),s=n(44),a=n(45),c=n(46)("engine.io-client:polling");t.exports=p;var u=null!=new(n(30))({xdomain:!1}).responseType;function p(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),o.call(this,t)}s(p,o),p.prototype.name="polling",p.prototype.doOpen=function(){this.poll()},p.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(c("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){c("pre-pause polling complete"),--o||n()})),this.writable||(c("we are currently writing - waiting to pause"),o++,this.once("drain",function(){c("pre-pause writing complete"),--o||n()}))}else n()},p.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},p.prototype.onData=function(t){var o=this;c("polling got data %s",t),i.decodePayload(t,this.socket.binaryType,function(t,e,n){if("opening"===o.readyState&&o.onOpen(),"close"===t.type)return o.onClose(),!1;o.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},p.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},p.prototype.write=function(t){var e=this;this.writable=!1;function n(){e.writable=!0,e.emit("drain")}i.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},p.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=r.encode(t),this.port&&("https"==e&&443!==Number(this.port)||"http"==e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){var o=n(35);function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}n(7)((t.exports=r).prototype),r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,_,y){(function(u){var r,t=y(36),e=y(37),f=y(38),a=y(39),i=y(40);u&&u.ArrayBuffer&&(r=y(41));var n="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),o="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),c=n||o;_.protocol=3;var p=_.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},s=t(p),d={type:"error",data:"parser error"},h=y(42);function l(t,e,n){function o(n,t,o){e(t,function(t,e){r[n]=e,o(t,r)})}for(var r=new Array(t.length),i=a(t.length,n),s=0;s<t.length;s++)o(s,t[s],i)}_.encodePacket=function(t,s,e,n){"function"==typeof s&&(n=s,s=!1),"function"==typeof e&&(n=e,e=null);var o=void 0===t.data?void 0:t.data.buffer||t.data;if(u.ArrayBuffer&&o instanceof ArrayBuffer)return function(t,e){if(!s)return _.encodeBase64Packet(t,e);var n=t.data,o=new Uint8Array(n),r=new Uint8Array(1+n.byteLength);r[0]=p[t.type];for(var i=0;i<o.length;i++)r[i+1]=o[i];return e(r.buffer)}(t,n);if(h&&o instanceof u.Blob)return function(t,e,n){if(!e)return _.encodeBase64Packet(t,n);if(c)return function(t,e,n){if(!e)return _.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){t.data=o.result,_.encodePacket(t,e,!0,n)},o.readAsArrayBuffer(t.data)}(t,e,n);var o=new Uint8Array(1);return o[0]=p[t.type],n(new h([o.buffer,t.data]))}(t,s,n);if(o&&o.base64)return n("b"+_.packets[t.type]+t.data.data);var r=p[t.type];return void 0!==t.data&&(r+=e?i.encode(String(t.data)):String(t.data)),n(""+r)},_.encodeBase64Packet=function(e,n){var o,r="b"+_.packets[e.type];if(h&&e.data instanceof u.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];n(r+t)},i.readAsDataURL(e.data)}try{o=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var s=new Uint8Array(e.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];o=String.fromCharCode.apply(null,a)}return r+=u.btoa(o),n(r)},_.decodePacket=function(t,e,n){if(void 0===t)return d;if("string"==typeof t){if("b"==t.charAt(0))return _.decodeBase64Packet(t.substr(1),e);if(n&&!1===(t=function(t){try{t=i.decode(t)}catch(t){return!1}return t}(t)))return d;var o=t.charAt(0);return Number(o)==o&&s[o]?1<t.length?{type:s[o],data:t.substring(1)}:{type:s[o]}:d}o=new Uint8Array(t)[0];var r=f(t,1);return h&&"blob"===e&&(r=new h([r])),{type:s[o],data:r}},_.decodeBase64Packet=function(t,e){var n=s[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var o=r.decode(t.substr(1));return"blob"===e&&h&&(o=new h([o])),{type:n,data:o}},_.encodePayload=function(t,n,o){"function"==typeof n&&(o=n,n=null);var r=e(t);return n&&r?h&&!c?_.encodePayloadAsBlob(t,o):_.encodePayloadAsArrayBuffer(t,o):t.length?void l(t,function(t,e){_.encodePacket(t,!!r&&n,!0,function(t){e(null,t.length+":"+t)})},function(t,e){return o(e.join(""))}):o("0:")},_.decodePayload=function(t,e,n){if("string"!=typeof t)return _.decodePayloadAsBinary(t,e,n);var o;if("function"==typeof e&&(n=e,e=null),""==t)return n(d,0,1);for(var r,i,s="",a=0,c=t.length;a<c;a++){var u=t.charAt(a);if(":"!=u)s+=u;else{if(""==s||s!=(r=Number(s)))return n(d,0,1);if(s!=(i=t.substr(a+1,r)).length)return n(d,0,1);if(i.length){if(o=_.decodePacket(i,e,!0),d.type==o.type&&d.data==o.data)return n(d,0,1);if(!1===n(o,a+r,c))return}a+=r,s=""}}return""!=s?n(d,0,1):void 0},_.encodePayloadAsArrayBuffer=function(t,o){if(!t.length)return o(new ArrayBuffer(0));l(t,function(t,e){_.encodePacket(t,!0,!0,function(t){return e(null,t)})},function(t,e){var n=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),s=new Uint8Array(n),a=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var o=new Uint8Array(t.length),r=0;r<t.length;r++)o[r]=t.charCodeAt(r);n=o.buffer}s[a++]=e?0:1;var i=n.byteLength.toString();for(r=0;r<i.length;r++)s[a++]=parseInt(i[r]);for(s[a++]=255,o=new Uint8Array(n),r=0;r<o.length;r++)s[a++]=o[r]}),o(s.buffer)})},_.encodePayloadAsBlob=function(t,n){l(t,function(t,a){_.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,e[0]=0}var r=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),i=new Uint8Array(r.length+1);for(o=0;o<r.length;o++)i[o]=parseInt(r[o]);if(i[r.length]=255,h){var s=new h([e.buffer,i.buffer,t]);a(null,s)}})},function(t,e){return n(new h(e))})},_.decodePayloadAsBinary=function(t,n,o){"function"==typeof n&&(o=n,n=null);for(var e=t,r=[],i=!1;0<e.byteLength;){for(var s=new Uint8Array(e),a=0===s[0],c="",u=1;255!=s[u];u++){if(310<c.length){i=!0;break}c+=s[u]}if(i)return o(d,0,1);e=f(e,2+c.length),c=parseInt(c);var p=f(e,0,c);if(a)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(t){var h=new Uint8Array(p);for(p="",u=0;u<h.length;u++)p+=String.fromCharCode(h[u])}r.push(p),e=f(e,c)}var l=r.length;r.forEach(function(t,e){o(_.decodePacket(t,n,!0),e,l)})}}).call(_,window)},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var o in t)n.call(t,o)&&e.push(o);return e}},function(t,e,n){(function(r){var i=n(23);t.exports=function(t){return function t(e){if(!e)return!1;if(r.Buffer&&r.Buffer.isBuffer&&r.Buffer.isBuffer(e)||r.ArrayBuffer&&e instanceof ArrayBuffer||r.Blob&&e instanceof Blob||r.File&&e instanceof File)return!0;if(i(e)){for(var n=0;n<e.length;n++)if(t(e[n]))return!0}else if(e&&"object"==typeof e)for(var o in e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),e)if(Object.prototype.hasOwnProperty.call(e,o)&&t(e[o]))return!0;return!1}(t)}}).call(e,window)},function(t,e){t.exports=function(t,e,n){var o=t.byteLength;if(e=e||0,n=n||o,t.slice)return t.slice(e,n);if(e<0&&(e+=o),n<0&&(n+=o),o<n&&(n=o),o<=e||n<=e||0===o)return new ArrayBuffer(0);for(var r=new Uint8Array(t),i=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)i[a]=r[s];return i.buffer}},function(t,e){function s(){}t.exports=function(t,n,o){var r=!1;return o=o||s,0===(i.count=t)?n():i;function i(t,e){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(r=!0,n(t),n=o):0!==i.count||r||n(null,e)}}},function(t,f,d){var _;(function(h,l){!function(){var t=("object"==typeof h&&h&&h.exports,"object"==typeof l&&l);t.global!==t&&t.window;var o,r,i,s=String.fromCharCode;function a(t){for(var e,n,o=[],r=0,i=t.length;r<i;)55296<=(e=t.charCodeAt(r++))&&e<=56319&&r<i?56320==(64512&(n=t.charCodeAt(r++)))?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),r--):o.push(e);return o}function n(t,e){return s(t>>e&63|128)}function c(t){if(0==(4294967168&t))return s(t);var e="";return 0==(4294965248&t)?e=s(t>>6&31|192):0==(4294901760&t)?(e=s(t>>12&15|224),e+=n(t,6)):0==(4292870144&t)&&(e=s(t>>18&7|240),e+=n(t,12),e+=n(t,6)),e+s(63&t|128)}function u(){if(r<=i)throw Error("Invalid byte index");var t=255&o[i];if(i++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function p(){var t,e;if(r<i)throw Error("Invalid byte index");if(i==r)return!1;if(t=255&o[i],i++,0==(128&t))return t;if(192==(224&t)){if(128<=(e=(31&t)<<6|u()))return e;throw Error("Invalid continuation byte")}if(224==(240&t)){if(2048<=(e=(15&t)<<12|u()<<6|u()))return e;throw Error("Invalid continuation byte")}if(240==(248&t)&&65536<=(e=(15&t)<<18|u()<<12|u()<<6|u())&&e<=1114111)return e;throw Error("Invalid WTF-8 detected")}var e={version:"1.0.0",encode:function(t){for(var e=a(t),n=e.length,o=-1,r="";++o<n;)r+=c(e[o]);return r},decode:function(t){o=a(t),r=o.length,i=0;for(var e,n=[];!1!==(e=p());)n.push(e);return function(t){for(var e,n=t.length,o=-1,r="";++o<n;)65535<(e=t[o])&&(r+=s((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=s(e);return r}(n)}};void 0===(_=function(){return e}.call(f,d,f,h))||(h.exports=_)}()}).call(f,d(19)(t),window)},function(t,e){!function(){"use strict";for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=new Uint8Array(256),t=0;t<i.length;t++)h[i.charCodeAt(t)]=t;e.encode=function(t){var e,n=new Uint8Array(t),o=n.length,r="";for(e=0;e<o;e+=3)r+=i[n[e]>>2],r+=i[(3&n[e])<<4|n[e+1]>>4],r+=i[(15&n[e+1])<<2|n[e+2]>>6],r+=i[63&n[e+2]];return o%3==2?r=r.substring(0,r.length-1)+"=":o%3==1&&(r=r.substring(0,r.length-2)+"=="),r},e.decode=function(t){var e,n,o,r,i,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),p=new Uint8Array(u);for(e=0;e<a;e+=4)n=h[t.charCodeAt(e)],o=h[t.charCodeAt(e+1)],r=h[t.charCodeAt(e+2)],i=h[t.charCodeAt(e+3)],p[c++]=n<<2|o>>4,p[c++]=(15&o)<<4|r>>2,p[c++]=(3&r)<<6|63&i;return u}}()},function(s,t){(function(t){var r=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,e=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),n=e&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=r&&r.prototype.append&&r.prototype.getBlob;function i(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var o=n.buffer;if(n.byteLength!==o.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(o,n.byteOffset,n.byteLength)),o=r.buffer}t[e]=o}}}s.exports=e?n?t.Blob:function(t,e){return i(t),new Blob(t,e||{})}:o?function(t,e){e=e||{};var n=new r;i(t);for(var o=0;o<t.length;o++)n.append(t[o]);return e.type?n.getBlob(e.type):n.getBlob()}:void 0}).call(t,window)},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),o=0,r=n.length;o<r;o++){var i=n[o].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){"use strict";var n,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r=64,i={},s=0,a=0;function c(t){for(var e="";e=o[t%r]+e,0<(t=Math.floor(t/r)););return e}function u(){var t=c(+new Date);return t!==n?(s=0,n=t):t+"."+c(s++)}for(;a<r;a++)i[o[a]]=a;u.encode=c,u.decode=function(t){var e=0;for(a=0;a<t.length;a++)e=e*r+i[t.charAt(a)];return e},t.exports=u},function(n,i,o){(function(t){function e(){try{return i.storage.debug}catch(t){}if(void 0!==t&&"env"in t)return t.env.DEBUG}(i=n.exports=o(47)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},i.formatArgs=function(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+i.humanize(this.diff),!e)return t;var n="color: "+this.color,o=0,r=0;return(t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1)))[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&"%c"===t&&(r=++o)}),t.splice(r,0,n),t},i.save=function(t){try{null==t?i.storage.removeItem("debug"):i.storage.debug=t}catch(t){}},i.load=e,i.useColors=function(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},i.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],i.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},i.enable(e())}).call(i,o(4))},function(t,a,e){(a=t.exports=n.debug=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},a.disable=function(){a.enable("")},a.enable=function(t){a.save(t);for(var e=(t||"").split(/[\s,]+/),n=e.length,o=0;o<n;o++)e[o]&&("-"===(t=e[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+t.substr(1)+"$")):a.names.push(new RegExp("^"+t+"$")))},a.enabled=function(t){var e,n;for(e=0,n=a.skips.length;e<n;e++)if(a.skips[e].test(t))return!1;for(e=0,n=a.names.length;e<n;e++)if(a.names[e].test(t))return!0;return!1},a.humanize=e(48),a.names=[],a.skips=[],a.formatters={};var c,u=0;function n(t){function e(){}function o(){var r=o,t=+new Date,e=t-(c||t);r.diff=e,r.prev=c,r.curr=t,c=t,null==r.useColors&&(r.useColors=a.useColors()),null==r.color&&r.useColors&&(r.color=a.colors[u++%a.colors.length]);for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var s=0;i[0]=i[0].replace(/%([a-z%])/g,function(t,e){if("%%"===t)return t;s++;var n=a.formatters[e];if("function"==typeof n){var o=i[s];t=n.call(r,o),i.splice(s,1),s--}return t}),i=a.formatArgs.apply(r,i),(o.log||a.log||console.log.bind(console)).apply(r,i)}o.enabled=!(e.enabled=!1);var n=a.enabled(t)?o:e;return n.namespace=t,n}},function(t,e){var i=36e5,s=864e5;function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var n,o,r=typeof t;if("string"==r&&0<t.length)return function(t){if(!(1e4<(t=String(t)).length)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"==r&&!1===isNaN(t))return e.long?a(n=t,s,"day")||a(n,i,"hour")||a(n,6e4,"minute")||a(n,1e3,"second")||n+" ms":s<=(o=t)?Math.round(o/s)+"d":i<=o?Math.round(o/i)+"h":6e4<=o?Math.round(o/6e4)+"m":1e3<=o?Math.round(o/1e3)+"s":o+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(s,t,a){(function(n){var o=a(33),t=a(44);s.exports=e;var r,u=/\n/g,p=/\\n/g;function i(){}function e(t){o.call(this,t),this.query=this.query||{},r||(n.___eio||(n.___eio=[]),r=n.___eio),this.index=r.length;var e=this;r.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=i)},!1)}t(e,o),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},e.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},e.prototype.doWrite=function(t,e){var n=this;if(!this.form){var o,r=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=s,r.method="POST",r.setAttribute("accept-charset","utf-8"),i.name="d",r.appendChild(i),document.body.appendChild(r),this.form=r,this.area=i}function a(){c(),e()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(t)}catch(t){(o=document.createElement("iframe")).name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}this.form.action=this.uri(),c(),t=t.replace(p,"\\\n"),this.area.value=t.replace(u,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a}}).call(t,window)},function(h,t,l){(function(i){var e,n=l(34),s=l(35),o=l(43),t=l(44),r=l(45),a=l(46)("engine.io-client:websocket"),c=i.WebSocket||i.MozWebSocket;if("undefined"==typeof window)try{e=l(51)}catch(t){}var u=c;function p(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=c&&!t.forceNode,this.usingBrowserWebSocket||(u=e),n.call(this,t)}u||"undefined"!=typeof window||(u=e),t(h.exports=p,n),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e={agent:this.agent,perMessageDeflate:this.perMessageDeflate};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(e.headers=this.extraHeaders),this.localAddress&&(e.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new u(t):new u(t,void 0,e)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},p.prototype.write=function(t){var o=this;this.writable=!1;for(var r=t.length,e=0,n=r;e<n;e++)!function(n){s.encodePacket(n,o.supportsBinary,function(t){if(!o.usingBrowserWebSocket){var e={};n.options&&(e.compress=n.options.compress),!o.perMessageDeflate||("string"==typeof t?i.Buffer.byteLength(t):t.length)<o.perMessageDeflate.threshold&&(e.compress=!1)}try{o.usingBrowserWebSocket?o.ws.send(t):o.ws.send(t,e)}catch(t){a("websocket closed before onclose event")}--r||(o.emit("flush"),setTimeout(function(){o.writable=!0,o.emit("drain")},0))})}(t[e])},p.prototype.onClose=function(){n.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!==Number(this.port)||"ws"==e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=r()),this.supportsBinary||(t.b64=1),(t=o.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},p.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===p.prototype.name)}}).call(t,window)},function(t,e){},function(t,e){var o=[].indexOf;t.exports=function(t,e){if(o)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e){(function(e){var n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(s,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(o,"@").replace(r,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(e,window)},function(t,e,n){var i=n(14),o=n(7),s=n(55),r=n(56),a=n(57),c=n(11)("socket.io-client:socket"),u=n(37);t.exports=l;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=o.prototype.emit;function l(t,e,n){this.io=t,this.nsp=e,(this.json=this).ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(l.prototype),l.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[r(t,"open",a(this,"onopen")),r(t,"packet",a(this,"onpacket")),r(t,"close",a(this,"onclose"))]}},l.prototype.open=l.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},l.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},l.prototype.emit=function(t){if(p.hasOwnProperty(t))return h.apply(this,arguments),this;var e=s(arguments),n=i.EVENT;u(e)&&(n=i.BINARY_EVENT);var o={type:n,data:e,options:{}};return o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),delete this.flags,this},l.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},l.prototype.onopen=function(){c("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:i.CONNECT,query:this.query}):this.packet({type:i.CONNECT}))},l.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},l.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},l.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},l.prototype.ack=function(n){var o=this,r=!1;return function(){if(!r){r=!0;var t=s(arguments);c("sending ack %j",t);var e=u(t)?i.BINARY_ACK:i.ACK;o.packet({type:e,id:n,data:t})}}},l.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},l.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},l.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},l.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},l.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},l.prototype.close=l.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},l.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e){t.exports=function(t,e){for(var n=[],o=(e=e||0)||0;o<t.length;o++)n[o-e]=t[o];return n}},function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var o=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=o.call(arguments,2);return function(){return e.apply(t,n.concat(o.call(arguments)))}}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=0<t.jitter&&t.jitter<=1?t.jitter:0,this.attempts=0}(t.exports=n).prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e){"use strict";t.exports={SDK_VERSION:"2.5.0",WSS_ADDRESS:"wss://ws.im.jiguang.cn",UPLOAD_FILE:"https://sdk.im.jiguang.cn/resource",DOWNLOAD_FILE:"http://10.10.2.12:8888",ALLOW_MSG_TYPE:["text","image","file","location","custom"],LOGIN_OUT_EVENT:[1,2],FROM_PLATFORM:"j",ACK_TIMEOUT:5e3,RESP_TIMEOUT:3e4,RETRY_TIMES:5,SYNC_INTERVAL:15e4,RECEIPT_REPORT_INTERVAL:2e3,RECEIPT_REPORT_MAX_SIZE:50,EVENT_KEY:"eve-k-",CONVERSATION_KEY:"conversations-",SYNC_TYPE_OPEN:1,SYNC_TYPE_CLOSE:0,FRIEND_INVITE:1,FRIEND_INVITED:2,PLAT_CHANNEL:"w",EVENTS:{ACK:"ack",INIT:"c_init",LOGIN:"login",REGISTER:"register",GET_USER_INFO:"get_across_user_info",GET_ACROSS_USER_INFO:"get_across_user_info",S_SINGLE_TEXT:"s_across_single_text",S_SINGLE_TEXT_:"s_single_text",MSG_SYNC:"msg_sync",MSG_RECV:"msg_recv",MSG_RECV_V2:"msg_recv_v2",SEND_GROUP_MSG:"send_group_msg",CREATE_GROUP:"create_group",GET_GROUPS_LIST:"get_groups_list",GET_GROUP_INFO:"get_group_info",ADD_GROUP_MEMBER:"add_group_member",ADD_ACROSS_GROUP_MEMBER:"add_across_group_member",DEL_GROUP_MEMBER:"del_group_member",DEL_ACROSS_GROUP_MEMBER:"del_across_group_member",GET_GROUP_MEMBERS:"get_group_members",UPDATE_GROUP_INFO:"update_group_info",EXIT_GROUP:"exit_group",EVENT_NOTIFICATION:"event_notification",GET_CONVERSATIONS:"get_conversations",GET_UPLOAD_TOKEN:"get_upload_token",NO_DISTURB:"no_disturb",ADD_MSG_NO_DISTURB_SINGLE:"add_msg_no_disturb_single",DELETE_MSG_NO_DISTURB_SINGLE:"delete_msg_no_disturb_single",ADD_MSG_NO_DISTURB_GROUP:"add_msg_no_disturb_group",DELETE_MSG_NO_DISTURB_GROUP:"delete_msg_no_disturb_group",ADD_MSG_NO_DISTURB_GLOBAL:"add_msg_no_disturb_global",DELETE_MSG_NO_DISTURB_GLOBAL:"delete_msg_no_disturb_global",DISCONNECT:"disconnect",GET_BLACK_LIST:"get_black_list",ADD_BLACK_LIST:"add_black_list",DEL_BLACK_LIST:"del_black_list",UPDATE_SELF_INFO:"update_user_inf",UPDATE_SELF_PWD:"update_user_pwd",ADD_MSG_SHIELD_GROUP:"add_msg_shield_group",DEL_MSG_SHIELD_GROUP:"del_msg_shield_group",ADD_FRIEND:"add_friend",DEL_FRIEND:"del_friend",UPDATE_FRIEND_MEMO:"update_friend_memo",GET_FRIEND_LIST:"get_friend_list",SYNC_CHECK:"sync_check",SYNC_CONVERSATION:"sync_conversation",SYNC_CONVERSATION_ACK:"sync_conversation_ack",MSG_RETRACT:"msg_retract",GET_RESOURCE:"get_resource",LIST_SHIELD_GROUP:"list_shield_group",SYNC_EVENT_CHECK:"sync_event_check",SYNC_EVENT:"sync_event",SYNC_EVENT_ACK:"sync_event_ack",RECEIPT_REPORT:"receipt_report",SYNC_RECEIPT_ACK:"sync_receipt_ack",SYNC_RECEIPT:"sync_receipt",RECEIPT_CHANGE:"receipt_change",UNREAD_GROUP_COUNT:"unread_group_count",UNREAD_SINGLE_COUNT:"unread_single_count",MSG_UNREAD_LIST:"msg_unread_list",TRANS_MSG_SINGLE:"trans_msg_single",TRANS_MSG_GROUP:"trans_msg_group",TRANS_MSG_PLATFORM:"trans_msg_platform",TRANS_MSG_REC:"trans_msg_rec",ADMIN_ADD_GROUP_MEMBER:"admin_add_group_member",APPLY_JOIN_GROUP:"apply_join_group",ROOM_LIST:"room_list",ROOM_LIST_SELF:"room_list_self",JOIN_ROOM:"join_room",EXIT_ROOM:"exit_room",ROOM_INFO:"room_info",SEND_ROOM_MSG:"send_room_msg",ROOM_MSG_SYNC:"room_msg_sync",GROUP_MEM_SILENCE:"group_mem_silence",ROOM_MSG_SYNC_HIS:"room_msg_sync_his",DISSOLVE_GROUP:"dissolve_group",ADD_GROUP_KEEPER:"add_group_keeper",DEL_GROUP_KEEPER:"del_group_keeper",CHANGE_GROUP_ADMIN:"change_group_admin",PUBLIC_GROUP_LIST:"public_group_list"}}},function(t,e,n){"use strict";function o(t){this.channel=t,this.rid=this.channel.generateRid(),this.times=1}var r=n(59);o.prototype.setEvent=function(t){return this.event=t,this},o.prototype.setData=function(t){return this.data=t,this},o.prototype.onSuccess=function(t){return"function"==typeof t&&(this.success=t),this},o.prototype.onFail=function(t){return"function"==typeof t&&(this.fail=t),this},o.prototype.onTimeout=function(t){if("function"==typeof t){this.timeout=t;var e=this;this.respTimeoutTaskId=setTimeout(function(){e.respTimeoutTask()},r.RESP_TIMEOUT)}return this},o.prototype.onAck=function(t){return"function"==typeof t&&(this.ack=t),this},o.prototype.onInnerCall=function(t){return"function"==typeof t&&(this.innerCall=t),this},o.prototype.onUserInfoGet=function(t){return"function"==typeof t&&(this.userInfoGet=t),this},o.prototype.addHook=function(t){return"function"==typeof t&&(this.hook=t),this},o.prototype.ackTimeoutTask=function(){if(this.times<r.RETRY_TIMES){this.channel.send(this.event,this._data),this.times++;var t=this;this.ackTimeoutTaskId=setTimeout(function(){t.ackTimeoutTask()},r.ACK_TIMEOUT)}else this.timeout&&this.timeout({rid:this.rid,data:this.data,response_timeout:!1}),delete this.channel.dataCache[this.rid];return this},o.prototype.respTimeoutTask=function(){if(this.times<r.RETRY_TIMES){this.channel.send(this.event,this._data),this.times++;var t=this;this.respTimeoutTaskId=setTimeout(function(){t.respTimeoutTask()},r.RESP_TIMEOUT)}else this.timeout&&this.timeout({rid:this.rid,data:this.data,response_timeout:!0}),delete this.channel.dataCache[this.rid];return this},o.prototype.cleanAckTimeout=function(){return this.ackTimeoutTaskId&&clearTimeout(this.ackTimeoutTaskId),this},o.prototype.cleanRespTimeout=function(){return this.respTimeoutTaskId&&clearTimeout(this.respTimeoutTaskId),this},o.prototype.send=function(){if(this.event&&this.data){var t=this;return this.ackTimeoutTaskId=setTimeout(function(){t.ackTimeoutTask()},r.ACK_TIMEOUT),this._data=JSON.parse(JSON.stringify(this.data)),this._data.rid=this.rid,this.channel.send(this.event,this._data),this.channel.dataCache[this.rid]=this}console.error("send failï¼event and data can not empty")},t.exports=o},function(t,e){"use strict";function n(t){this.args=t}n.prototype.onSuccess=function(t){return"function"==typeof t&&(this.success=t),this},n.prototype.onFail=function(t){return"function"==typeof t&&(this.fail=t),this},n.prototype.onTimeout=function(t){return"function"==typeof t&&(this.timeout=t),this},n.prototype.onAck=function(t){return"function"==typeof t&&(this.ack=t),this},t.exports=n},function(t,e){"use strict";function n(t,e){this.current_user=t,this.current_appkey=e,this.version=1,this.from_platform="web"}n.prototype.setNeedReceipt=function(t){return this.need_receipt=t,this},n.prototype.setNoOffline=function(t){return this.no_offline=t,this},n.prototype.setNoNotification=function(t){return this.no_notification=t,this},n.prototype.setType=function(t){return this.type=t,this},n.prototype.setAtList=function(t){return this.at_list=t,this},n.prototype.setAppkey=function(t){return t&&(this.appkey=t),this},n.prototype.setTarget=function(t,e){return this.target_id=t.toString(),this.target_name=e,this},n.prototype.setFromName=function(t){return this.from_name=t,this},n.prototype.setText=function(t,e){return this.msg_type="text",this.msg_body={text:t},e&&(this.msg_body.extras=e),this},n.prototype.setImage=function(t,e){return this.msg_type="image",this.msg_body={media_id:t.media_id,media_crc32:t.media_crc32,width:t.width,height:t.height,format:t.format,fsize:t.fsize},e&&(this.msg_body.extras=e),this},n.prototype.setFile=function(t,e){return this.msg_type="file",this.msg_body={media_id:t.media_id,media_crc32:t.media_crc32,hash:t.hash,fsize:t.fsize,fname:t.fname},e&&(this.msg_body.extras=e),this},n.prototype.setCustomNotification=function(t){return t&&(this.custom_notification=t),this},n.prototype.setLocation=function(t,e){return this.msg_type="location",this.msg_body={latitude:t.latitude,longitude:t.longitude,scale:t.scale,label:t.label},e&&(this.msg_body.extras=e),this},n.prototype.setCustom=function(t,e){return this.msg_type="custom",this.msg_body=t,e&&(this.msg_body.extras=e),this},n.prototype.build=function(){var t=this.current_user;if("single"!=this.type&&"group"!=this.type&&"across_single"!=this.type&&"chatroom"!=this.type)return console.log("type must be single or group or chatroom");if(!this.target_id)return console.error("target_id must not null");if("text"==this.msg_type){if(!this.msg_body.text&&this.at_list&&"single"!=this.type)this.msg_body.text=" ";else if(!this.msg_body.text&&!this.at_list)return console.error("æªè®¾ç½®ææ¬æ¶æ¯åå®¹")}else if("custom"==this.msg_type){if(!this.msg_body)return console.error("customå¯¹è±¡ä¸è½ä¸ºç©º")}else if("image"==this.msg_type){if(!this.msg_body.media_id)return console.error("æªè®¾ç½®imageæ¶æ¯media_idå­æ®µ");if(!this.msg_body.media_crc32)return console.error("æªè®¾ç½®imageæ¶æ¯media_crc32å­æ®µ");if(!this.msg_body.width)return console.error("æªè®¾ç½®imageæ¶æ¯widthå­æ®µ");if(!this.msg_body.height)return console.error("æªè®¾ç½®imageæ¶æ¯heightå­æ®µ")}else if("file"==this.msg_type){if(!this.msg_body.media_id)return console.error("æªè®¾ç½®fileæ¶æ¯media_idå­æ®µ");if(!this.msg_body.media_crc32)return console.error("æªè®¾ç½®fileæ¶æ¯media_crc32å­æ®µ");if(!this.msg_body.fsize)return console.error("æªè®¾ç½®fileæ¶æ¯fsizeå­æ®µ");if(!this.msg_body.fname)return console.error("æªè®¾ç½®fileæ¶æ¯fnameå­æ®µ")}else{if("location"!=this.msg_type)return console.error("è¯·è®¾ç½®åæ³çmsg_type");if(!this.msg_body.latitude)return console.error("æªè®¾ç½®locationæ¶æ¯latitudeå­æ®µ");if(!this.msg_body.longitude)return console.error("æªè®¾ç½®locationæ¶æ¯longitudeå­æ®µ");if(!this.msg_body.scale)return console.error("æªè®¾ç½®locationæ¶æ¯scaleå­æ®µ");if(!this.msg_body.label)return console.error("æªè®¾ç½®locationæ¶æ¯labelå­æ®µ")}var e={version:this.version,target_type:this.type,from_platform:this.from_platform,target_id:this.target_id,target_name:this.target_name,from_id:t,from_name:this.from_name,create_time:(new Date).getTime(),msg_type:this.msg_type,msg_body:this.msg_body};this.appkey&&(e.target_appkey=this.appkey,e.from_appkey=this.current_appkey);var n={content:e};if(n.no_offline=this.no_offline,n.no_notification=this.no_notification,n.custom_notification=this.custom_notification,n.target_name=e.target_name,n.need_receipt=this.need_receipt,"single"==e.target_type)n.target_id=e.target_id;else if(n.target_gid=e.target_id,this.at_list&&this.at_list instanceof Array)n.users=this.at_list;else if(this.at_list&&!(this.at_list instanceof Array))return console.error("åæ°å¼ä¸åæ³ï¼at_listå¿é¡»ä¸ºæ°ç»ç±»å");return this.appkey?n.appkey=this.appkey:n.appkey=this.current_appkey,n},t.exports=n},function(t,e){"use strict";t.exports=function(){function h(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function a(t,e,n,o,r,i){return h((s=h(h(e,t),h(o,i)))<<r|s>>>32-r,n);var s}function l(t,e,n,o,r,i,s){return a(e&n|~e&o,t,e,r,i,s)}function f(t,e,n,o,r,i,s){return a(e&o|n&~o,t,e,r,i,s)}function d(t,e,n,o,r,i,s){return a(e^n^o,t,e,r,i,s)}function _(t,e,n,o,r,i,s){return a(n^(e|~o),t,e,r,i,s)}function c(t,e){var n,o,r,i,s;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var a=1732584193,c=-271733879,u=-1732584194,p=271733878;for(n=0;n<t.length;n+=16)c=_(c=_(c=_(c=_(c=d(c=d(c=d(c=d(c=f(c=f(c=f(c=f(c=l(c=l(c=l(c=l(r=c,u=l(i=u,p=l(s=p,a=l(o=a,c,u,p,t[n],7,-680876936),c,u,t[n+1],12,-389564586),a,c,t[n+2],17,606105819),p,a,t[n+3],22,-1044525330),u=l(u,p=l(p,a=l(a,c,u,p,t[n+4],7,-176418897),c,u,t[n+5],12,1200080426),a,c,t[n+6],17,-1473231341),p,a,t[n+7],22,-45705983),u=l(u,p=l(p,a=l(a,c,u,p,t[n+8],7,1770035416),c,u,t[n+9],12,-1958414417),a,c,t[n+10],17,-42063),p,a,t[n+11],22,-1990404162),u=l(u,p=l(p,a=l(a,c,u,p,t[n+12],7,1804603682),c,u,t[n+13],12,-40341101),a,c,t[n+14],17,-1502002290),p,a,t[n+15],22,1236535329),u=f(u,p=f(p,a=f(a,c,u,p,t[n+1],5,-165796510),c,u,t[n+6],9,-1069501632),a,c,t[n+11],14,643717713),p,a,t[n],20,-373897302),u=f(u,p=f(p,a=f(a,c,u,p,t[n+5],5,-701558691),c,u,t[n+10],9,38016083),a,c,t[n+15],14,-660478335),p,a,t[n+4],20,-405537848),u=f(u,p=f(p,a=f(a,c,u,p,t[n+9],5,568446438),c,u,t[n+14],9,-1019803690),a,c,t[n+3],14,-187363961),p,a,t[n+8],20,1163531501),u=f(u,p=f(p,a=f(a,c,u,p,t[n+13],5,-1444681467),c,u,t[n+2],9,-51403784),a,c,t[n+7],14,1735328473),p,a,t[n+12],20,-1926607734),u=d(u,p=d(p,a=d(a,c,u,p,t[n+5],4,-378558),c,u,t[n+8],11,-2022574463),a,c,t[n+11],16,1839030562),p,a,t[n+14],23,-35309556),u=d(u,p=d(p,a=d(a,c,u,p,t[n+1],4,-1530992060),c,u,t[n+4],11,1272893353),a,c,t[n+7],16,-155497632),p,a,t[n+10],23,-1094730640),u=d(u,p=d(p,a=d(a,c,u,p,t[n+13],4,681279174),c,u,t[n],11,-358537222),a,c,t[n+3],16,-722521979),p,a,t[n+6],23,76029189),u=d(u,p=d(p,a=d(a,c,u,p,t[n+9],4,-640364487),c,u,t[n+12],11,-421815835),a,c,t[n+15],16,530742520),p,a,t[n+2],23,-995338651),u=_(u,p=_(p,a=_(a,c,u,p,t[n],6,-198630844),c,u,t[n+7],10,1126891415),a,c,t[n+14],15,-1416354905),p,a,t[n+5],21,-57434055),u=_(u,p=_(p,a=_(a,c,u,p,t[n+12],6,1700485571),c,u,t[n+3],10,-1894986606),a,c,t[n+10],15,-1051523),p,a,t[n+1],21,-2054922799),u=_(u,p=_(p,a=_(a,c,u,p,t[n+8],6,1873313359),c,u,t[n+15],10,-30611744),a,c,t[n+6],15,-1560198380),p,a,t[n+13],21,1309151649),u=_(u,p=_(p,a=_(a,c,u,p,t[n+4],6,-145523070),c,u,t[n+11],10,-1120210379),a,c,t[n+2],15,718787259),p,a,t[n+9],21,-343485551),a=h(a,o),c=h(c,r),u=h(u,i),p=h(p,s);return[a,c,u,p]}function u(t){var e,n="";for(e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function p(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function o(t){var e,n,o="0123456789abcdef",r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+=o.charAt(e>>>4&15)+o.charAt(15&e);return r}function n(t){return unescape(encodeURIComponent(t))}function r(t){return u(c(p(e=n(t)),8*e.length));var e}function i(t,e){return function(t,e){var n,o,r=p(t),i=[],s=[];for(i[15]=s[15]=void 0,16<r.length&&(r=c(r,8*t.length)),n=0;n<16;n+=1)i[n]=909522486^r[n],s[n]=1549556828^r[n];return o=c(i.concat(p(e)),512+8*e.length),u(c(s.concat(o),640))}(n(t),n(e))}return function(t,e,n){return e?n?i(e,t):o(i(e,t)):n?r(t):o(r(t))}}},function(t,e){"use strict";var n={addItem:function(t,e){window.localStorage&&localStorage.setItem(t,e)},removeItems:function(t){if(window.localStorage){for(var e=localStorage.length,n=[],o=0;o<e;o++)localStorage.getItem(localStorage.key(o))===t&&n.push(localStorage.key(o));n.forEach(function(t){localStorage.removeItem(t)})}},getItem:function(t){return window.localStorage?localStorage.getItem(t):null}};t.exports={StringUtils:{isBlack:function(t){return!(t&&"string"==typeof t&&0<t.length)}},StorageUtils:n,ArrayUtils:{delRepeatItem:function(t){var e=[];return t.forEach(function(t){-1===e.indexOf(t)&&null!=t&&e.push(t)}),e}},Cache:{rooms:{}}}}],n.c=r,n.p="",n(0);function n(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return o[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var o,r});