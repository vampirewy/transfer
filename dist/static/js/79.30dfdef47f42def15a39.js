(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{"5IYs":function(t,e,a){},"DTn/":function(t,e,a){"use strict";a.r(e);var i=a("IZzX"),s=a("M07H"),n=a("pvXR"),l=a("z2q5"),r=a.n(l),o=a("kaQf"),c={name:"index",components:{QueryPage:i.a,Search:s.a,QueryFilter:n.a},data:()=>({total:0,tableData:[],formData:{realName:"",roleId:"",skill:"",pageNo:1,pageSize:15},rolelists:[],typeMap:{1:"门诊",2:"住院"},statusMap:{1:"未指定",2:"治疗中",3:"转诊",4:"转为慢病",5:"痊愈",6:"其他"},viewIndex:1,currentId:"",multipleSelection:[],clientTypeList:[],expands:[],getRowKeys:t=>t.id,expandData:{id:"",pageNo:1,pageSize:15,total:0,list:[]},loading:!1}),mounted(){this.getClientTypeList(),this.getroleid(),this.queryAuditList()},methods:{handleDetail(t){this.$router.push({path:"/doctor_taskdetailes_detail/"+t.id})},queryAuditList(){this.$api.doctorAuditInterface.getaudittaskList({...this.formData}).then(t=>{const e=t.data,{data:a,code:i,message:s}=e;200===i?(this.tableData=a.list,this.total=a.total):this.$message.error(s||"网络异常！")})},getroleid(){this.$api.doctorAuditInterface.getroleList({}).then(t=>{const e=t.data,{data:a,code:i,message:s}=e;200===i?this.rolelists=a:this.$message.error(s||"网络异常！")})},handleExpandPageChange(t){this.expandData.pageNo=t,this.getOtherPageList()},handleExpandChange(t,e){this.expands=e},expandsHandle(t){if(this.loading)return!1;this.expands.forEach(e=>{e.id!==t.id&&this.$refs.table.toggleRowExpansion(e)}),this.expands.includes(t)?this.$refs.table.toggleRowExpansion(t):(this.expandData.id=t.clientId,this.expandData.pageNo=1,this.getOtherPageList().then(()=>{this.$refs.table.toggleRowExpansion(t)}))},getOtherPageList(){return this.expandData.list=[],this.loading=!0,this.$api.medicalHistoryInterface.otherMedicalHistoryPageList(this.expandData.id,{pageNo:this.expandData.pageNo,pageSize:this.expandData.pageSize}).then(({data:t})=>{this.expandData.list=t.data.list,this.expandData.total=t.data.total,this.loading=!1,this.tableData=[...this.tableData],this.$forceUpdate()}).catch(()=>{this.loading=!1})},getClientTypeList(){this.$api.medicalHistoryInterface.clientTypeList({pageNo:1,pageSize:o.a}).then(t=>{this.clientTypeList=t.data.data.list})},handleSelectionChange(t){this.multipleSelection=t},queryList(){if(!this.checkRangeDate())return!1;this.$api.medicalHistoryInterface.medicalHistoryPageList({...this.formData}).then(t=>{const{data:e}=t;if(200===e.code){const t=e.data||{};this.tableData=t.list||[],this.total=t.total||0}})},reset(){this.formData.realName="",this.formData.roleId="",this.formData.skill="",this.formData.pageNo=1,this.queryAuditList()},search(){if(!this.checkRangeDate())return!1;this.formData.pageNo=1,this.queryAuditList()},handleEnter(){this.$refs.search.blur()},handleCurrentChange(t){this.formData.pageNo=t,this.queryAuditList()},handleSizeChange(t){this.formData.pageSize=t,this.queryAuditList()},add(){this.viewIndex=2,this.currentId=""},detail(t){this.viewIndex=4,this.currentId=t.id},handleEdit(){return 0===this.multipleSelection.length?(this.$message.error("请先选择数据"),!1):this.multipleSelection.length>1?(this.$message.error("请选择单条记录编辑"),!1):void this.edit(this.multipleSelection[0])},edit(t){this.viewIndex=3,this.currentId=t.id},handleDelete(){if(0===this.multipleSelection.length)return this.$message.error("请先选择数据"),!1;this.remove(this.multipleSelection.map(t=>t.id),!0)},remove(t,e=!1){this.$confirm(`<div class="delete-text-content"><img class="delete-icon" src="${r.a}"/><span>该操作无法撤销，是否确认${e?"批量":""}删除！</span></div>`,"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",customClass:"message-box-customize",showClose:!0}).then(()=>{let a;a=e?this.$api.medicalHistoryInterface.batchDeleteMedicalInfo(t):this.$api.medicalHistoryInterface.deleteMedicalInfo(t),a.then(t=>{const{data:e}=t;200===e.code&&(this.$message.success("操作成功"),this.queryList())})})},handleAfterSubmit(){this.viewIndex=1,this.queryList()},checkRangeDate(){return!(this.formData.startTime&&this.formData.endTime&&new Date(this.formData.startTime)>new Date(this.formData.endTime))||(this.$message.error("开始时间不可大于结束时间"),!1)}}},d=(a("Hjc2"),a("KHd+")),h=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"medical-history"},[[i("query-page",{on:{reset:t.reset,search:t.search},scopedSlots:t._u([{key:"left",fn:function(){return[i("search",[i("div",{staticClass:"searchInputFormItem"},[i("el-input",{attrs:{placeholder:"输入姓名搜索"},model:{value:t.formData.realName,callback:function(e){t.$set(t.formData,"realName",e)},expression:"formData.realName"}}),t._v(" "),i("span",{staticClass:"searchBtnImgSpan",on:{click:t.search}},[i("img",{staticClass:"searchBtnImg",attrs:{src:a("o0KO")}})])],1)]),t._v(" "),i("query-filter",[i("el-input",{attrs:{placeholder:"特长"},model:{value:t.formData.skill,callback:function(e){t.$set(t.formData,"skill",e)},expression:"formData.skill"}}),t._v(" "),i("el-select",{attrs:{placeholder:"选择角色",clearable:""},model:{value:t.formData.roleId,callback:function(e){t.$set(t.formData,"roleId",e)},expression:"formData.roleId"}},t._l(t.rolelists,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)]},proxy:!0},{key:"right",fn:function(){return[i("div",{staticClass:"table-operate-buttons",staticStyle:{"margin-top":"-8px"}},[i("span",{staticClass:"page-name"},[t._v("审核任务")])]),t._v(" "),i("div",[i("el-table",{ref:"table",staticClass:"has-expand-table",attrs:{data:t.tableData,"row-key":t.getRowKeys},on:{"selection-change":t.handleSelectionChange,"expand-change":t.handleExpandChange}},[i("el-table-column",{attrs:{label:"姓名",prop:"realName",align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{label:"性别",prop:"sex",align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{label:"角色",prop:"roleName",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"擅长",align:"center",prop:"skill","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{label:"简介",align:"center",prop:"introduction","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{prop:"isPass",label:"是否通过"},scopedSlots:t._u([{key:"default",fn:function(e){return["审核通过"===e.row.auditStateDesc?i("span",{staticStyle:{color:"green"}},[t._v(t._s(t.auditStateDesc))]):(e.row.auditStateDesc,i("span",{staticStyle:{color:"red"}},[t._v("待审核")]))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",prop:"id",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleDetail(e.row)}}},[t._v("审核")])]}}])})],1),t._v(" "),i("el-pagination",{staticStyle:{"margin-top":"15px"},attrs:{background:"",total:t.total,"page-size":15,"page-sizes":[15],layout:"prev, pager, next, jumper, total, sizes"},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)]},proxy:!0}])})]],2)}),[],!1,null,"abb5ecdc",null);e.default=h.exports},Hjc2:function(t,e,a){"use strict";a("keNl")},IZzX:function(t,e,a){"use strict";var i={name:"QueryPage",data:()=>({hideQuery:!1}),methods:{expand(){this.hideQuery=!this.hideQuery}}},s=(a("RHUu"),a("KHd+")),n=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"query-page"},[a("div",{staticClass:"left"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.hideQuery,expression:"!hideQuery"}],staticClass:"query-content"},[t._t("left"),t._v(" "),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$emit("reset")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.$emit("search")}}},[t._v("搜索")])],1)],2),t._v(" "),a("div",{class:{"put-away":!0,"query-hide":t.hideQuery},on:{click:t.expand}},[t._v("\n      "+t._s(t.hideQuery?"展开":"收起")+"\n    ")])]),t._v(" "),a("div",{class:{right:!0,"query-hide":t.hideQuery}},[t._t("right")],2)])}),[],!1,null,"7b3a3e7c",null);e.a=n.exports},M07H:function(t,e,a){"use strict";var i={name:"Search"},s=(a("hDp5"),a("KHd+")),n=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search-component"},[this._m(0),this._v(" "),this._t("default"),this._v(" "),e("div",{staticClass:"ge"})],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search-title"},[e("span",[this._v("搜索")])])}],!1,null,"1f1475af",null);e.a=n.exports},RHUu:function(t,e,a){"use strict";a("eXrY")},eXrY:function(t,e,a){},ekRf:function(t,e,a){},hDp5:function(t,e,a){"use strict";a("5IYs")},keNl:function(t,e,a){},n9gm:function(t,e,a){"use strict";a("ekRf")},o0KO:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADOklEQVRYR8WWWaiNURTHf//MZShShGS4KYoic5KiWzIXSiEZHhASSYZkSqJbbnlQ5hdRrgwl8XKTIQ9mHkgpoiiZy7S0sr/b9t3znfOdc4v1ds5ee+3fXmt9/73Efzb95/PJDWBmo4FJwBigF9AJ+A68Ae4AV4Cjkj6Vc6mSAGY2BdgKDMoR+D1wANgn6UUO/+wMmFkH4DAwPU+glI9nYY6kc6X2FsyAmfUALgL9UwHuA2eAe8BroA3QDRgXytMx8v8FrJO0pxhEI4Bw82upw28DayV5nQuamTnMKmA90C5y2iBpZ9a+QgB1wLRow0FgqaRvpdLp62bmWTsL9An+3qjDJHmjNrK/AMxscticOB6UtCjPwbGPmXlZbgFdw/9esqGFLpEGuAsMDJuceHjem6chzWwUcBUaGn2lpH1pvwYAMxsBXI8cxhereZ6smNkJYHbwfSRpQDGAXd61weG+pCQTec7KaszhwI1osUrS09g5zkB9UDlf3y5pU8Unh41m5vFfRr2wQNKRLIBXQJewOEvSqaYChK/iEjAhxNomaXMWwFegdVgcI8kbqMlmZkeBeSHQfknLsgA+Am3DYrUkJ2+ymdlJYGYIVCNpdRbAE6BvWFwo6VCTT/8jTK6qI0Os9ZK82RssbsLT0cNzXFKStoo5zMwl+S3QMgSZJOlCFsByoDYsvgO6S/pS8el/bj8XOBZiuJR3lvQhC8C/gOcR7UZJOyoFMLPmwCOgKsSokzQjHS8txU7r1G7+po+Q9LASCDPbBmwMe3+4xEt6XAqge6BOntNnwNi8000S3MzmA7Hg1EpaUegihZ7jxWGsSvx98JiZRxfMrAXgQpPc3GP8BHpKckVsZFkT0W4fQCJvA1wZa4Cbkvx3g5lZe2Aq4PKd1Dx2uQxMkeRi95dlAfj/HmxL9JzGGXkAuHT7FORlGxw1b+LnN28WnVYQouhUbGYTw6fZu8xG9GytCaWsLgaRZyxvBSwBfDIq9kT7d34e2CvJ1c91wN8WH2IzIUoCpGrtUu1vfL8weHoveHP5914v6XM6U6UgygIoswxxk2ZnotKg5e7LyETNP8lAJFDpTNT/U4CoMbcDQ/xT/w2iPSO4RZmu9AAAAABJRU5ErkJggg=="},pvXR:function(t,e,a){"use strict";var i={name:"SearchFilter"},s=(a("n9gm"),a("KHd+")),n=Object(s.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"filter-component"},[this._m(0),this._v(" "),this._t("default")],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"filter-title"},[e("span",[this._v("筛选条件")])])}],!1,null,"3e24b622",null);e.a=n.exports},z2q5:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAMuUlEQVR4Xu2beWwU1x3Hv29md7yz6/UNdmwuQ4FgIEACNIVAIGlCqqaKVFKRKlKUlJKqjZq2adNKTY8obaL0v7aKoqpKo/4RpakqtVUrJaSkLc1BgHAmBhsw4ANjfK+965ndmdn5VW92HYy917xZm0Tyk4yl9e/88Hv3W4bZ5okA86Q9q4xZgB6LYBbgLECPBDyqz1bgLECPBDyqz1bgpx1g1wA1JGxrtW3RAmbTcEkJuzi/xn+UMUYec5sR9etSgef6jHW6lnxBT9jr4qYdIKJr4vDJzA74peGSEvmAWiI//5la/4EZoSHgZEYBdvTS4shY/O8jurXKtq+Fliv2sCr3BQP+H62Yp/xRIMdpVZkRgETkb+6MvzKqWfebFkmiGZWqcn8w6P9xU73ykqiNYutNO8Azl+NPDEeTz8aNZKBYwZeHfG01Zeq2+TWsu1g2Re1MG8COXnPzYMz886hmNYgGl0tP8UlWTbnvB8vqA7+ZDvuF2iw6wEujVK1Q8lVZZncqMpOZBDAwEAg2AaZFiGlJ9EdN57eXxmfqirD8wU0L1M2MMcuLLVHdogLUkvQ8WXgCgL+QgGybMBi10NWXQJLEVy3hoK+nplpdubCCDRfit5gyRQFIRKpu4iQRlooEx6tzZCyJ85fjsAVBBkukaH2lb/28OYGzIjGI6ngGSEQlmokOEGpFgxjXIyJ0DRjoHTaETAX8klFdody+tE45KGRAQMkzQN2kvbaNHQK+s6rEDRstXRqspPturfgl84YqZWPjXOVEMWPKZssTQJPoHtPE60TFP5jl1XihJ46hmPu5QfHJRmVlcP2KOvbRdEMUBsi3X5qJCAhl0xlkf8RAe1+iYBd8CPX5GCQmafWBYENjI4sUrCwgKAxwzKA9IPxewKdrlciYhXPden49AmSZwXS6PqFU9V3cuDS0OL+iuIQwQM2gw0TYIO7anWZMTzrjYrbGRxGJAUkOjxH4L5kBwYC8/9ZlpdvdeStcWhxgggwqcL1XeDi5JbV4Eqc6M0PkiVjO+QSBbAJjgG0DksyoujTw+NrFygvFimOiHSGAiQTtsoDXvAbEokPwnz4IKAEYKzc5v/O1qJZE66WJEFPQOCzOj08+fOfD15OMMedzxc+M+fWlc5dUsZF89t3+XQigbtAfbMLX3DqbKO/vaIGv5yJYQgOGu0E+Bfr2B4FQ/jmpf8REe2/cIeZAswnECKk1+FV4/HO+feRJBgO+i1uaij8eigE06U3bxt1eAKqH3ri69iEb6O0ElZRA3/EwwDfQedqFy3EMRE0HGt/JOPAkBuKDn8RgJ/mnDk9w84pfornlvodWL1RfyWfbzd+FAGoGnSDCGjeOrpHVYwh++M616rwS+y/BXHITzLX5x3wO5+T5GOKmnQIFONUmMYYkr0heeU4XJsg+wDAJIVUa29YUrijmwYMYwDh1EcM8UYBMG4X60XtT1S+3wfYHEL93T0GmLZtwtC3qjHPjXZUfdPNxkFce/1yWkF7WAD5ZQliV/7X5xlDRdk5CAMcM4gvo8oKyzCCUFWCkH3ZsGPGd3ynY9FDUQitf3vBum668idVocYrgIFNjoyxLyUV14aU31rGLBTvJISgKcBCEKtEA2Ngo1OYMFRgdBg32QN/1fVemOcCBqPXxJMIrkE8uHChvPonB4h3dmXGAkCo3b19ZutqVkyzCQgA1g9qJsFA0ADY2ArU5w0Xb6DDswW7EH3jSlWk+5h1qjTrdmNcbB5hm51Re6kwiNS4mifEFNi2sLmu6qZG1unKUqTeJGPA6iWQFGBkAXT4P/ZGnXYc1MGridJfudNPxI0UHXopdCi5fK/IpmQHhoP/U51eVrnLtaJKCUAXqJv3btnGHqHNpLIJA8/tT1SMDsHvaEX/4p0Kmj5yPgS+0J455fFJxqjK9JuTbPA5UliV708KyijlzWFTIWVpJCKBm0KtE+KqoYykWQeBUBoCDV0CXzkN/9JdCphOmjQOt0dSEwZc1TsXx6ktVZWplmJpMeKspV/6xbUXoPiFnXgAmTHrKsiGWJV/vZgPIu3B7K/RvPCuc00ftGgZjFvjqkD94SM3MKWCp8TH1w1t5UB65e01ZhbCz1DrdfSOiBboJPpEI6UvRCAKnM3XhflDHWeEK5JnoCRsHzkYdWk4VOkvCVAWOA5yY8ZJ69a6bFwbeck8hpSEEgCuOGaSDkH/3nyGy3ADPQH9UvAK5u+MXxpc1ziYv3X2doS/9z9WgGqqUvZuWh74w4wB1g5ptwkoRx1kBDg+Aus5A3yM8Ojjh6Ikk3m2Npse/1J10tsu+MlWO7VhbFhbJw1MF6ga9aBO+KeJYig4jwI+xJrdIP6jzrGeA3OyBs6MYHUvtk3PdlPLL+eX1wY2rFyhHRHIR7sIm0WbDwLsiTqXRYQRaMgHsA3Wc8zQGjsdzJWLg+EUtY7edHPP86pLXbl0WFFpVCAPkQWgmxchGyC1EaXQIgZZDU9WG+0CdbdAf/YVbk1Pk+cy798RIzuobV6op87dvX1naKOLUK8C/kI373TqWRoYQaM0EsB/UVZwuzGNq7tLQ2Z//kj6oyOYXbylT3ObhaQx0JjSiZbqJVrfLGWlkEIHWwxkqsLgAtUQS+08VttFYs1hdsqw2cMEtRE8V6HTjBF0m4AY3jnMDPAd9j/cu7PwHg/DGsdGpa5cMwS6qDTy1YbH6nJs8PFdgehz8Fdn4oSvHlgn16FtTF6FDfaDu89C//owrc7mET7Zr6B7K340bqkr+uml5cKdbx54rkIhCuoERvj9341z9YB+YPenZBp9E+F64iAD7R0180DaWN7S6SuW9LTeGbssrOEnAM0CnCg16jQi73Dj3d7TCf2XSoTAH2NMB/ZGfuTGVU9awbLz1Ie/Gudvccn/L7U2lTfnkJv+9KACdKjQRIYLPTQCBE29DSkyojiudsCrrYGz1dEAyKQTC68fyXwdXh309d6wK17uJvyhj4LhDzaBXiPCg2wCU04cgx/jDUgZTDcNavcmtibzy/HAhEsv9nLhMlUd3rC1zfc9TlAp0ZjyiYHosdFWFebMvgsC5njj4T65WFpSjO9aU5b/Vn44xcNxmwqCXLcIjheYs9XbA33YcJPthrN0GBFxvagpy1T1o4GRH9odJ3EhVqe/KnavDrpZjRe3C6SpkuokhIuQ9pFRaj0CO9IEZOjDYDRsMia33g6pd55AX4sCohcNtsZxyteX+U1ub3N+RFK0Lj0enE91JJvbl3J0YcajH/3t1HWhZQOcp2FIA8V38Tri4YY1qqeOtXK2+Stm3eXnI9XOV4kaajlAz6Z9k495sAbOxCNTJl0qxCNB1DsbKz8HacFfeqnIjoBk29jfnXsosqFFe+uzSUGFPIiY4nxaA/LtxcRNDNqE0W6Lq4b1gkw/qWo7ADlchvvMxN3zyyvJH6//JA3DR3MDuDUvUl/Mam85JZKLtRILuSzL8LVtXLjl9EHJ00vdiui+AYhHoDz3lNo+c8rF4Em+fzt6F/T7Jvm99WYAxZrp1PC0VOB6EFqffEsO3MwZlGalxMP12xZG50omk5EPiS7vd5pFTnr+xPnAm+yRy3c4DC8lSM+htImzJJMvvRkpaD4PZydT9RXQYidt3AkpJIaYLlukdMXH0fPb9cGNdyXfXNwaFvrQ4rRX48dLGQBcBWb+1Kfd1gdRS2OHKgqG4EWzrTeBsllf+4YBPu2ddWHgBOu0A0xBrdAsdZCPoJvFiyR48FwN/Bje58QulRbWBb61vDPxO1NeMAOTBjRHdzAwcIKC4/TNP5vxu5I3jmQ8TasuV41ubQjeLwuN6MwYwXYnLdAvHRC6iRJOM6km80zJ1BuanL9tXls5njHn60vKMAkxDbNBMNKOA7Z4otIl6mU6kayuUY8sqg1vr6lj+k9Y8Qcw4wDTECs1EazG+IpsrP/7w8s0TV7uvqkjW3ArluY1L1J8X4z9nxrvwxKD594x1E/sA3Ob2Vq/Q5Fu6dVzsTfDnblRb4XunKhT68op5bLBQ/ULkrksFTgxMN2g3AS8SQeheNluSY4kk/ncqiuqw/1JlZckD6xr8GR5lF4Iot8x1B5ju0nPiJvbbBNd3EpnS4w8oD7fFxipU309uWRL8tXdM2S18IgCOh6cZ9D0Az1COQ4h8MAiwOvqNPzU1KLtF9rb57E9ZS7pVmAn5hElPW4THGFBd6PjI+Cs24HhUw1dqK5jrFwaieX2iKnByEjrRFtvCkyDwm6YqZHgRyxjiRDgGBY+HGDsqCkJU7xMNcHJSfDcjJbHCtqH6CIOKgvcZY1dEky+G3qcKYDESLraNWYAeic4CnAXokYBH9dkKnAXokYBH9dkKnAXokYBH9f8D9uW/nIWaI50AAAAASUVORK5CYII="}}]);