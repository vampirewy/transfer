(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{"+roY":function(t,e,a){"use strict";a("YwaA")},YwaA:function(t,e,a){},lP8j:function(t,e,a){"use strict";a.r(e);var s={name:"health_questionnaire_detail",data:()=>({options:[],questions:[],active:-1,qusTypeName:"",contentPaddingTop:20,templateList:[{name:"基本信息"},{name:"问卷内容"}],formData:{birthday:"",clientName:"",genderName:""},questionDate:"",answerOptionsList:[],answerList:[],answerMap:{},answerOptionMap:{}}),computed:{name(){const t=this.options.find(t=>t.paramValue===this.formData.questionType);return t?t.name:""}},methods:{clickMenu(t,e){const a=t;if(this.active=t,1===this.$route.params.qusType){const t=this.$el.querySelector(e);this.$refs.health_questionnaire_view.parentNode.scrollTop=t.offsetTop-50}else this.$refs.health_questionnaire_view.parentNode.scrollTop=0===a?51:350},clickToTop(){this.active=-1,this.$refs.health_questionnaire_view.parentNode.scrollTop=0},getQuestionType(){this.$api.health.getQuestionType().then(t=>{this.options=t})},getClientUserInfo(t){this.$api.userManagerInterface.getDetail(t).then(({data:t})=>{const e=t.data;this.formData=e})},fetch(t){this.$api.health.getDetailView(t).then(({data:t})=>{const e=t.data;this.getClientUserInfo(e.clientId),this.answerList=e.groupDTOList,this.questionDate=e.questionDate,1===this.$route.params.qusType&&(this.templateList=[],e.groupDTOList.forEach(t=>{this.templateList.push({name:t.name})})),setTimeout(()=>{this.setContentPaddingTop()},100)})},setContentPaddingTop(){let t=0;this.$refs.tabBars&&(t=this.$refs.tabBars.offsetHeight),t<=40?this.contentPaddingTop=20:t>40&&(this.contentPaddingTop=60)},handleScroll(){const t=document.querySelectorAll(".content-wrapper")[0].scrollTop;document.querySelectorAll(".articleTitle").forEach((e,a)=>{t>=e.offsetTop-150&&(this.active=a)}),t<50&&(this.active=-1),1!==this.$route.params.qusType&&(t>50&&t<300?this.active=0:t>=300&&(this.active=1))}},destroyed(){document.querySelectorAll(".content-wrapper")[0].removeEventListener("scroll",this.handleScroll)},beforeRouteEnter(t,e,a){a(e=>{1===t.params.qusType?e.qusTypeName="生活方式":2===t.params.qusType?e.qusTypeName="中医体质":3===t.params.qusType&&(e.qusTypeName="SCL90心理"),e.getQuestionType(),e.fetch(t.params.id),document.querySelectorAll(".content-wrapper").length>0&&document.querySelectorAll(".content-wrapper")[0].addEventListener("scroll",e.handleScroll),window.onresize=()=>{e.setContentPaddingTop()}})}},i=(a("+roY"),a("KHd+")),r=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"health_questionnaire_view",staticClass:"health_questionnaire_view"},[a("div",{ref:"tabBars",staticClass:"tabBars"},[a("div",{staticClass:"firstTitleTabBar"},[a("span",{class:-1===t.active?"TabBarsNameFirstActive":"TabBarsFirstNames",on:{click:t.clickToTop}},[t._v("\n        "+t._s(t.qusTypeName)+"问卷\n      ")])]),t._v(" "),t._l(t.templateList,(function(e,s){return a("div",{key:e.name},[a("span",{class:t.active===s?"TabBarsNameActive":"TabBarsNames",on:{click:function(e){return t.clickMenu(s,"#questions-"+s)}}},[t._v("\n              "+t._s(e.name)+"\n            ")])])}))],2),t._v(" "),a("div",{staticClass:"divRightTitleDiv",style:{"padding-top":t.contentPaddingTop+"px"}},[t._m(0)]),t._v(" "),a("div",{staticClass:"clientInfoDiv"},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"90px","label-suffix":"："}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"姓名",prop:"clientId"}},[t._v("\n                         "+t._s(t._f("getResult")(t.formData.name))+"\n                      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[t._v("\n                          "+t._s(t._f("getResultGender")(t.formData.genderName))+"\n                      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出生日期",prop:"birthday"}},[t._v("\n                          "+t._s(t._f("getResultDate")(t.formData.birthday))+"\n                      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"身份证号",prop:"cardNo"}},[t._v("\n                          "+t._s(t._f("getResult")(t.formData.cardNo))+"\n                      ")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"民族",prop:"ethnicGroupName"}},[t._v("\n                          "+t._s(t._f("getResult")(t.formData.ethnicGroupName))+"\n                      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[t._v("\n                          "+t._s(t._f("getResult")(t.formData.mobile))+"\n                      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"学历",prop:"educationLevelName"}},[t._v("\n                          "+t._s(t._f("getResult")(t.formData.educationLevelName))+"\n                      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"职业类型",prop:"professionName"}},[t._v("\n                          "+t._s(t._f("getResult")(t.formData.professionName))+"\n                      ")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"婚姻",prop:"marriageName"}},[t._v("\n                          "+t._s(t._f("getResult")(t.formData.marriageName))+"\n                      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"工作单位",prop:"workUnitName"}},[t._v("\n                          "+t._s(t._f("getResult")(t.formData.workUnitName))+"\n                      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"现居地址",prop:"address"}},[t._v("\n                          "+t._s(t._f("getResult")(t.formData.address))+"\n                      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"问卷日期",prop:"questionDate"}},[t._v("\n                          "+t._s(t._f("getResult")(t.questionDate))+"\n                      ")])],1)],1)],1)],1),t._v(" "),t._l(t.answerList,(function(e,s){return a("div",{key:e.paramSort,staticClass:"questionAnswerDiv"},[a("div",{staticClass:"divRightTitleDiv articleTitle",attrs:{id:"questions-"+s}},[a("div",{staticClass:"divRightTitle"},[t._v(t._s(2===t.$route.params.qusType?"中医问卷":3===t.$route.params.qusType?"心理问卷":4===t.$route.params.qusType?"自定义问卷":e.name))])]),t._v(" "),t._l(e.questionAnswerDTOList,(function(e){return a("div",{key:e.subjectName,staticClass:"questionAnswer"},[a("p",{staticClass:"answerText"},[t._v(t._s(e.subjectName))]),t._v(" "),a("p",{staticClass:"questionsText"},[t._v("\n            "+t._s(e.optionsName)+"\n          ")])])}))],2)})),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{staticClass:"cancelBtn",attrs:{size:"small"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")])],1)],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"divRightTitle"},[this._v("查看-基本信息"),e("div",{staticClass:"titleBiao"})])}],!1,null,"e7dc809a",null);e.default=r.exports}}]);