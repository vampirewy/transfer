(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{"7QyT":function(t,e,s){"use strict";s("X91o")},BwKE:function(t,e,s){"use strict";s("Rb4p")},HYB1:function(t,e,s){"use strict";var a={name:"interventionTplOpen",props:{visible:Boolean,value:{default:()=>[]},clientIds:{default:()=>[]},propsType:{default:""}},data:()=>({formData:{},params:{keywords:"",pageNo:1,pageSize:5,total:0},tableData:[],multipleSelection:[],map:{},selectRadio:""}),watch:{selectRadio(t){const e=this.tableData.filter(e=>e.id===t);this.$emit("change",e.length>0?e[0]:null)}},methods:{handleRowClick(t){this.$emit("change",t)},handleCurrentChange(t){this.search(t)},handleSizeChange(t){this.params.pageSize=t,this.search()},cancel(){this.$emit("cancel")},submit(){this.$emit("change",[...this.multipleSelection]),this.multipleSelection=[],this.$refs.multipleTable.clearSelection()},fetch(){console.log(this.propsType),"doctor"===this.propsType?this.$api.userFollowInterface.healthDoctorList({pageNo:this.params.pageNo,pageSize:5,keywords:this.params.keywords,clientIds:this.clientIds}).then(({data:t})=>{console.log(t.data),this.params.total=t.data.total,this.tableData=t.data.data,this.tableData.forEach(t=>{this.$set(this.map,t.id,t)}),console.log(this.map)}):this.$api.systemManageInterface.userList({pageNo:this.params.pageNo,pageSize:5,search:this.params.keywords}).then(({data:t})=>{this.params.total=t.data.total,this.tableData=t.data.data,this.tableData.forEach(t=>{this.$set(this.map,t.id,t)}),console.log(this.map)})},search(t=1){this.params.pageNo=t,this.fetch()},reset(){this.params.keywords="",this.params.pageNo=1,this.fetch()},handleSelectionChange(t){this.multipleSelection=t,this.$emit("change",[...this.multipleSelection])}},mounted(){this.fetch()}},i=(s("oQud"),s("KHd+")),o=Object(i.a)(a,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"abnormal-popoper"},[a("div",{staticClass:"divTop",staticStyle:{margin:"-15px 0 15px 0"}},[a("div",{staticClass:"searchCondition"},[a("div",{staticClass:"searchLeft"},[a("div",{staticClass:"searchInputFormItem"},[a("el-input",{attrs:{placeholder:"输入姓名搜索"},model:{value:t.params.keywords,callback:function(e){t.$set(t.params,"keywords",e)},expression:"params.keywords"}}),t._v(" "),a("span",{staticClass:"searchBtnImgSpan",on:{click:function(e){return t.search(1)}}},[a("img",{staticClass:"searchBtnImg",attrs:{src:s("RQrH")}})])],1)]),t._v(" "),a("div",{staticClass:"searchRight"},[a("div",{staticClass:"buttones"},[a("div",{staticClass:"searchFor",on:{click:function(e){return t.search(1)}}},[a("img",{attrs:{src:s("nc5h"),alt:""}})]),t._v(" "),a("div",{staticClass:"resetAll",on:{click:t.reset}},[t._v("重置")])])])])]),t._v(" "),a("el-table",{ref:"multipleTable",staticClass:"openTable",attrs:{data:t.tableData,align:"center"},on:{"selection-change":t.handleSelectionChange,"row-click":t.handleRowClick}},[a("el-table-column",{attrs:{width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.row.id},model:{value:t.selectRadio,callback:function(e){t.selectRadio=e},expression:"selectRadio"}},[t._v(" ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"realName"}}),t._v(" "),a("el-table-column",{attrs:{label:"启用状态",prop:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s("doctor"===t.propsType||1===e.row.state?"启用":"未启用"))])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev,pager,next,jumper,total,sizes","page-sizes":[5],"pager-count":3,total:t.params.total,"page-size":t.params.pageSize,"current-page":t.params.pageNo},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)}),[],!1,null,"84f38f74",null);e.a=o.exports},RQrH:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAFYklEQVR4Xu2ZUWgcVRSGz5nZXbU267ZIbaKimAqtrfqgWEUiaqAPFcG2kD6oqNXcmWwIisU8SKCDxZcYGjVsZu7FvpWCAbEIVWvTUFFa7aPSClottZKQFjFR1CabnSNT7sgQNrubvTNTCjevc+8///nmv2fOThD0X00CqPnUJqAB1UmIBqQBqTURnSCdIJ0gNQI6QWr8dA/SCdIJUiOgE6TGT/cgnSCdIDUCOkFq/HQP0gnSCVIjoBOkxu+q9SDHcTKTk5MPAMCDAHALIrYg4iwA/AoAp1zXPY2IpFae+u7UARWLxQ0LCwt9APAcALQsVQIiniGi4ba2tgOO41xWL7U5hdQAFYvFlZVKZS8RBXDMRu0i4kUAeJNzvr/RPXGuSwVQb2/vHeVy+TAAbKxi/hwinieiGQBYg4jriGjN4nWI+F5nZ+furq6uSpwA6mklDkjCOQkArREzs4i4zzTNg6Ojo2ejJokILct6CBG7iejFaNoQ8fNcLvfMyMjIXL3C4rqeKCB5rE4S0abQMCJ+nMlkukul0u/1iujt7d1YLpc/jCYPEd/hnPfX2xvX9UQBWZY1TESvRcwOc853L+ft1N/f3zI7O/sJET0e6CCib5pmx+jo6Im4INTSSQyQfFt9Hx6RIDme5+1YDpzQeE9Pz6pKpXIKANZJSD/lcrl70zhqiQGyLKtEREVZ5Gw2m21v5Fgt9TRt237S9/1jkevPCiEOJp2iRAA5jpObmpq6RER5+cT3cM7fUi3GsqxxIuqUmkc551tUNevtTwQQY2wzAHwT3jyTydy9+G1Vz1i167Zt7/J9/8o8hIj/tra2FhzHmW9Gq9E9iQCyLKuPiN6XJs4JIe5q1FCtdbZt3+r7/m/hGtM073dd97s4tJfSSApQMDEPyCd9nHP+RBxFBDOSbdvzRJQJ9EzT3Oq67mdxaKcN6F0ielXe9JAQYltcRTDGgvlptdTbJoQ4FJd2NZ1EEsQY2wMAjrzhCSHEo3EUwRjLAkAwRV/xjYhbOOdH49BOO0EvE9EHsoiLnuetbWb+WWyaMbYeAH6I9KB213V/ueYAySHxTMT4w0KIb1ULYYy9AQCDUmeGc746DvC1fCVyxIIbMsYuAMBtMkX7OeevqAAaGxszx8fHg8l8g9Q8wDl/XkWzkb2JAbIsa4CI9koTFUS8j3MeTVUj/v5fY9t2t+/7IrKpQwjx9bJEmlicGCDG2M0AEHzKuEn6Ol0oFB4ZHBz8a7k+bdveRETBV4GVMj1jnPOdy9VpZn1igAIzlmXZROSGxhDxuGEY213X/aNRsxLOp0R0u9xzOZvNri+VSucb1VBZlyggOdh9RETROeisYRiW53kTtYwHPWdiYmIXEe0LkxMmMZ/Pbx4aGvpbpfBG9yYKKDDhOM71U1NTR4josagpRDyGiMGv8SOu604GbyM557QDwNMA8FLYkKsU82U+n38qDUiJAwqK6+vru25ubo4DwAvVnhwiLhDRnwCwKhwCF60rA8CPi75ppwIpFUBhsbZt7yCiISK6s+GIIwbN2QKAnxHxcPhlUe5PHFKqgMI0zc/Pbw8+yCNiBxHdUAXWJUT8wjAM7rruV+F1xtiKtCGlDigKI/jv6vT09D2VSmWtYRg3+r4/k8lkLpRKpSAtVf+rmjakqwqo0WO2eN1SkABgqxDin2Z1q/bHOMXS1KoGyTCM1z3PG47TxzWZoKV6kmEYA57nva0BRQgESQp+GwPAikKhMNLMT5laQK/pBMWZlKW0NKA6lDUgDUjtIOoE6QTpBKkR0AlS46d7kE6QTpAaAZ0gNX66B+kE6QSpEdAJUuOne5BOkE6QGgGdIDV+/wGPpfdYpoU8PAAAAABJRU5ErkJggg=="},Rb4p:function(t,e,s){},Uosx:function(t,e,s){},X91o:function(t,e,s){},nc5h:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABQCAYAAACK5CKQAAAHJ0lEQVR4Xu2deVQVVRzHv/NYHiCCiEtIooBIIi6A55THDUOOomkCjzRbJHdNS01NgWNmJpppKsfj0VJzyxBUMo8aZuQuGQ8XKHEXQRYRFxBUHm86d5CRh894y3WGg/f+xXtzf1/u7zO/O3eZeb/hoKcEjPvbCsXZQ7UcPxRAN4BvBR72+uo25O84cCXg+JvgcYpXIMnRx/mXP+f11ejzmav9pX/EjlAAS3ie92zIkEzzjbsIDjPSE8J317YXQc6bxyt2Z+5axPPamab9k5fISsHFquPDojmO46u9FkH6R+z8hkE0PBg4cAvVieHROiBJd+Z5fqfhMqwmIcBZKAar48P2CH+TgYW/c/1fdk00Pjg4DlkOHZ19yQDEBah2Rmih3W68DLMgBBQKhKZtVyVxfhE7toLnRzAsJhPYmJ6oiiQgs8Dz7U2WYYaZ6YkqX84vIrHkZZxsUzv/HIrTE1TOnJ8qUZwLURN/iYQ4DhXqBJU1A2nmSWcgzQQoTsRZRNIhySKSDkcwkAwkJQKUZFhEMpCUCFCSYRHJQFIiQEmGRSQDSYkAJRkWkQwkJQKUZOplRFpacOjg4QQfTyc0dVTCzsYSJWUVyC8qQ8bFYlzJKaHkPj2ZegXS49XGGB7SDgN7ucHO1vK5Xl7Kvoctey5i35EbqNBo6dEwQ6legCQR9/G7HTFsgCcUimce+niue7fvPsSKLeew51C2GQjomMoOslULO8RF9YC7q8MzHuUUlCK/qBwlDx6jqaMN3F6xh5Oj8pl6m3ZfEIDyMu7xywrStUUjbFwYKECqLgTa5l8vYv/RG8gpeKADjeOATl5NERrkjsGBbXSi93BaHmZ8ewIajTw0ZQPZyNYSm2L76kTigRM5+HqtGvdLK+rsb+3cHLB4+us69ut2nseqbZl12r6ICrKBnD26K94Z8PRBtx+TsrBya4ZRPtrbWWLF7B7w69BMsKus5BEZk4LMS3eM0qFRWRaQXm4O2Lakn9g1k4/nYPZ3qSb506SxNTbHvgnXlo0E+6u59zHss9+hqZS2i8sCMma8P8L6uQuO3y99jMGT96PkQd3d+Xmku3dpiVUxPcXDM5eexMGTuSadGFONJAdpbaVAyvrBsLWpmifG/ZSBDbuyTG2/aPf9l70R4NNc+HwkLQ+fLjputqYxApKD7PqaM9Z/FSi2cdDEfcgrKjOmzXrrhge7I3qcv3CsrFyDPpG7UamVrntLDvL9t7wwfWRnweFruSUIm5psNkQiQOaje1aFiFrhU5NxNVe6paTkIKe854uPhnoLDp88U4BJC45SAWmh4JC6LVQcwCbMP4K/zhVS0TZERHKQNac9ZN74+TLTRmt9zh3ZNASNbK2EQ1MWHsOx9HxDGFCpIznIScN9MCa8g9D4tMxbGDvvMBVHlNYKnNhKfohRVcZ+cQhp/xRR0TZERHKQqmB3RD0ZFAqLyzFg/F5D2llnHTI3jV8aLNYLmbAXBbfL67SjVUFykLUdHjHrIM5fvWu2P6NCvTF5hK+gc+f+IwSNFp6Nl6xIDpJ4lrx2EJo5VW1UJPx2GbE/nDbLYTLQ7FgeDDeXxoJO0h/XMH91mlmaxhrLAnLiMB+MVVVdJzWVWqimHUB2XqmxbRfrR/T3wJwxfsJnnucxMioFGRKvt2UB6dxEiaSV/cUR9sL1e4iMTsHDR5VGw2zf1hEbFgTCVlm1Utp7OBsxcaeM1jHXQBaQpNHDQzwxa1RXsf2pZwswc2kqSssMX3N7tXFE3JweaOFsK+iUP9Ig9JNkkEFM6iIbSLJJu2xWd/Tp1kr0+frNEny1Rg11HdMWhQIIC3LHtA87i2t2InLh2l2MjE7Bo8fS38eRDSRx3MbaAqvn9kIXb2edADpxpkDYIScrn1t3HgrHyJ3F1i726B3ggrf7tkVb16qBpXZJPVeIqYuOSQ5TVpAEAtkNmjshAAN7u+kFQ+4Skk0IB3srcCSMa5WKCi1u5JfCo/XTez5ywJQdZDWX4O6umPpBZ7g0tzP48nb6fBEWrFELu0dxUT3h/2SnnAhIDbPegKyOzqA3XDEksA26eDeDjdLiGajkFuzJs4VITL6CM1m3xeO2NhaywqxXIGtSI5Ns0l2dHZXCgEJ20smSr/adxZo2csKstyAN7t+1KsoFs8GBJFz1wVy87jTi91829fzUadcgQeqDuXzzOZAnMl5UabAghXmq0gKqYA9YWirw875LJi1BDQXfoEEaCoFGPQaSBkWSFIT9qJMOSQaSDkcWkZQ4MpAMJC0ClHTYNZKBpESAkgyLSAaSEgFKMiwiGUhKBCjJsIikDpIlmTMPqZhkjqU9NAskx3EZ6oTwTiwRp1kYBeOqRJwsNax5JMXUsCxZsekgdZIVExmWPts0mDrps6slWEJ342DqTehOJNgrBowA+X+vGHgameylF89HasBLL2oas9ewVNEw5jUs/wHOO51+IyjM/gAAAABJRU5ErkJggg=="},nsc0:function(t,e,s){"use strict";s.r(e);var a=s("HYB1"),i={name:"ClientEdit",props:["propsType","propsQuestionSubjectist","propsQuestionAnswerList"],data:()=>({active:0,title:"",qusTypeName:"",questionSubjectist:[],formData:{answerList:[],createTime:new Date,mobile:""},questions:[],answerList:[],answerOptionsList:[],allQuestion:[],answerMap:{},answerOptionMap:{},chooseNoSubject:[],searchBarFixed:!1,rules:{}}),watch:{propsQuestionSubjectist(t){this.questionSubjectist=t,3===this.propsType&&(this.formData.answerList=[...this.propsQuestionAnswerList]),this.onTypeChange()}},methods:{clickMenu(t,e){this.active=t;const s=this.$el.querySelector(e);document.documentElement.scrollTop=s.offsetTop-140},handleClick(){},onAnswerChange(t,e){const s=["e02","e03","e04","e05","e06"],a=["f02","f03","f04","f05","f06"];let i=[];if("eeeee000001"===t.code){i=this.questions.find(t=>"吸烟情况"===t.name).questionSubjectDTOList.filter(t=>s.find(e=>t.code===e))}else if("fffff000001"===t.code){i=this.questions.find(t=>"饮酒情况"===t.name).questionSubjectDTOList.filter(t=>a.find(e=>t.code===e))}!i.length||"293"!==e&&"322"!==e?i.length&&i.forEach(t=>this.$set(t,"disabled",!1)):i.forEach(t=>{"e05"!==t.code&&this.$set(t,"disabled",!0)})},onCheckboxChange(t,e=[]){const s=t.questionSubjectOptionList,a=s.find(t=>"n"===t.code);if(a){const i=e.find(t=>t===a.id);i?(s.filter(t=>t!==a).forEach(t=>this.$set(t,"disabled",!0)),this.answerMap[t.id]=[i]):s.forEach(t=>this.$set(t,"disabled",!1))}},onReasonChange(t){const e=this.answerOptionsList.find(e=>e.id===t),s=this.questions.findIndex(t=>t.id===e.subjectId);this.answerList.splice(s,1,{optionCode:e.code,optionId:e.id,subjectCode:e.subjectCode,subjectId:e.subjectId})},fetch(t,e){this.$api.health.getDetail(t).then(({data:t})=>{200===t.code&&(this.formData=t.data,2===t.data.gender?this.formData.genderName="女":1===t.data.gender?this.formData.genderName="男":this.formData.genderName="未知",this.answerList=[...this.formData.answerList],this.onTypeChange(e))})},groupBy(t){const e=this.answerMap;t.forEach(t=>{("n"===t.optionCode||"e01"===t.subjectCode&&"1"===t.optionCode||"f01"===t.subjectCode&&"1"===t.optionCode)&&this.chooseNoSubject.push(t.subjectCode),t.subjectId&&!e[t.subjectId]&&(e[t.subjectId]=[]);const s=this.answerOptionMap[t.optionId];1===s.subjectType?e[t.subjectId].splice(0,1,{optionId:t.optionId}):3===s.subjectType?e[t.subjectId][0].optionCode=t.optionCode:e[t.subjectId].push(t.optionId)}),this.$set(this,"answerMap",e)},setChooseNoSubject(){this.questions.forEach(t=>{t.questionSubjectDTOList.forEach(t=>{-1!==this.chooseNoSubject.indexOf(t.code)&&("e01"===t.code&&this.onAnswerChange(t,"293"),"f01"===t.code?this.onAnswerChange(t,"322"):t.questionSubjectOptionList.filter(t=>"n"!==t.code).forEach(t=>this.$set(t,"disabled",!0)))})})},onTypeChange(){this.$set(this,"answerOptionsList",[]),this.questionSubjectist&&this.questionSubjectist.forEach(t=>{this.answerMap[t.id]||(this.$set(this.answerMap,t.id,[]),1===t.subjectType?this.answerMap[t.id].push({optionId:""}):3===t.subjectType&&(this.answerMap[t.id].push({optionCode:"",subjectType:3,subjectId:t.id}),t.questionSubjectOptionList.push({code:"",id:""}))),this.allQuestion.push(t),t.questionSubjectOptionList.forEach(e=>{3===t.subjectType?this.answerOptionMap[t.id]=e:this.answerOptionMap[e.id]=e,e.subjectType=t.subjectType,e.subjectId=t.id,e.subjectCode=t.code})}),console.log(this.answerOptionMap),console.log(this.formData.answerList),this.groupBy(this.formData.answerList)},removeSplice(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)},submit(){this.$set(this.formData,"answerList",[]),Object.keys(this.answerMap).forEach(t=>{this.answerMap[t]&&this.answerMap[t].length&&this.answerMap[t].forEach(t=>{let e;"string"==typeof t?e=this.answerOptionMap[t]||{}:3===t.subjectType?(e=this.answerOptionMap[t.subjectId]||{},e.code=t.optionCode):e=this.answerOptionMap[t.optionId]||{},this.formData.answerList.push({optionCode:e.code,optionId:e.id||e.subjectId,subjectCode:e.subjectCode,subjectId:e.subjectId})})}),this.formData.answerList=this.formData.answerList.filter(t=>t.optionId),console.log(this.formData.answerList),console.log(this.allQuestion);const t=[];if(this.allQuestion.forEach(e=>{let s=!1;this.formData.answerList.forEach(t=>{e.id===t.subjectId&&(s=!0)}),!1===s&&t.push(e.id)}),0!==t.length){const e=this.$el.querySelector("#questionitem-"+t[0]);return document.documentElement.scrollTop=e.offsetTop+60,this.$message.warning("请填写完整随访问卷"),!1}return this.formData.answerList},handleScroll(){const t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.querySelector("#intvTmpl_left").offsetTop;this.searchBarFixed=t>e-140&&t>140;document.querySelectorAll(".articleTitle").forEach((e,s)=>{t>=e.offsetTop-200&&(this.active=s)})}},destroyed(){window.removeEventListener("scroll",this.handleScroll)},mounted(){}},o=(s("BwKE"),s("KHd+")),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"health_questionnaire_edit"},[s("div",{staticClass:"health_questionnaire_form",class:{isFixedForm:!0===t.searchBarFixed}},[s("el-form",{ref:"form",staticClass:"health_questionnaire_form",attrs:{model:t.formData,"label-position":"top","label-suffix":"：","label-width":"90px",rules:t.rules}},[s("div",{staticClass:"container",class:{containerOtherCheckBox:1!==t.$route.params.qusType}},[s("div",[s("el-row",{staticClass:"health_questionnaire_formQus"},t._l(t.questionSubjectist,(function(e,a){return s("el-col",{key:e.id,attrs:{span:24,id:"questionitem-"+e.id}},[1===e.subjectType?s("el-form-item",{key:e.id,attrs:{label:a+1+". "+e.name+" (单选)"}},[t.answerMap[e.id]?s("el-radio-group",{attrs:{size:"small",disabled:e.disabled},on:{change:function(s){return t.onAnswerChange(e,s)}},model:{value:t.answerMap[e.id][0].optionId,callback:function(s){t.$set(t.answerMap[e.id][0],"optionId",s)},expression:"answerMap[item.id][0].optionId"}},t._l(e.questionSubjectOptionList,(function(e){return s("el-radio-button",{key:e.id,attrs:{label:e.id,value:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])})),1):t._e()],1):2===e.subjectType?s("el-form-item",{key:e.id,attrs:{label:a+1+". "+e.name+" (多选)"}},[s("el-checkbox-group",{attrs:{size:"small"},on:{change:function(s){return t.onCheckboxChange(e,s)}},model:{value:t.answerMap[e.id],callback:function(s){t.$set(t.answerMap,e.id,s)},expression:"answerMap[item.id]"}},t._l(e.questionSubjectOptionList,(function(e){return s("el-checkbox-button",{key:e.id,attrs:{label:e.id,disabled:e.disabled}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])})),1)],1):3===e.subjectType?s("el-form-item",{key:e.id,staticClass:"questionTextarea",attrs:{label:a+1+". "+e.name+" (填空)"}},t._l(e.questionSubjectOptionList,(function(a){return s("div",{key:a.id,staticStyle:{width:"100%",display:"flex","margin-bottom":"20px"}},[s("span",{staticStyle:{display:"inline-block",width:"85px"}},[t._v("填写答案：")]),t._v(" "),s("el-input",{attrs:{type:"textarea",rows:5,maxlength:100,disabled:3===t.propsType,"show-word-limit":"",placeholder:3!==t.propsType?"请输入":""},model:{value:t.answerMap[e.id][0].optionCode,callback:function(s){t.$set(t.answerMap[e.id][0],"optionCode","string"==typeof s?s.trim():s)},expression:"answerMap[item.id][0].optionCode"}})],1)})),0):t._e()],1)})),1)],1)])])],1)])}),[],!1,null,"48e408a5",null).exports,l={name:"followplanDetail",components:{ManagerList:a.a,QuestionEdit:n},data:()=>({labelPosition:"top",selectCheck:[],openCheckVisible:!1,checkClintIds:[],questionType:1,questionSubjectist:[],questionAnswerList:[],formGet:{planDate:"",planWay:"",planDoctorName:"",planTitle:"",planContent:"",startTime:""},form:{planDate:"",planWay:"",planDoctor:"",planDoctorName:"",planTitle:"",planContent:"",startTime:"",checkInput:1,templateQuestionId:"",templateQuestionName:"",batchNo:""},planWayList:[],rules:{planDate:[{required:!0,message:"请选择执行时间"}],planWay:[{required:!0,message:"请选择随访形式"}],planDoctorName:[{required:!0,message:"请选择干预人"}]}}),mounted(){this.onLoad(),this.questionType=this.$route.meta.type},methods:{onLoad(){this.getPlanWayList(),this.getDetail()},async getDetail(){const t={id:this.$route.params.id},e=await this.$api.userFollowInterface.getIntervenePlan(t),{data:s}=e.data;this.checkClintIds=[s.clientId],this.formGet.planDate=s.planDate,this.formGet.planWayName=s.planWayName,this.formGet.planUserName=s.planUserName,this.formGet.planTitle=s.planTitle,this.formGet.planContent=s.planContent,1===this.questionType?(this.form.planDate=s.planDate?s.planDate.split(" ")[0]:"",this.form.planWay=s.planWay,this.form.planTitle=s.planTitle,this.form.planDoctor=1,this.form.planDoctorName="csx"):3===this.questionType&&(this.form.planDate=s.executeTime?s.executeTime.split(" ")[0]:"",this.form.planWayName=s.executePlanWayName,this.form.planTitle=s.executePlanTitle,this.form.planDoctorName=s.executePlanUserName,this.form.planContent=s.executePlanContent),this.form.templateQuestionId=s.templateQuestionId,this.form.templateQuestionName=s.templateQuestionName,this.form.batchNo=s.batchTemplateQuestionDTO?s.batchTemplateQuestionDTO.batchNo:"",this.questionSubjectist=s.templateQuestionSubjectDtoList,this.questionAnswerList=s.questionAnswerDTOList||[],(this.form.templateQuestionId&&0===this.questionAnswerList.length&&3===this.questionType||!this.form.templateQuestionId)&&(this.form.checkInput=0)},async getPlanWayList(){const t=await this.$api.userFollowInterface.getIntervenePlanWayList(),{data:e}=t.data,s=e.map(t=>{const{id:e,name:s}=t;return{id:e,name:s}});this.planWayList=s},handlePopoperClose(){this.openCheckVisible=!1,this.form.planDoctor=this.selectCheck.id,this.form.planDoctorName=this.selectCheck.realName,this.selectCheck=[]},cancel(){this.$router.go(-1)}}},r=(s("7QyT"),Object(o.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"create-edit"},[s("el-row",[s("el-col",{staticStyle:{"border-right":"1px dashed #DDE0E6"},attrs:{span:24}},[s("div",{staticClass:"divRightTitleDiv"},[s("div",{staticClass:"divRightTitle",staticStyle:{"margin-top":"5px"}},[t._v("查看-随访计划信息\n          "),s("div",{staticClass:"titleBiao"})])]),t._v(" "),s("div",{staticClass:"ge"},[s("el-form",{staticClass:"form-inline inputCommon headerPlan",attrs:{inline:!1,model:t.formGet,"label-width":"85px"}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"随访时间："}},[s("span",[t._v(t._s(t._f("getResultDate")(t.formGet.planDate)))])])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"随访方式："}},[s("span",[t._v(t._s(t._f("getResult")(t.formGet.planWayName)))])])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"随访医生："}},[s("span",[t._v(t._s(t._f("getResult")(t.formGet.planUserName)))])])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"随访标题："}},[s("span",[t._v(t._s(t._f("getResult")(t.formGet.planTitle)))])])],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"随访内容："}},[s("span",[t._v(t._s(t._f("getResult")(t.formGet.planContent)))])])],1)],1)],1),t._v(" "),s("div",{staticClass:"divRightTitleDiv"},[s("div",{staticClass:"divRightTitle",staticStyle:{"margin-top":"5px"}},[t._v("随访记录信息\n            "),s("div",{staticClass:"titleBiao"})])]),t._v(" "),s("el-form",{ref:"form",staticClass:"form-inline inputCommon headerPlan",attrs:{inline:!1,model:t.form,"label-width":"85px",rules:t.rules}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"执行时间："}},[s("span",[t._v(t._s(t._f("getResultDate")(t.form.planDate)))])])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"随访形式："}},[s("span",[t._v(t._s(t._f("getResult")(t.form.planWayName)))])])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"干预人："}},[s("span",[t._v(t._s(t._f("getResult")(t.form.planDoctorName)))])])],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"随访标题："}},[s("span",[t._v(t._s(t._f("getResult")(t.form.planTitle)))])])],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"随访结果："}},[s("span",[t._v(t._s(t._f("getResult")(t.form.planContent)))])])],1)],1)],1),t._v(" "),t.form.templateQuestionId?s("div",{staticClass:"divRightTitleDiv"},[s("div",{staticClass:"divRightTitle",staticStyle:{"margin-top":"5px"}},[t._v("随访问卷\n            "),s("div",{staticClass:"titleBiao"})])]):t._e()],1)]),t._v(" "),s("el-col",{attrs:{span:24}},t._l(t.questionAnswerList,(function(e){return s("div",{key:e.subjectName,staticClass:"questionAnswer"},[s("p",{staticClass:"answerText"},[t._v(t._s(e.subjectName))]),t._v(" "),s("p",{staticClass:"questionsText"},[t._v("\n          "+t._s(e.optionsName)+"\n        ")])])})),0)],1),t._v(" "),s("div",{staticClass:"footer"},[s("el-button",{staticClass:"cancelBtn",attrs:{size:"small"},on:{click:t.cancel}},[t._v("返回")])],1)],1)}),[],!1,null,"2b2971f2",null));e.default=r.exports},oQud:function(t,e,s){"use strict";s("Uosx")}}]);