(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{"+wq0":function(e,t,a){"use strict";a.r(t);var s=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"divTitle"},[t("span",[t("img",{attrs:{src:a("OygJ"),alt:""}})]),this._v("\n        角色列表")])}],i={name:"RoleForm",components:{Permission:a("EFv+").a},props:{detail:{type:Boolean,default:!1},id:{type:[String,Number],required:!1,default:""}},data(){return{roleForm:{id:this.id,name:"",adminFlag:1,remark:"",menuIds:[]},roleRules:{name:[{required:!0,message:"角色名称不能为空"}],adminFlag:[{required:!0,message:"是否管理员不能为空"}]}}},mounted(){console.log(this.roleForm),this.id&&this.$api.systemManageInterface.roleDetail(this.id).then(e=>{const{data:t}=e;this.roleForm=Object.assign(this.roleForm,t.data||{}),void 0!==this.roleForm.adminFlag&&(this.roleForm.adminFlag=this.roleForm.adminFlag?1:0)})},methods:{submit(){this.$refs.roleForm.validate(e=>{e&&this.saveRole()})},saveRole(){const e=this.roleForm.id?"editRole":"addRole",{id:t,name:a,remark:s,adminFlag:i,menuIds:r}=this.roleForm;this.$api.systemManageInterface[e]({id:t,name:a,remark:s,adminFlag:i,menuIds:r}).then(()=>{this.$message.success("操作成功"),this.$emit("afterSubmit")})}}},r=(a("dHgW"),a("KHd+")),l=Object(r.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"role-form"},[a("el-form",{ref:"roleForm",class:{"role-form inputCommon":!0,"role-detail-form":e.detail},attrs:{model:e.roleForm,rules:e.roleRules,"label-width":"110px","label-suffix":"："}},[a("div",{staticClass:"title"},[e._v(e._s(e.detail?"查看":e.id?"编辑":"新增")+"角色")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{attrs:{type:"text",disabled:e.detail,placeholder:"请输入",maxlength:"30"},model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否管理员",prop:"adminFlag"}},[a("el-radio-group",{attrs:{disabled:e.detail},model:{value:e.roleForm.adminFlag,callback:function(t){e.$set(e.roleForm,"adminFlag",t)},expression:"roleForm.adminFlag"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"角色描述",prop:"remark"}},[a("el-input",{attrs:{disabled:e.detail,type:"textarea",rows:4,placeholder:e.detail?"":"请输入",maxlength:"300","show-word-limit":""},model:{value:e.roleForm.remark,callback:function(t){e.$set(e.roleForm,"remark",t)},expression:"roleForm.remark"}})],1),e._v(" "),a("div",{staticClass:"title permission-title"},[e._v("权限管理")]),e._v(" "),a("permission",{attrs:{data:e.roleForm.menuIds,disabled:e.detail,isFilter:e.detail},on:{change:function(t){return e.roleForm.menuIds=t}}}),e._v(" "),a("div",{staticClass:"form-buttons"},[a("el-button",{staticClass:"cancelBtn",attrs:{size:"small"},on:{click:function(t){return e.$emit("cancel")}}},[e._v("\n        "+e._s(e.detail?"返回":"取消")+"\n      ")]),e._v(" "),e.detail?e._e():a("el-button",{staticClass:"sureBtn",attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1)}),[],!1,null,"8e69a522",null).exports,n=a("IZzX"),o=a("M07H"),c=a("aVcm"),d=a("5i/l"),m=a.n(d),u={name:"Role",components:{RoleForm:l,QueryPage:n.a,Search:o.a,OperateButton:c.a},data:()=>({viewIndex:1,name:"",tableData:[],total:0,currentPage:1,pageSize:15,currentId:""}),activated(){this.queryList()},methods:{search(){this.currentPage=1,this.queryList()},reset(){this.currentPage=1,this.name="",this.queryList()},queryList(){this.$api.systemManageInterface.rolePageList({pageNo:this.currentPage,pageSize:15,name:this.name}).then(e=>{const{data:t}=e,a=t.data||{};this.tableData=a.data||[],this.total=a.total||0})},add(){this.viewIndex=2,this.currentId=""},detail(e){this.viewIndex=4,this.currentId=e.id},edit(e){this.viewIndex=3,this.currentId=e.id},deleteRole(e){this.$confirm(`<div class="delete-text-content"><img class="delete-icon" src="${m.a}"/><span>该操作无法撤销，是否确认删除?</span></div>`,"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",customClass:"message-box-customize",showClose:!0}).then(()=>{this.$api.systemManageInterface.deleteRole(e.id).then(()=>{this.$message.success("操作成功"),this.queryList()})}).catch(()=>{})},handleCurrentChange(e){this.currentPage=e,this.queryList()},handleAfterSubmit(){this.viewIndex=1,this.queryList()}}},h=(a("xpdc"),Object(r.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"role-page"},[1===e.viewIndex?[s("div",{staticClass:"divTop"},[e._m(0),e._v(" "),s("div",{staticClass:"searchCondition"},[s("div",{staticClass:"searchLeft"},[s("div",{staticClass:"searchInputFormItem"},[s("el-input",{attrs:{placeholder:"输入角色名称搜索"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),s("span",{staticClass:"searchBtnImgSpan",on:{click:e.search}},[s("img",{staticClass:"searchBtnImg",attrs:{src:a("RQrH")}})])],1)]),e._v(" "),s("div",{staticClass:"searchRight"},[s("div",{staticClass:"buttones"},[s("div",{staticClass:"searchFor",on:{click:e.search}},[s("img",{attrs:{src:a("nc5h"),alt:""}})]),e._v(" "),s("div",{staticClass:"resetAll",on:{click:e.reset}},[e._v("重置")])])])])]),e._v(" "),s("div",{staticClass:"topbottomborder"}),e._v(" "),s("div",{staticClass:"divRightTitleDiv"},[s("div",[e.getAccess("role_list_add")?s("el-button",{staticClass:"btn-new btnAdd",staticStyle:{margin:"16px 0"},attrs:{size:"small"},on:{click:e.add}},[s("img",{attrs:{src:a("R07p")}}),e._v("新增")]):e._e()],1)]),e._v(" "),s("el-table",{attrs:{data:e.tableData,align:"center"}},[s("el-table-column",{attrs:{prop:"name",label:"角色名称","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"remark",label:"角色描述","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"memberNum",label:"成员数量","show-overflow-tooltip":""}}),e._v(" "),e.getAccess("role_list_view")||e.getAccess("role_list_edit")||e.getAccess("role_list_delete")?s("el-table-column",{attrs:{prop:"id",label:"操作",width:"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.getAccess("role_list_view")?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.detail(t.row)}}},[e._v("查看")]):e._e(),e._v(" "),e.getAccess("role_list_edit")?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),e.getAccess("role_list_delete")?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteRole(t.row)}}},[e._v("删除")]):e._e()]}}],null,!1,1439041186)}):e._e()],1),e._v(" "),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next, jumper, total, sizes",total:e.total,"page-sizes":[15],"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.handleCurrentChange}})]:1!==e.viewIndex?[s("role-form",{attrs:{id:e.currentId,detail:4===e.viewIndex},on:{cancel:function(t){e.viewIndex=1},afterSubmit:e.handleAfterSubmit}})]:e._e()],2)}),s,!1,null,"37559a92",null));t.default=h.exports},"0jLl":function(e,t,a){},"5IYs":function(e,t,a){},IZzX:function(e,t,a){"use strict";var s={name:"QueryPage",data:()=>({hideQuery:!1}),methods:{expand(){this.hideQuery=!this.hideQuery}}},i=(a("RHUu"),a("KHd+")),r=Object(i.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"query-page"},[a("div",{staticClass:"left"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideQuery,expression:"!hideQuery"}],staticClass:"query-content"},[e._t("left"),e._v(" "),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.$emit("reset")}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.$emit("search")}}},[e._v("搜索")])],1)],2),e._v(" "),a("div",{class:{"put-away":!0,"query-hide":e.hideQuery},on:{click:e.expand}},[e._v("\n      "+e._s(e.hideQuery?"展开":"收起")+"\n    ")])]),e._v(" "),a("div",{class:{right:!0,"query-hide":e.hideQuery}},[e._t("right")],2)])}),[],!1,null,"7b3a3e7c",null);t.a=r.exports},M07H:function(e,t,a){"use strict";var s={name:"Search"},i=(a("hDp5"),a("KHd+")),r=Object(i.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"search-component"},[this._m(0),this._v(" "),this._t("default"),this._v(" "),t("div",{staticClass:"ge"})],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"search-title"},[t("span",[this._v("搜索")])])}],!1,null,"1f1475af",null);t.a=r.exports},RHUu:function(e,t,a){"use strict";a("eXrY")},RQrH:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAFYklEQVR4Xu2ZUWgcVRSGz5nZXbU267ZIbaKimAqtrfqgWEUiaqAPFcG2kD6oqNXcmWwIisU8SKCDxZcYGjVsZu7FvpWCAbEIVWvTUFFa7aPSClottZKQFjFR1CabnSNT7sgQNrubvTNTCjevc+8///nmv2fOThD0X00CqPnUJqAB1UmIBqQBqTURnSCdIJ0gNQI6QWr8dA/SCdIJUiOgE6TGT/cgnSCdIDUCOkFq/HQP0gnSCVIjoBOkxu+q9SDHcTKTk5MPAMCDAHALIrYg4iwA/AoAp1zXPY2IpFae+u7UARWLxQ0LCwt9APAcALQsVQIiniGi4ba2tgOO41xWL7U5hdQAFYvFlZVKZS8RBXDMRu0i4kUAeJNzvr/RPXGuSwVQb2/vHeVy+TAAbKxi/hwinieiGQBYg4jriGjN4nWI+F5nZ+furq6uSpwA6mklDkjCOQkArREzs4i4zzTNg6Ojo2ejJokILct6CBG7iejFaNoQ8fNcLvfMyMjIXL3C4rqeKCB5rE4S0abQMCJ+nMlkukul0u/1iujt7d1YLpc/jCYPEd/hnPfX2xvX9UQBWZY1TESvRcwOc853L+ft1N/f3zI7O/sJET0e6CCib5pmx+jo6Im4INTSSQyQfFt9Hx6RIDme5+1YDpzQeE9Pz6pKpXIKANZJSD/lcrl70zhqiQGyLKtEREVZ5Gw2m21v5Fgt9TRt237S9/1jkevPCiEOJp2iRAA5jpObmpq6RER5+cT3cM7fUi3GsqxxIuqUmkc551tUNevtTwQQY2wzAHwT3jyTydy9+G1Vz1i167Zt7/J9/8o8hIj/tra2FhzHmW9Gq9E9iQCyLKuPiN6XJs4JIe5q1FCtdbZt3+r7/m/hGtM073dd97s4tJfSSApQMDEPyCd9nHP+RBxFBDOSbdvzRJQJ9EzT3Oq67mdxaKcN6F0ielXe9JAQYltcRTDGgvlptdTbJoQ4FJd2NZ1EEsQY2wMAjrzhCSHEo3EUwRjLAkAwRV/xjYhbOOdH49BOO0EvE9EHsoiLnuetbWb+WWyaMbYeAH6I9KB213V/ueYAySHxTMT4w0KIb1ULYYy9AQCDUmeGc746DvC1fCVyxIIbMsYuAMBtMkX7OeevqAAaGxszx8fHg8l8g9Q8wDl/XkWzkb2JAbIsa4CI9koTFUS8j3MeTVUj/v5fY9t2t+/7IrKpQwjx9bJEmlicGCDG2M0AEHzKuEn6Ol0oFB4ZHBz8a7k+bdveRETBV4GVMj1jnPOdy9VpZn1igAIzlmXZROSGxhDxuGEY213X/aNRsxLOp0R0u9xzOZvNri+VSucb1VBZlyggOdh9RETROeisYRiW53kTtYwHPWdiYmIXEe0LkxMmMZ/Pbx4aGvpbpfBG9yYKKDDhOM71U1NTR4josagpRDyGiMGv8SOu604GbyM557QDwNMA8FLYkKsU82U+n38qDUiJAwqK6+vru25ubo4DwAvVnhwiLhDRnwCwKhwCF60rA8CPi75ppwIpFUBhsbZt7yCiISK6s+GIIwbN2QKAnxHxcPhlUe5PHFKqgMI0zc/Pbw8+yCNiBxHdUAXWJUT8wjAM7rruV+F1xtiKtCGlDigKI/jv6vT09D2VSmWtYRg3+r4/k8lkLpRKpSAtVf+rmjakqwqo0WO2eN1SkABgqxDin2Z1q/bHOMXS1KoGyTCM1z3PG47TxzWZoKV6kmEYA57nva0BRQgESQp+GwPAikKhMNLMT5laQK/pBMWZlKW0NKA6lDUgDUjtIOoE6QTpBKkR0AlS46d7kE6QTpAaAZ0gNX66B+kE6QSpEdAJUuOne5BOkE6QGgGdIDV+/wGPpfdYpoU8PAAAAABJRU5ErkJggg=="},dHgW:function(e,t,a){"use strict";a("llPZ")},eXrY:function(e,t,a){},hDp5:function(e,t,a){"use strict";a("5IYs")},llPZ:function(e,t,a){},nc5h:function(e,t){e.exports="data:image/png;base64,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"},xpdc:function(e,t,a){"use strict";a("0jLl")}}]);