(window.webpackJsonp=window.webpackJsonp||[]).push([[35,122],{"+uur":function(t,e,a){"use strict";var s={name:"ServiceOpen",props:["clientId"],data:()=>({tableData:[],total:0,currentPage:1,pageSize:5,selectRadio:""}),mounted(){this.queryList()},methods:{handleRowClick(t){console.log(t),this.$emit("change",t)},handleCurrentChange(t){this.currentPage=t,this.queryList()},handleSizeChange(t){this.pageSize=t,this.currentPage=1,this.queryList()},search(){this.currentPage=1,this.queryList()},async queryList(){const t=await this.$api.health.fetch({questionType:1,clientId:this.clientId,pageNo:this.currentPage,pageSize:this.pageSize}),{data:e}=t.data;e&&(this.tableData=e.data||[],this.total=e.total)}}},i=(a("Cjuv"),a("KHd+")),l=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"medical-history-select-user"},[a("el-table",{attrs:{data:t.tableData,align:"center"},on:{"row-click":t.handleRowClick}},[a("el-table-column",{attrs:{width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.row.id},model:{value:t.selectRadio,callback:function(e){t.selectRadio=e},expression:"selectRadio"}},[t._v(" ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"问卷类型","min-width":"25%","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("生活方式问卷")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"填写日期","min-width":"50%","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.createTime?a("span",[t._v(t._s(e.row.createTime.split(" ")[0]||"-"))]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev,pager,next,jumper,total,sizes","page-sizes":[5],"pager-count":5,total:t.total,"page-size":t.pageSize,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)}),[],!1,null,"3cacd30a",null);e.a=l.exports},"/A+J":function(t,e,a){"use strict";a("8PXg")},"26yX":function(t,e,a){},"3myH":function(t,e,a){"use strict";a("peRi")},"62KT":function(t,e,a){},"6dXJ":function(t,e,a){},"6gP6":function(t,e,a){t.exports=a.p+"static/images/compress/manHead.2054a28.png"},"8PXg":function(t,e,a){},"8Uo8":function(t,e,a){},BlSf:function(t,e,a){},Cjuv:function(t,e,a){"use strict";a("UBcn")},QG32:function(t,e,a){"use strict";a("jr3o")},SIRr:function(t,e,a){},UBcn:function(t,e,a){},Vf6I:function(t,e,a){t.exports=a.p+"static/images/compress/womanHead.f68a6b1.png"},ZVhf:function(t,e,a){"use strict";a("6dXJ")},d9IU:function(t,e,a){"use strict";a("wSk1")},dbVG:function(t,e,a){"use strict";a("26yX")},eNV1:function(t,e,a){"use strict";a("SIRr")},fFLi:function(t,e){t.exports="data:image/png;base64,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"},fL2F:function(t,e,a){},giZY:function(t,e,a){"use strict";a("62KT")},"h+sJ":function(t,e,a){"use strict";a("8Uo8")},htmV:function(t,e,a){},jr3o:function(t,e,a){},kwm6:function(t,e,a){"use strict";a.r(e);var s=a("fFLi"),i=a.n(s),l=a("o4Pm"),n=a.n(l),o=a("6gP6"),r=a.n(o),c=a("Vf6I"),u=a.n(c),p={name:"ClientInfo",data:()=>({manIcon:i.a,womanIcon:n.a,manHead:r.a,womanHead:u.a,formData:{name:"",gender:"",age:"",workUnitName:"",mobile:"",gridName:"",doctorListName:"",tagList:[]}}),mounted(){this.getClientUserInfo(this.$route.params.id)},methods:{getClientUserInfo(t){this.$api.userManagerInterface.getDetail(t).then(({data:t})=>{200===t.code&&(console.log(t.data),this.setData(t.data))})},setData(t){this.formData.name=t.name,this.formData.age=t.age,this.formData.gender=t.gender,this.formData.mobile=t.mobile,this.formData.gridName=t.gridName,this.formData.workUnitName=t.workUnitName;const e=[];t.userList.length>0&&(t.userList.forEach(t=>{e.push(t.realName)}),this.formData.doctorListName=e.join("、"));const a=[];t.tagList.length>0&&(t.tagList.forEach(t=>{a.push(t.tag)}),this.formData.tagList=a)}}},m=(a("3myH"),a("KHd+")),d=Object(m.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"containerInfo"},[a("span",{staticClass:"el-avatar-img"},[a("img",{attrs:{src:2===t.formData.gender?t.womanHead:t.manHead}})]),t._v(" "),a("div",{staticClass:"containerInfoText"},[a("div",{staticClass:"containerInfoTextTop"},[a("span",{staticClass:"span1"},[t._v(t._s(t._f("getResult")(t.formData.name)))]),t._v(" "),a("img",{attrs:{src:2===t.formData.gender?t.womanIcon:t.manIcon}}),t._v(" "),a("span",{staticClass:"span2"},[t._v(t._s(t._f("getResult")(t.formData.age))+"岁")])]),t._v(" "),a("div",{staticClass:"containerInfoTextCenter"},[a("div",{staticClass:"containerInfoTextCenterOne"},[a("p",[t._v("企业单位：")]),t._v(" "),a("span",[t._v(t._s(t._f("getResult")(t.formData.workUnitName)))])]),t._v(" "),a("div",{staticClass:"containerInfoTextCenterOne"},[a("p",[t._v("联系电话：")]),t._v(" "),a("span",[t._v(t._s(t._f("getResult")(t.formData.mobile)))])]),t._v(" "),a("div",{staticClass:"containerInfoTextCenterOne"},[a("p",[t._v("人员类别：")]),t._v(" "),a("span",[t._v(t._s(t._f("getResult")(t.formData.gridName)))])]),t._v(" "),a("div",{staticClass:"containerInfoTextCenterOne"},[a("p",[t._v("管理医生：")]),t._v(" "),a("span",[t._v(t._s(t._f("getResult")(t.formData.doctorListName)))])])])])]),t._v(" "),a("div",{staticClass:"containerTag"},t._l(t.formData.tagList,(function(e,s){return a("span",{key:s,staticClass:"tag"},[t._v(t._s(e))])})),0),t._v(" "),a("div")])}),[],!1,null,"7b9cf37f",null).exports,f=a("26aT"),v=a("ffTQ"),h=a("JGWn"),_=a("xqMX"),g={name:"Intervention_tab_userdetail_mdl",components:{Disease:f.a,LiftStyle:v.a,RiskAssess:h.a,ImportantIndex:_.a},data:()=>({menuNum:0,active:0,checkTplPlanList:[],tableData:[],assessList:{assess2:[],assess3:[],assess4:[],assess5:[]},form:{templateId:"",templateList:[],reportAbnormalList:[],questionLifestyle:{questionLifestyle1:{paramValue:""},questionLifestyle2:{paramValue:""},questionLifestyle3:{paramValue:""},questionLifestyle4:{paramValue:""},questionLifestyle5:{paramValue:""}}},total:0,pageNo:1}),mounted(){this.getUserHealthDetail(),this.getAssessReportDetail()},methods:{clickMenu(t,e){this.total=0,this.active=t,this.form.templateId=e,this.pageNo=1,this.getList()},async getUserHealthDetail(){const t={clientId:this.$route.params.id,sugarType:2,type:2},e=await this.$api.interventionPlanInterface.getInterveneSchemeCharts(t),{data:a}=e.data;this.form.reportAbnormalList=a.reportAbnormalList||null,this.form.questionLifestyleFamilyHistory=a.questionLifestyleFamilyHistory||null,this.form.questionLifestyleParamValueList=a.questionLifestyleParamValueList||[],this.form.questionLifestyleParamValueList.length>0&&this.form.questionLifestyleParamValueList.forEach(t=>{"j01"===t.paramNo?this.form.questionLifestyle.questionLifestyle1.paramValue=t.valueInfo:"j05"===t.paramNo?this.form.questionLifestyle.questionLifestyle2.paramValue=t.valueInfo:"f01"===t.paramNo?this.form.questionLifestyle.questionLifestyle3.paramValue=t.valueInfo:"g04"===t.paramNo?this.form.questionLifestyle.questionLifestyle4.paramValue=t.valueInfo:"j20"===t.paramNo&&(this.form.questionLifestyle.questionLifestyle5.paramValue=t.valueInfo)}),console.log(this.form.questionLifestyle)},async getAssessReportDetail(){const t=this.$route.params.id,e=await this.$api.health.getAssessReportDetail(t),{data:a}=e.data;console.log(a),a.forEach(t=>{2===t.lv?this.assessList.assess2.push(t.modelName):3===t.lv?this.assessList.assess3.push(t.modelName):4===t.lv?this.assessList.assess4.push(t.modelName):5===t.lv&&this.assessList.assess5.push(t.modelName)}),console.log(this.assessList)}}},b=(a("sP7Y"),Object(m.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"intervention_tab_div"},[t._m(0),t._v(" "),a("disease",{attrs:{reportAbnormalList:t.form.reportAbnormalList,notTitle:!0}}),t._v(" "),t._m(1),t._v(" "),a("lift-style",{staticStyle:{"margin-left":"10px"},attrs:{questionLifestyle:t.form.questionLifestyle}}),t._v(" "),t._m(2),t._v(" "),a("risk-assess",{staticStyle:{"margin-left":"10px"},attrs:{assessList:t.assessList}}),t._v(" "),t._m(3),t._v(" "),a("important-index",{attrs:{clientId:t.$route.params.id}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"font-size":"14px","margin-top":"0","margin-bottom":"10px"}},[e("span",{staticClass:"dianLv"}),this._v("主要疾病\n  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"font-size":"14px"}},[e("span",{staticClass:"dianLv"}),this._v("生活方式\n  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"font-size":"14px"}},[e("span",{staticClass:"dianLv"}),this._v("慢性病风险评估\n  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"font-size":"14px"}},[e("span",{staticClass:"dianLv"}),this._v("重要指标\n  ")])}],!1,null,"324c2438",null).exports),C={name:"dangerRiskDetail",data:()=>({show:!0,executeState:1,modalTitle:"",form:{typeName:"",factor:"",advice:""}}),mounted(){this.onLoad()},methods:{onLoad(){this.$nextTick(async()=>{this.getDetail()})},async getDetail(){const t=Object.assign({},this.propsData);console.log(t);const{typeName:e,factor:a,advice:s}=t;this.form.typeName=e,this.form.factor=a,this.form.advice=s},onVisible(t){t||this.$jDynamic.hide({component:"dangerRiskDetail"})}}},y=(a("eNV1"),Object(m.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"el-plan-setting-mdl",attrs:{title:t.modalTitle,visible:t.show,width:"570px",alignFooter:"right","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},close:t.onVisible}},[1===t.executeState?a("div",{staticClass:"body"},[a("div",{staticClass:"search-title"},[a("span",[t._v("危险因素")])]),t._v(" "),a("div",{staticClass:"header headerPlan"},[a("el-form",{staticClass:"form-inline inputCommon headerPlan",attrs:{inline:!1,model:t.form}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分类：","label-width":"60px"}},[a("span",[t._v(t._s(t._f("getResult")(t.form.typeName)))])])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"因素：","label-width":"60px"}},[a("span",[t._v(t._s(t._f("getResult")(t.form.factor)))])])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"建议：","label-width":"60px"}},[t._v("\n              "+t._s(t._f("getResult")(t.form.advice))+"\n            ")])],1)],1)],1)],1)]):t._e()])}),[],!1,null,"a7f45ea6",null).exports),w=a("+uur");let D=1;var A={name:"DanderRisk",components:{QuestionsOpen:w.a},data:()=>({menuNum:0,active:0,spanArr:[],checkTplPlanList:[],tableData:[],popoverStatus:!1,form:{templateId:"",templateList:[]},formData:{questionId:"",questionTime:""}}),mounted(){this.queryList()},methods:{columnStyle({columnIndex:t}){if(0===t){if(1===D)return D=2,"background: #FAFAFA";if(1!==D)return D=1,"background: #F4F4F6"}},handlePopoperClose(t){this.$refs.userPopover.doClose(),this.popoverStatus=!1,this.formData.questionId=t.id,this.formData.questionTime=t.createTime?t.createTime.split(" ")[0]:"",this.getDangerRiskInfo(this.formData.questionId)},async queryList(){const t=await this.$api.health.fetch({questionType:1,clientId:this.$route.params.id,pageNo:1,pageSize:1}),{data:e}=t.data;e&&e.list.length>0&&(this.formData.questionId=e.list[0].id,this.formData.questionTime=e.list[0].createTime?e.list[0].createTime.split(" ")[0]:"",this.getDangerRiskInfo(this.formData.questionId))},getDangerRiskInfo(t){this.$api.health.getQuestionRiskFactor(t).then(({data:t})=>{200===t.code&&(console.log(t.data),this.tableData=[],t.data.forEach(t=>{t.riskFactorInfoDTOList.forEach(e=>{this.tableData.push({typeName:t.typeName,advice:e.advice,factor:e.factor})})}),this.getSpanArr(this.tableData))})},getSpanArr(t){this.spanArr=[];for(let e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].typeName===t[e-1].typeName?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e),console.log(this.spanArr)},objectSpanMethod({rowIndex:t,columnIndex:e}){if(0===e){const e=this.spanArr[t];return{rowspan:e,colspan:e>0?1:0}}},handleViewPlan(t){this.$jDynamic.show({component:"dangerRiskDetail",data:{executeState:1,modalTitle:"查看",propsData:t,confirmfunc:async t=>{console.log(t)}},render:t=>t(y)})}}},S=(a("giZY"),Object(m.a)(A,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"intervention_tab_div"},[t._m(0),t._v(" "),a("el-form",{attrs:{inline:!1}},[a("el-form-item",{attrs:{label:"问卷时间："}},[a("el-popover",{ref:"userPopover",attrs:{placement:"bottom-start",width:"570",trigger:"click"},on:{show:function(e){t.popoverStatus=!0},hide:function(e){t.popoverStatus=!1}}},[t.popoverStatus?a("questions-open",{attrs:{clientId:t.$route.params.id},on:{change:t.handlePopoperClose}}):t._e(),t._v(" "),a("el-input",{staticClass:"select-user-trigger disabled",attrs:{slot:"reference",disabled:"",placeholder:"请选择"},slot:"reference",model:{value:t.formData.questionTime,callback:function(e){t.$set(t.formData,"questionTime",e)},expression:"formData.questionTime"}},[a("i",{class:"el-icon-arrow-"+(t.popoverStatus?"up":"down"),attrs:{slot:"suffix"},slot:"suffix"})])],1)],1)],1),t._v(" "),a("div",{staticClass:"follow-plan"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,align:"center","cell-style":t.columnStyle,"span-method":t.objectSpanMethod}},[a("el-table-column",{attrs:{prop:"typeName",label:"分类",width:"200px","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResult")(e.row.typeName)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"factor",label:"因素","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResult")(e.row.factor)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"advice",label:"建议","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResult")(e.row.advice)))])]}}])})],1)],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"font-size":"14px","margin-top":"0","margin-bottom":"20px"}},[e("span",{staticClass:"dianLv"}),this._v("危险因素\n  ")])}],!1,null,"ce6c4c9e",null).exports);let L=1;var x={name:"DanderRisk",components:{QuestionsOpen:w.a,RiskAssess:h.a},data:()=>({menuNum:0,active:0,spanArr:[],checkTplPlanList:[],tableData:[],popoverStatus:!1,form:{templateId:"",templateList:[]},assessList:{},formData:{questionId:"",questionTime:""}}),mounted(){this.getUserAssessDetail()},methods:{columnStyle({columnIndex:t}){if(0===t){if(1===L)return L=2,"background: #FAFAFA";if(1!==L)return L=1,"background: #F4F4F6"}},async getUserAssessDetail(){const t=this.$route.params.id,e=await this.$api.health.getClientAssessDetail(t),{data:a}=e.data;console.log(a),Object.keys(a.newstAssessList).forEach(t=>{"2"===t?this.assessList.assess2=a.newstAssessList[t]:"3"===t?this.assessList.assess3=a.newstAssessList[t]:"4"===t?this.assessList.assess4=a.newstAssessList[t]:"5"===t&&(this.assessList.assess5=a.newstAssessList[t])}),console.log(this.assessList),a.clientAssessReportList.forEach(t=>{let e="",a="",s="",i="";Object.keys(t.listMap).forEach(l=>{"2"===l?e=t.listMap[l].join("，"):"3"===l?a=t.listMap[l].join("，"):"4"===l?s=t.listMap[l].join("，"):"5"===l&&(i=t.listMap[l].join("，"))}),this.tableData.push({assessDate:t.assessDate,assess2:e,assess3:a,assess4:s,assess5:i})}),this.getSpanArr(this.tableData)},read(t){this.$emit("read",t)},getSpanArr(t){this.spanArr=[];for(let e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].assessDate===t[e-1].assessDate?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e),console.log(this.spanArr)},objectSpanMethod({rowIndex:t,columnIndex:e}){if(0===e){const e=this.spanArr[t];return{rowspan:e,colspan:e>0?1:0}}},handleViewPlan(t){this.$jDynamic.show({component:"dangerRiskDetail",data:{executeState:1,modalTitle:"查看",propsData:t,confirmfunc:async t=>{console.log(t)}},render:t=>t(y)})}}},I=(a("/A+J"),Object(m.a)(x,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"intervention_tab_div"},[t._m(0),t._v(" "),a("risk-assess",{attrs:{assessList:t.assessList}}),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"follow-plan"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,align:"center","cell-style":t.columnStyle,"span-method":t.objectSpanMethod}},[a("el-table-column",{attrs:{prop:"assessDate",label:"评估日期",width:"200px","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResult")(e.row.assessDate)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"assess5",label:"很高风险","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:{color:e.row.assess5?"#FF4032":"#666666"}},[t._v("\n            "+t._s(t._f("getResult")(e.row.assess5))+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"assess4",label:"高风险","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResult")(e.row.assess4)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"assess3",label:"中度风险","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResult")(e.row.assess3)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"assess2",label:"低风险","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResult")(e.row.assess2)))])]}}])})],1)],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"font-size":"14px","margin-top":"0","margin-bottom":"20px"}},[e("span",{staticClass:"dianLv"}),this._v("健康风险评估\n  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"font-size":"14px","margin-top":"0","margin-bottom":"20px"}},[e("span",{staticClass:"dianLv"}),this._v("历史风险评估\n  ")])}],!1,null,"56ac85cc",null).exports),k=a("dNkx"),N=a("z02B"),q=a("Z0dO"),T={name:"index",components:{ReportDetail:a("ubTV").default},data:()=>({view:1,currentId:"",total:0,dataSource:[],params:{pageNo:1,pageSize:15,total:0}}),methods:{handleClose(){this.view=1,this.$emit("change",!0),this.search()},handleDetail(t){this.view=3,this.currentId=t,this.$emit("change",!1)},fetch(){this.$api.reportInterface.fetchReportList(Object.assign(this.params,{clientId:this.$route.params.id})).then(({data:t})=>{t.success&&(this.params.total=t.data.total,this.dataSource=t.data.list)})},search(t=1){this.params.pageNo=t,this.fetch()}},mounted(){this.fetch()}},R=(a("h+sJ"),Object(m.a)(T,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-page"},[3===t.view?a("report-detail",{staticStyle:{"margin-top":"-30px"},attrs:{id:t.currentId},on:{close:t.handleClose}}):a("div",[a("el-table",{ref:"table",staticClass:"has-expand-table",attrs:{data:t.dataSource}},[a("el-table-column",{attrs:{label:"体检编号",prop:"reportNo",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"体检日期",prop:"reportDate",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"体检机构",prop:"examinationOrgan",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",prop:"index",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.getAccess("physical_examination_report_view")?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDetail(e.row.id)}}},[t._v("查看")]):t._e()]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("el-pagination",{staticStyle:{"margin-top":"15px"},attrs:{background:"",total:t.params.total,"page-size":t.params.pageSize,"current-page":t.params.pageNo,"page-sizes":[15],layout:"prev, pager, next, jumper, total, sizes"},on:{"current-change":t.search}})],1)],1)],1)}),[],!1,null,"9cebaa0e",null).exports),E={name:"question",components:{},data:()=>({total:0,dataSource:[],visible:!1,current:{},params:{pageNo:1,pageSize:15,total:0},options:{},types:[]}),methods:{search(t=1){this.params.pageNo=t,this.fetch()},fetch(){this.$api.health.fetch(Object.assign(this.params,{clientId:this.$route.params.id})).then(({data:t})=>{t.success&&(this.params.total=t.data.total,this.dataSource=t.data.list)})},getQuestionType(){this.$api.health.getQuestionType().then(t=>{this.types=t,t.forEach(t=>{this.options[t.paramValue]=t.name})})},viewHealthQuestion(t){localStorage.setItem("personalHealthActive",6),this.$router.push({name:"health_questionnaire_detail",params:{qusType:t.questionType,id:t.id}})}},mounted(){this.getQuestionType(),this.fetch()}},V=(a("utYJ"),Object(m.a)(E,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-follow"},[t._m(0),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataSource,align:"center"}},[a("el-table-column",{attrs:{label:"问卷类型",prop:"questionType","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t._f("getResult")(t.options[e.row.questionType]))+"\n    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"填写日期",prop:"createTime","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResultDate")(e.row.createTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",prop:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.getAccess("health_questionnaire_view")?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.viewHealthQuestion(e.row)}}},[t._v("查看")]):t._e()]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("el-pagination",{staticStyle:{"margin-top":"15px"},attrs:{background:"",layout:"prev, pager, next, jumper, total, sizes",total:t.params.total,"page-size":t.params.pageSize,pageSizes:[15]},on:{"current-change":t.search}})],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"font-size":"14px","margin-top":"0"}},[e("span",{staticClass:"dianLv"}),this._v("健康问卷列表\n  ")])}],!1,null,"3d746194",null).exports),M={name:"medication_history",components:{detail:a("vx18").a},data:()=>({table:{list:[],totalCount:0,pageNo:1,pageSize:15},detailParams:{id:"",total:0,pageNo:1,pageSize:15},currentValue:{},detailModalVisible:!1}),mounted(){this.queryList()},methods:{async queryList(){console.log(this.$route.params.id);const t=await this.$api.medication.getClientOtherList({clientId:this.$route.params.id},{id:this.$route.params.id,pageNo:this.table.pageNo,pageSize:this.table.pageSize}),{data:e}=t,a=e.data||{};this.table.list=a.list||[],this.table.totalCount=a.total||0},handleDetail(t){this.currentValue=t,this.detailModalVisible=!0},handlePageChange(t){this.table.currentPage=t,this.queryList()},handleSizeChange(t){this.table.pageSize=t,this.queryList()}}},F=(a("dbVG"),Object(m.a)(M,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"medication-history"},[t._m(0),t._v(" "),a("div",[a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.table.list,align:"center"}},[a("el-table-column",{attrs:{label:"药品名称",prop:"drugsName","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResult")(e.row.drugsName)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"用药开始时间",prop:"startDate","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResultDate")(e.row.startDate)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"用药结束时间",prop:"endDate","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResultDate")(e.row.endDate)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"规格",prop:"specification","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResult")(e.row.specification)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"每日剂量",prop:"doseOne","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResult")(e.row.doseOne)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"每日次数",prop:"countDay","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("getResult")(e.row.countDay)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDetail(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("el-pagination",{staticStyle:{"margin-top":"15px"},attrs:{"current-page":t.table.currentPage,"page-size":t.table.pageSize,total:t.table.totalCount,"page-sizes":[15],background:"",layout:"prev, pager, next, jumper, total, sizes"},on:{"current-change":t.handlePageChange,"size-change":t.handleSizeChange}})],1)],1),t._v(" "),a("detail",{attrs:{visible:t.detailModalVisible,value:t.currentValue},on:{cancel:function(e){t.detailModalVisible=!1}}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"margin-top":"0","font-size":"14px"}},[e("span",{staticClass:"dianLv"}),this._v("用药记录列表\n      ")])}],!1,null,"1f5c10c4",null).exports),z={name:"MedicalHistoryDetail",props:{id:{type:[Number,String],required:!0}},data:()=>({data:{},typeText:{1:"门诊",2:"住院"},resultText:{1:"未指定",2:"治疗中",3:"转诊",4:"转为慢病",5:"痊愈",6:"其他"}}),mounted(){this.$api.medicalHistoryInterface.medicalInfoDetail(this.id).then(t=>{const{data:e}=t;this.data=e.data||{}})}},U=(a("QG32"),{name:"index",components:{DetailDialog:Object(m.a)(z,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"查看",visible:!0,width:"570px","before-close":function(){return t.$emit("close")}}},[a("div",{staticClass:"medical-history-detail-content"},[a("div",{staticClass:"title"},[t._v("就医记录")]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("医疗机构：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.data.hospital))])]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:13}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("就诊科室：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.data.department))])])]),t._v(" "),a("el-col",{attrs:{span:11}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("就医类型：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.typeText[t.data.medicalType]))])])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:13}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("医疗卡号：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.data.patientNo))])])]),t._v(" "),a("el-col",{attrs:{span:11}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("当前状态：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.resultText[t.data.result]))])])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:13}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("就医时间：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.data.inDate))])])]),t._v(" "),a("el-col",{attrs:{span:11}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("出院时间：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.data.outDate))])])])],1),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("主管医生：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.data.doctorName))])]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("主诉：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.data.complaint))])]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("现病史：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.data.hpi))])]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("检查：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.data.examination))])]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("诊断：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.data.diagnosis))])]),t._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-label"},[t._v("治疗方案：")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.data.therapy))])])],1)])}),[],!1,null,"87089dba",null).exports},data:()=>({total:0,tableData:[],formData:{pageNo:1,pageSize:15},statusMap:{1:"未指定",2:"治疗中",3:"转诊",4:"转为慢病",5:"痊愈",6:"其他"},viewIndex:1,currentId:""}),mounted(){this.queryList()},methods:{queryList(){const t=this.$route.params.id;this.$api.medicalHistoryInterface.otherMedicalHistoryPageList(t,{...this.formData}).then(t=>{const{data:e}=t;if(200===e.code){const t=e.data||{};this.tableData=t.list||[],this.total=t.total||0}})},handleCurrentChange(t){this.formData.pageNo=t,this.queryList()},handleSizeChange(t){this.formData.pageSize=t,this.queryList()},detail(t){this.viewIndex=4,this.currentId=t.id},handleAfterSubmit(){this.viewIndex=1,this.queryList()}}}),j=(a("r5Kx"),Object(m.a)(U,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"medical-history"},[1===t.viewIndex?[t._m(0),t._v(" "),a("div",[a("el-table",{ref:"table",staticClass:"has-expand-table",attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"就医日期",prop:"inDate",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.inDate?a("span",[t._v(t._s(e.row.inDate.split(" ")[0]))]):t._e()]}}],null,!1,601112722)}),t._v(" "),a("el-table-column",{attrs:{label:"医疗机构",prop:"hospital",align:"center","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"诊断",prop:"diagnosis","show-overflow-tooltip":"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"当前状态",prop:"result",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.statusMap[e.row.result]))]}}],null,!1,3438563610)}),t._v(" "),a("el-table-column",{attrs:{label:"操作",prop:"index",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.getAccess("medical_history_view")?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.detail(e.row)}}},[t._v("查看")]):t._e()]}}],null,!1,861820614)})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"15px"},attrs:{background:"",total:t.total,"page-size":15,"page-sizes":[15],layout:"prev, pager, next, jumper, total, sizes"},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)]:t._e(),t._v(" "),4===t.viewIndex?a("detail-dialog",{attrs:{id:t.currentId},on:{close:function(e){t.viewIndex=1}}}):t._e()],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"margin-top":"0","font-size":"14px"}},[e("span",{staticClass:"dianLv"}),this._v("就医记录列表\n        ")])}],!1,null,"72b0b9ea",null).exports),Q={name:"index",components:{ClientInfo:d,HealthUserdetail:b,DangerRisk:S,HealthAssess:I,UserdetaiIntervene:k.a,UserdetailFollowplan:N.a,UserdetailFollowrecord:q.a,Report:R,HealthQuestionnaire:V,MedicationHistory:F,MedicalHistory:j},data(){return{active:0,title:"",showTopLeft:!0,clientId:this.$route.params.id,templateList:[{name:"个人健康画像",active:0},{name:"危险因素",active:1},{name:"健康风险评估",active:2},{name:"随访方案及计划",active:3},{name:"随访记录",active:4},{name:"体检报告",active:5},{name:"健康问卷",active:6},{name:"用药记录",active:7},{name:"就医记录",active:8}],searchBarFixed:!1}},watch:{},methods:{clickMenu(t,e){this.active=t,console.log(e)},changeShow(t){this.showTopLeft=t},handleScroll(){const t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.querySelector("#intvTmpl_left").offsetTop;this.searchBarFixed=t>e-140&&t>140;document.querySelectorAll(".articleTitle").forEach((e,a)=>{t>=e.offsetTop-200&&(this.active=a)})}},destroyed(){window.removeEventListener("scroll",this.handleScroll)},beforeRouteEnter(t,e,a){a(t=>{const e=t;localStorage.getItem("personalHealthActive")&&(e.active=Number(localStorage.getItem("personalHealthActive")),localStorage.removeItem("personalHealthActive"))})}},O=(a("uCvV"),Object(m.a)(Q,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showTopLeft?a("client-info"):t._e(),t._v(" "),a("div",{staticClass:"health_questionnaire_edit"},[t.showTopLeft?a("div",{staticClass:"intvTmpl_left",class:{isFixed:!0===t.searchBarFixed},staticStyle:{"max-height":"30000px",height:"auto","margin-right":"30px"},attrs:{id:"intvTmpl_left"}},[a("div",{staticClass:"intvTmpl_left_title"},[t._v("个人管理中心")]),t._v(" "),a("ul",{staticClass:"intv_menulist"},t._l(t.templateList,(function(e,s){return a("li",{key:s,class:{active:t.active===s},on:{click:function(e){return t.clickMenu(s,"#questions-"+s)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})),0)]):t._e(),t._v(" "),a("div",{staticClass:"health_questionnaire_form",class:{isFixedForm:!0===t.searchBarFixed}},[0===t.active?[a("health-userdetail")]:t._e(),t._v(" "),1===t.active?[a("danger-risk")]:t._e(),t._v(" "),2===t.active?[a("health-assess")]:t._e(),t._v(" "),3===t.active?[t._m(0),t._v(" "),a("userdetai-intervene",{attrs:{personal:!0,clientId:t.clientId}}),t._v(" "),t._m(1),t._v(" "),a("userdetail-followplan",{attrs:{personal:!0,clientId:t.clientId}})]:t._e(),t._v(" "),4===t.active?[t._m(2),t._v(" "),a("userdetail-followrecord",{attrs:{personal:!0,clientId:t.clientId,propsPageSize:15}})]:t._e(),t._v(" "),5===t.active?[a("report",{on:{change:t.changeShow}})]:t._e(),t._v(" "),6===t.active?[a("health-questionnaire")]:t._e(),t._v(" "),7===t.active?[a("medication-history")]:t._e(),t._v(" "),8===t.active?[a("medical-history")]:t._e()],2)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"margin-top":"0","font-size":"14px"}},[e("span",{staticClass:"dianLv"}),this._v("随访方案\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"margin-top":"60px","font-size":"14px"}},[e("span",{staticClass:"dianLv"}),this._v("随访计划列表\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"formSearchTitle",staticStyle:{"margin-top":"0","font-size":"14px"}},[e("span",{staticClass:"dianLv"}),this._v("随访记录\n      ")])}],!1,null,"4fab0ec4",null));e.default=O.exports},ly8M:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC30lEQVRoQ+2Xz0sUYRzGn2fcTUQpAqGg8BbCzuyytEQEEhJ0UOofiMIIu9SprhFGePcUQSCB4MlbIHrwYNQhLZN1ZiCiUxgRHgIRf6SzT6xgmK46M+8stTBz3e/zfJ/P+33fd3aIBn/Y4PmRAvzrCaYTSCdguAJ120Lq7s5gaWkIpNDe/pDT01uGWWvK6wfg5IYl3Kl2JTlMz+9vGAA5uQEJT3YHpsUBuv7TpCESn4Dy9m1V9LJWUIJ99P2RJCESBZDjXAU0LilbE4DcBK1euu5UUhCJAchxClDljYDjh4UjsAyrqYuu6yYBkQiACoWzqATvJJ0JE4rkIqymS1xYWAxTf8SCmFmoVDqBjbW3EpwoTiRdtLZ1cWZmOYpub63RBFQqZbG+PinoSpwQJKbQ3NLLubnNOPrtKzqusKqTY49IumXiQXKEnt8X1yM2gBx7UNKjuI33vCMG6fqP43jFAlDevquKXsRpeJCGtPrpecNRPSMDKJ/vgSqvJGWiNjv0NiG3YOE6F/zJKL6RAFQonEcQvBbUFqVJ2FqCK8hkLrNcng+vCVm5fdcHwXtBp0NKYpUR+I5M9gLL5W9hDEJPQLZ9AcCDv0wJC0C3pFNhmu27w8kfAKYhVHb9JpBD9LwPYTxDAxxkpkKhU8HWpzDN9gFksp0slz/H0e5ozAFKpazW137FCcGcneHYWBBHmwLsrED170Q6AYM9lJ6BdAult5DBAapKG34LbUM4uXEJvVHWguQ4Pf9aFE2tWuNb6M/7IJ8/ibZKOL8VS3Tdn6bhq/pwDZPoVCePRADU09OMxa/3IBQBNh2eVQGEeXR0POfExIYpVzIAtj0q6EaUMKQ1Ss+7GUVTtzMgx16V1BIlDMlVen5rFE09AWYlVT94Qj8EZ+n7F0MLDihMZgsVi+ewtfkMUBE64gxQAcB5HMN9fvS//BcApiFM9IlMwCSAqTYFMF1BU306AdMVNNU3/AR+AwvyIUD0BsOnAAAAAElFTkSuQmCC"},"mi+k":function(t,e,a){},o4Pm:function(t,e){t.exports="data:image/png;base64,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"},peRi:function(t,e,a){},r5Kx:function(t,e,a){"use strict";a("mi+k")},sP7Y:function(t,e,a){"use strict";a("htmV")},uCvV:function(t,e,a){"use strict";a("fL2F")},ubTV:function(t,e,a){"use strict";a.r(e);var s=a("kaQf"),i={name:"report_detail",props:["id"],data:()=>({formData:{sectionConclusionList:[],abnormalList:[],notMatchAbnormalList:[]},templateName:"",libraryName:"",abnormalLevelMap:{1:"I",2:"II",3:"III",4:"IV",5:"V"}}),mounted(){this.fetch(this.id)},methods:{fetch(t){this.$api.reportInterface.getReportDetail(t).then(({data:t})=>{t.success&&(this.formData=t.data,this.formData.sectionConclusionList||this.$set(this.formData,"sectionConclusionList",[]),this.formData.abnormalList||this.$set(this.formData,"abnormalList",[]),this.formData.notMatchAbnormalList||this.$set(this.formData,"notMatchAbnormalList",[]),this.queryTemplate(),this.queryLibrary())})},queryTemplate(){this.$api.reportInterface.getTemplate({pageNo:1,pageSize:s.a}).then(({data:t})=>{t.data.list.forEach(t=>{t.id===this.formData.reportTemplateId&&(this.templateName=t.name)})})},queryLibrary(){this.$api.reportInterface.getOrganType().then(({data:t})=>{t.data.forEach(t=>{t.id===this.formData.libraryId&&(this.libraryName=t.name)})})}}},l=(a("ZVhf"),a("KHd+")),n=Object(l.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-content"},[s("div",{staticClass:"title"},[t._v("查看体检报告-基本信息")]),t._v(" "),s("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"90px","label-suffix":"：",disabled:""}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"姓名",prop:"clientId"}},[s("el-input",{model:{value:t.formData.clientName,callback:function(e){t.$set(t.formData,"clientName",e)},expression:"formData.clientName"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"体检编号",prop:"reportNo"}},[s("el-input",{model:{value:t.formData.reportNo,callback:function(e){t.$set(t.formData,"reportNo",e)},expression:"formData.reportNo"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"体检日期",prop:"reportDate"}},[s("el-input",{model:{value:t.formData.reportDate,callback:function(e){t.$set(t.formData,"reportDate",e)},expression:"formData.reportDate"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"体检机构",prop:"examinationOrgan"}},[s("el-input",{model:{value:t.formData.examinationOrgan,callback:function(e){t.$set(t.formData,"examinationOrgan",e)},expression:"formData.examinationOrgan"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"录入模板",prop:"reportTemplateId"}},[s("el-input",{model:{value:t.templateName,callback:function(e){t.templateName=e},expression:"templateName"}})],1)],1)],1)],1),t._v(" "),t.formData.sectionConclusionList.length>0?[s("div",{staticClass:"title physical-examination-info"},[t._v("体检信息")]),t._v(" "),t._l(t.formData.sectionConclusionList,(function(e,i){return s("div",{key:i,staticClass:"section-conclusion-item"},[s("div",{staticClass:"top"},[s("span",{staticClass:"section-name"},[t._v(t._s(e.sectionName))])]),t._v(" "),s("div",{staticClass:"center"},[s("el-table",{attrs:{data:e.itemList}},[s("el-table-column",{attrs:{prop:"itemName",label:"名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"itemValue",label:"结果"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[s("span",[t._v(t._s(e.row.itemValue))]),t._v(" "),1===e.row.judageValue?s("img",{staticClass:"qushi",staticStyle:{width:"24px",height:"24px","vertical-align":"bottom"},attrs:{src:a("ly8M"),alt:""}}):t._e(),t._v(" "),-1===e.row.judageValue?s("img",{staticClass:"qushi",staticStyle:{width:"24px",height:"24px","vertical-align":"bottom"},attrs:{src:a("ly8M"),alt:""}}):t._e()])]}}],null,!0)}),t._v(" "),s("el-table-column",{attrs:{prop:"refRange",label:"正常参考"}}),t._v(" "),s("el-table-column",{attrs:{prop:"itemUnit",label:"单位"}}),t._v(" "),s("el-table-column",{attrs:{prop:"attention",label:"是否关注指标"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v("\n                "+t._s("2"===e.row.attention?"是":"0"===e.row.attention?"否":"")+"\n              ")])]}}],null,!0)})],1)],1),t._v(" "),e.conclusion?s("div",{staticClass:"bottom"},[s("div",[t._v("科室小结")]),t._v(" "),s("div",{staticClass:"bottom-conclusion"},[t._v(t._s(e.conclusion))])]):t._e()])}))]:t._e(),t._v(" "),t.formData.abnormalList.length>0||t.formData.notMatchAbnormalList.length>0?[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"abnormal-list"},[t._l(t.formData.abnormalList,(function(e){return s("div",{key:e.abnormalCode,class:"abnormal-item level"+e.dangerLevel},[s("span",{staticClass:"abnormal-number"},[t._v(t._s(t.abnormalLevelMap[e.dangerLevel]))]),t._v(" "),s("span",{staticClass:"abnormal-name"},[t._v(t._s(e.abnormalName))])])})),t._v(" "),t._l(t.formData.notMatchAbnormalList,(function(e,a){return s("div",{key:a,staticClass:"abnormal-item level0"},[s("span",{staticClass:"abnormal-name"},[t._v(t._s(e))])])}))],2)]:t._e(),t._v(" "),t.formData.summarize||t.formData.advice?[t._m(2),t._v(" "),t.formData.summarize?s("div",{staticClass:"suggest-item"},[s("div",{staticClass:"label"},[t._v("综述")]),t._v(" "),s("div",[t._v(t._s(t.formData.summarize))])]):t._e(),t._v(" "),t.formData.advice?s("div",{staticClass:"suggest-item"},[s("div",{staticClass:"label"},[t._v("建议")]),t._v(" "),s("div",[t._v(t._s(t.formData.advice))])]):t._e()]:t._e(),t._v(" "),s("div",{staticClass:"buttons"},[s("el-button",{on:{click:function(e){return t.$emit("close")}}},[t._v("返回")])],1)],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sub-title"},[e("span",[this._v("异常信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"abnormal-level"},[a("span",{staticClass:"level1"},[t._v("一般")]),t._v(" "),a("span",{staticClass:"level2"},[t._v("轻度")]),t._v(" "),a("span",{staticClass:"level3"},[t._v("中度")]),t._v(" "),a("span",{staticClass:"level4"},[t._v("中重度")]),t._v(" "),a("span",{staticClass:"level5"},[t._v("重度")]),t._v(" "),a("span",{staticClass:"level0"},[t._v("未曾匹配")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sub-title"},[e("span",[this._v("总检建议")])])}],!1,null,"e261789e",null);e.default=n.exports},utYJ:function(t,e,a){"use strict";a("BlSf")},vx18:function(t,e,a){"use strict";var s={name:"detail",props:{visible:Boolean,value:Object},data:()=>({resultList:[],resultValue:""}),watch:{value(t){console.log("val",t);const e=this.resultList.find(e=>e.paramValue===t.result);console.log("v",e),this.resultValue=e?e.name:""}},mounted(){this.getResultList()},methods:{async getResultList(){const t=await this.$api.medication.getResultList(),{data:e}=t;this.resultList=e.data},cancel(){this.$emit("cancel")}}},i=(a("d9IU"),a("KHd+")),l=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog-detail",attrs:{"modal-append-to-body":!1,title:"查看",width:"570px",visible:t.visible},on:{"update:visible":function(e){t.visible=e},close:t.cancel}},[a("div",{staticClass:"form-title"},[a("div",{staticClass:"point"}),t._v(" "),a("h3",{staticClass:"name"},[t._v("用药记录")])]),t._v(" "),a("div",{staticClass:"form-content"},[a("el-form",{ref:"form",attrs:{model:t.value,inline:!1,"label-width":"75px","label-suffix":"："}},[a("div",{staticClass:"row"},[a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"药品名称",prop:"drugsName"}},[a("span",{staticClass:"value",attrs:{title:t.value.drugsName}},[t._v(t._s(t.value.drugsName))])]),t._v(" "),a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"针对问题",prop:"mainIndication"}},[a("span",{staticClass:"value",attrs:{title:t.value.mainIndication}},[t._v(t._s(t.value.mainIndication))])])],1),t._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"规格",prop:"specification"}},[a("span",{staticClass:"value",attrs:{title:t.value.specification}},[t._v(t._s(t.value.specification))])]),t._v(" "),a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"每日次数",prop:"countDay"}},[a("span",[t._v(t._s(t.value.countDay))])])],1),t._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"开始时间",prop:"startDate"}},[a("span",[t._v(t._s(t.value.startDate))])]),t._v(" "),a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"结束时间",prop:"endDate"}},[a("span",[t._v(t._s(t.value.endDate))])])],1),t._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"每日剂量",prop:"doseOne"}},[a("span",[t._v(t._s(t.value.doseOne))])]),t._v(" "),a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"当前状态",prop:"result"}},[a("span",[t._v(t._s(t.resultValue))])])],1),t._v(" "),a("div",{staticClass:"row bottom"},[a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"主要成分",prop:"ingrenient"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.value.ingrenient,placement:"top"}},[a("span",{staticClass:"value"},[t._v(t._s(t.value.ingrenient))])])],1),t._v(" "),a("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"用药情况",prop:"resoures"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.value.ingrenient,placement:"top"}},[a("span",{staticClass:"value"},[t._v(t._s(t.value.resoures))])])],1)],1)])],1)])}),[],!1,null,"3b3219e6",null);e.a=l.exports},wSk1:function(t,e,a){}}]);