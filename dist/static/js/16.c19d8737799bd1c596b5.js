(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{Ccg9:function(e,t,a){"use strict";a("rjRv")},HKRo:function(e,t,a){"use strict";a("Xo38")},MT78:function(e,t,a){e.exports=a("VLTE")(313)},X6r3:function(e,t,a){"use strict";a.r(t);var i={components:{},data(){const e=this;return{chooseDateDay:[this.formatDate(new Date((new Date).getTime()-5184e5),"yyyy-MM-dd"),this.formatDate(new Date,"yyyy-MM-dd")],listQuery:{type:"1",searchRange:"6"},pickerOptions:{disabledDate(t){if(null!==e.chooseDateDay){const a=new Date(e.chooseDateDay[0]),i=a.getFullYear()-1,s=`${a.getFullYear()+1}-${a.getMonth()+1}-${a.getDate()}`,n=`${i}-${a.getMonth()+1}-${a.getDate()}`,l=new Date(s),o=new Date(n);return t.getTime()>l.getTime()||t.getTime()<o.getTime()}},onPick({minDate:t}){null!==e.chooseDateDay&&(e.chooseDateDay[0]=t)}}}},mounted(){this.handleSearchData()},methods:{runningTabChecked(e){this.listQuery.type=e,"1"===e?this.chooseDateDay=[this.formatDate(new Date((new Date).getTime()-6048e5),"yyyy-MM-dd"),this.formatDate(new Date,"yyyy-MM-dd")]:"2"===e?this.chooseDateDay=[this.formatDate(new Date((new Date).getTime()-25056e5),"yyyy-MM-dd"),this.formatDate(new Date,"yyyy-MM-dd")]:"3"===e&&(this.chooseDateDay=[this.formatDate(new Date((new Date).getTime()-316224e5),"yyyy-MM-dd"),this.formatDate(new Date,"yyyy-MM-dd")]),this.handleSearchData()},handleSearchData(){if(null!==this.chooseDateDay){const e={};e.dateType=Number(this.listQuery.type),e.startTime=this.chooseDateDay[0].replace(/-/g,"-")+" 00:00:00",e.endTime=this.chooseDateDay[1].replace(/-/g,"-")+" 23:59:59",this.$emit("searchData",e)}},chooseDateChange(){this.handleSearchData()},chooseDearchRange(e){this.listQuery.searchRange=e,this.handleSearchData()},formatDate(e,t){let a=t;if("string"==typeof e)return e;if(a||(a="yyyy-MM-dd hh:mm:ss"),!e||null==e)return null;const i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length))),Object.getOwnPropertyNames(i).forEach(e=>{new RegExp(`(${e})`).test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)))}),a}}},s=(a("pSTE"),a("KHd+")),n=Object(s.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filter-container"},[a("div",{staticClass:"dateChooseDiv"},[a("label",{class:{active:"1"===e.listQuery.type},on:{click:function(t){return e.runningTabChecked("1")}}},[e._v("日\n          ")]),e._v(" "),a("label",{class:{active:"2"===e.listQuery.type},on:{click:function(t){return e.runningTabChecked("2")}}},[e._v("月\n           ")]),e._v(" "),a("label",{class:{active:"3"===e.listQuery.type},on:{click:function(t){return e.runningTabChecked("3")}}},[e._v("年\n            ")])]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("p",[e._v("选择日期范围：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},on:{change:e.chooseDateChange},model:{value:e.chooseDateDay,callback:function(t){e.chooseDateDay=t},expression:"chooseDateDay"}})],1)])}),[],!1,null,"5c0d5ad0",null).exports,l=a("MT78"),o=a.n(l),r={data:()=>({$_sidebarElm:null,$_resizeHandler:null}),mounted(){this.$_resizeHandler=this.debounce(()=>{this.chart&&this.chart.resize()},100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{debounce(e,t,a){let i,s,n,l,o;const r=function r(){const c=+new Date-l;c<t&&c>0?i=setTimeout(r,t-c):(i=null,a||(o=e.apply(n,s),i||(n=s=null)))};return function(...s){let c=s;n=this,l=+new Date;const h=a&&!i;return i||(i=setTimeout(r,t)),h&&(o=e.apply(n,c),n=null,c=null),o}},$_initResizeEvent(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};a("gX0l");var c={mixins:[r],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"490px"},autoResize:{type:Boolean,default:!0},chartData:{type:Array,default:()=>[]},sectionName:{type:Array,default:()=>[]},sectionXList:{type:Array,default:()=>[]}},data:()=>({chart:null,monthList:["1月","2月","3月","4月","5月","6月"]}),watch:{chartData:{deep:!0,handler(){this.$nextTick(()=>{this.initChart()})}},sectionName(){this.$nextTick(()=>{this.initChart()})}},mounted(){this.$nextTick(()=>{this.initChart()})},beforeDestroy(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart(){this.chart=o.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions(){const e={xAxis:{data:this.sectionXList,boundaryGap:!1,axisTick:{show:!1},axisLine:{show:!1,onZero:!0,lineStyle:{color:"#97A6BD"}}},grid:{left:15,right:35,bottom:40,top:40,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#cccccc"}},padding:[5,10]},yAxis:{type:"value",axisLine:{show:!1,onZero:!0,lineStyle:{color:"#97A6BD",type:"solid"}},axisTick:{show:!1},splitNumber:6,splitArea:{show:!1}},series:[]},t=["#4991FD","#31C529"],a=["#91c4ff","#d7f4d6"];this.sectionName.forEach((i,s)=>{this.chart.hideLoading(),e.series.push({name:i,itemStyle:{normal:{color:t[s],lineStyle:{color:t[s],width:2}}},smooth:!0,type:"line",areaStyle:{color:new o.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:a[s]},{offset:1,color:"white"}])},symbolSize:1,data:this.chartData[s],animationDuration:2e3,animationEasing:"cubicInOut"})}),this.chart.setOption(e,!0)}}},h={name:"index",components:{SearchGroup:n,LineChart:Object(s.a)(c,(function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.className,style:{height:this.height,width:this.width}})}),[],!1,null,null,null).exports},data:()=>({total:0,tableData:[],searchData:{},datalist:[],homeFindCountData:{},serviceOrderXList:[],serviceOrderYList:[],intervenePlanPieXList:[],intervenePlanPieYList:[],clientTypeXList:[],clientTypeYList:[],clientTotal:0,intervenePlanYList:[],intervenePlanName:["建档量","干预量"],intervenePlanXList:[],dianPieList:[],dianColorList:["#5B8FF9","#5AD8A6","#6C6CE5","#F6BD16","#E8684A","#6DC8EC","#31C529","#54c9b6","#F53626","#f5c8be"]}),methods:{getSearchData(e){this.searchData=e,this.getEchartIntervenePlan(e)},getEchartIntervenePlan(e){const t=Object.assign({},e);this.intervenePlanXList=[],this.intervenePlanYList=[],this.$api.statics.workPlan(t).then(e=>{const t=e.data.data;this.datalist=e.data.data;const a=[],i=[],s=[],n=[],l=[];null!=t&&0!==t.length?(t.forEach(e=>{a.push(e.formatDate),l.push(e.totalPlanCount),n.push(e.executedPlanCount),s.push(e.clientCount)}),i.push(s,n),this.intervenePlanXList=a,this.intervenePlanYList=i):(this.intervenePlanXList=[],this.intervenePlanYList=[])})}}},d=(a("eViE"),Object(s.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dashboard-editor-container"},[i("search-group",{on:{searchData:e.getSearchData}}),e._v(" "),i("el-row",{staticStyle:{"margin-left":"0"},attrs:{gutter:40}},[i("el-col",{staticClass:"echartBody",attrs:{span:24}},[i("div",{staticClass:"rowTitleParent",staticStyle:{"padding-bottom":"5px"}},[i("p",{staticClass:"rowTitle",staticStyle:{"margin-left":"0"}}),e._v(" "),i("div",{staticClass:"rowTitleParentRight"},[i("span",{staticStyle:{"background-color":"#4991FD"}}),e._v(" "),i("label",[e._v("建档量")]),e._v(" "),i("span",{staticStyle:{"background-color":"#31C529"}}),e._v(" "),i("label",[e._v("干预量")])])]),e._v(" "),0===e.intervenePlanXList.length?i("div",{staticClass:"noDataLine"},[i("img",{attrs:{src:a("ryUL")}}),e._v(" "),i("span",[e._v("暂无数据")])]):i("line-chart",{attrs:{"chart-data":e.intervenePlanYList,sectionName:e.intervenePlanName,sectionXList:e.intervenePlanXList}})],1)],1),e._v(" "),i("div",{staticClass:"wltable"},[i("div",{staticClass:"smalltitle"},[e._v("详细信息")]),e._v(" "),i("el-table",{ref:"table",staticClass:"has-expand-table",attrs:{data:e.datalist,"row-key":e.getRowKeys},on:{"selection-change":e.handleSelectionChange,"expand-change":e.handleExpandChange}},[i("el-table-column",{attrs:{label:"年/月/日",prop:"formatDate",align:"center","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{label:"我的客户",prop:"clientCount",align:"center","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{label:"执行计划",prop:"totalPlanCount",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"随访记录",align:"center",prop:"executedPlanCount","show-overflow-tooltip":""}})],1)],1)],1)}),[],!1,null,"71c9fcd4",null).exports),u={name:"index",components:{},props:{msg:[]},data(){const e=this;return{datalist:[],namelist:[],formdata:[],liname:[],pagenumber:[],numall:[],liTotalCount:[],chooseDateDay:[this.formatDate(new Date((new Date).getTime()-2592e6),"yyyy-MM-dd"),this.formatDate(new Date,"yyyy-MM-dd")],pickerOptions:{disabledDate(t){if(null!==e.chooseDateDay){const a=new Date(e.chooseDateDay[0]),i=a.getFullYear()-1,s=`${a.getFullYear()+1}-${a.getMonth()+1}-${a.getDate()}`,n=`${i}-${a.getMonth()+1}-${a.getDate()}`,l=new Date(s),o=new Date(n);return t.getTime()>l.getTime()||t.getTime()<o.getTime()||(new Date).getTime()<t.getTime()}},onPick({minDate:t}){null!==e.chooseDateDay&&(e.chooseDateDay[0]=t)}},sendData:{startTime:"",endTime:"",workUnitName:"",gender:""},genderList:[{name:"不限",value:0},{name:"男",value:1},{name:"女",value:2}],form:{gender:""}}},mounted(){this.getarchives()},methods:{formatDate(e,t){let a=t;if("string"==typeof e)return e;if(a||(a="yyyy-MM hh:mm:ss"),!e||null==e)return null;const i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length))),Object.getOwnPropertyNames(i).forEach(e=>{new RegExp(`(${e})`).test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)))}),a},chaxun(){this.pagenumber=[],this.numall=[],this.chooseDateDay.length>0?this.getarchives():this.$message.warning("请选择时间")},server(){this.sendData.workUnitName="",this.sendData.gender="",this.sendData.startTime="",this.sendData.endTime="",this.chooseDateDay=[]},getarchives(){if(this.chooseDateDay.length>0){this.sendData.startTime=this.chooseDateDay[0].substring(0,7),this.sendData.endTime=this.chooseDateDay[1].substring(0,7);const e=Object.assign({},this.sendData);this.$api.statics.archivesplan(e).then(e=>{this.datalist=e.data.data,this.formdata=this.datalist[0].clientCountChartDTOList;let t=0;const a=[];for(let e=0;e<this.datalist[0].clientCountChartDTOList.length;e++)a.push(0);this.datalist.forEach(e=>{e.clientCountChartDTOList.forEach((i,s)=>{s<=e.clientCountChartDTOList.length-2&&(t+=i.clientCount,a[s]+=i.clientCount,this.liTotalCount[s]=t)}),this.liname.push(e)}),a.forEach((e,i)=>{let s=0;i<a.length-2&&(0===t?(s=0,this.pagenumber.push(s.toFixed(2))):(s=e/t*100,this.pagenumber.push(s.toFixed(2)))),i<a.length-1&&this.numall.push(e)})})}},chooseDateChange(){this.sendData.startTime=this.chooseDateDay[0],this.sendData.endTime=this.chooseDateDay[1]}}},m=(a("Ccg9"),Object(s.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("div",{staticClass:"archives-top"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("p",[e._v("选择日期范围：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},on:{change:e.chooseDateChange},model:{value:e.chooseDateDay,callback:function(t){e.chooseDateDay=t},expression:"chooseDateDay"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-form",{staticClass:"form-inline",attrs:{inline:!1,model:e.form,"label-position":e.right}},[a("el-form-item",{staticStyle:{width:"25%"},attrs:{label:"单位：","label-width":"83px"}},[a("template",{slot:"label"},[e._v(" 单位： ")]),e._v(" "),a("el-select",{staticStyle:{width:"166px"},attrs:{placeholder:"请选择"},model:{value:e.sendData.workUnitName,callback:function(t){e.$set(e.sendData,"workUnitName",t)},expression:"sendData.workUnitName"}},e._l(e.msg,(function(e){return a("el-option",{key:e.id,attrs:{label:e.workUnitName,value:e.workUnitName}})})),1)],2)],1),e._v(" "),a("el-form",{staticClass:"form-inline",attrs:{inline:!1,model:e.form,"label-position":e.right}},[a("el-form-item",{staticStyle:{width:"25%"},attrs:{label:"性别：","label-width":"83px"}},[a("template",{slot:"label"},[e._v(" 性别： ")]),e._v(" "),a("el-select",{staticStyle:{width:"166px"},attrs:{placeholder:"请选择"},model:{value:e.sendData.gender,callback:function(t){e.$set(e.sendData,"gender",t)},expression:"sendData.gender"}},e._l(e.genderList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.value}})})),1)],2)],1),e._v(" "),a("div",{staticClass:"btn",on:{click:e.chaxun}},[e._v("统计")]),e._v(" "),a("div",{staticClass:"btn again",on:{click:e.server}},[e._v("重置")])],1)]),e._v(" "),a("div",{staticClass:"wltable"},[a("div",{staticClass:"tabletop"},[a("ul",[a("li",[e._v("建档人")]),e._v(" "),e._l(e.formdata,(function(t){return a("li",{key:t.id},[e._v(e._s(t.formatDate))])}))],2)]),e._v(" "),a("div",{staticClass:"table-content"},[e._l(e.datalist,(function(t){return a("ul",{key:t.id},[a("li",[e._v(e._s(t.userName))]),e._v(" "),e._l(t.clientCountChartDTOList,(function(t){return a("li",{key:t.id},[e._v(e._s(t.clientCount))])}))],2)})),e._v(" "),a("ul",{staticClass:"total"},[a("li",[e._v("合计")]),e._v(" "),e._l(e.numall,(function(t){return a("li",{key:t.id},[e._v(e._s(t))])})),e._v(" "),a("li",[e._v("-")])],2),e._v(" "),a("ul",{staticClass:"percentage"},[a("li",[e._v("百分比")]),e._v(" "),e._l(e.pagenumber,(function(t){return a("li",{key:t.id},[e._v(e._s(t))])})),e._v(" "),a("li",[e._v("-")]),e._v(" "),a("li",[e._v("-")])],2)],2),e._v(" "),a("div",{staticClass:"desc"},[e._v("百分比：当前列总数（当前行总数） / 所有数据总和")])])])}),[],!1,null,"ad5d8f4a",null).exports),g={name:"index",components:{},props:{msg:[]},data(){const e=this;return{datalist:[],namelist:[],formdata:[],liname:[],pagenumber:[],numall:[],liTotalCount:[],chooseDateDay:[this.formatDate(new Date((new Date).getTime()-2592e6),"yyyy-MM-dd"),this.formatDate(new Date,"yyyy-MM-dd")],pickerOptions:{disabledDate(t){if(null!==e.chooseDateDay){const a=new Date(e.chooseDateDay[0]),i=a.getFullYear()-1,s=`${a.getFullYear()+1}-${a.getMonth()+1}-${a.getDate()}`,n=`${i}-${a.getMonth()+1}-${a.getDate()}`,l=new Date(s),o=new Date(n);return t.getTime()>l.getTime()||t.getTime()<o.getTime()||(new Date).getTime()<t.getTime()}},onPick({minDate:t}){null!==e.chooseDateDay&&(e.chooseDateDay[0]=t)}},sendData:{startTime:"",endTime:"",workUnitName:"",gender:""},genderList:[{name:"不限",value:0},{name:"男",value:1},{name:"女",value:2}],form:{gender:""}}},mounted(){this.getarchives()},methods:{formatDate(e,t){let a=t;if("string"==typeof e)return e;if(a||(a="yyyy-MM hh:mm:ss"),!e||null==e)return null;const i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length))),Object.getOwnPropertyNames(i).forEach(e=>{new RegExp(`(${e})`).test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)))}),a},chaxun(){this.pagenumber=[],this.numall=[],this.chooseDateDay.length>0?this.getarchives():this.$message.warning("请选择时间")},server(){this.sendData.workUnitName="",this.sendData.gender="",this.sendData.startTime="",this.sendData.endTime="",this.chooseDateDay=[]},getarchives(){this.sendData.startTime=this.chooseDateDay[0],this.sendData.endTime=this.chooseDateDay[1];const e=Object.assign({},this.sendData);this.$api.statics.administer(e).then(e=>{this.datalist=e.data.data,this.formdata=this.datalist[0].chartDTOList;let t=0;const a=[];for(let e=0;e<this.datalist[0].chartDTOList.length;e++)a.push(0);this.datalist.forEach(e=>{e.chartDTOList.forEach((i,s)=>{s<=e.chartDTOList.length-2&&(t+=i.clientCount),a[s]+=i.clientCount,this.liTotalCount[s]=t})}),a.forEach((e,i)=>{let s=0;i<a.length-2&&(0===t?(s=0,this.pagenumber.push(s.toFixed(2))):(s=e/t*100,this.pagenumber.push(s.toFixed(2)))),i<a.length-1&&this.numall.push(e)})})},chooseDateChange(){this.sendData.startTime=this.chooseDateDay[0],this.sendData.endTime=this.chooseDateDay[1]}}},v=(a("pCYz"),Object(s.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("div",{staticClass:"archives-top"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("p",[e._v("选择日期范围：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},on:{change:e.chooseDateChange},model:{value:e.chooseDateDay,callback:function(t){e.chooseDateDay=t},expression:"chooseDateDay"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-form",{staticClass:"form-inline",attrs:{inline:!1,model:e.form,"label-position":e.right}},[a("el-form-item",{staticStyle:{width:"25%"},attrs:{label:"单位：","label-width":"83px"}},[a("template",{slot:"label"},[e._v(" 单位： ")]),e._v(" "),a("el-select",{staticStyle:{width:"166px"},attrs:{placeholder:"请选择"},model:{value:e.sendData.workUnitName,callback:function(t){e.$set(e.sendData,"workUnitName",t)},expression:"sendData.workUnitName"}},e._l(e.msg,(function(e){return a("el-option",{key:e.id,attrs:{label:e.workUnitName,value:e.workUnitName}})})),1)],2)],1),e._v(" "),a("el-form",{staticClass:"form-inline",attrs:{inline:!1,model:e.form,"label-position":e.right}},[a("el-form-item",{staticStyle:{width:"25%"},attrs:{label:"性别：","label-width":"83px"}},[a("template",{slot:"label"},[e._v(" 性别： ")]),e._v(" "),a("el-select",{staticStyle:{width:"166px"},attrs:{placeholder:"请选择"},model:{value:e.sendData.gender,callback:function(t){e.$set(e.sendData,"gender",t)},expression:"sendData.gender"}},e._l(e.genderList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.value}})})),1)],2)],1),e._v(" "),a("div",{staticClass:"btn",on:{click:e.chaxun}},[e._v("统计")]),e._v(" "),a("div",{staticClass:"btn again",on:{click:e.server}},[e._v("重置")])],1)]),e._v(" "),a("div",{staticClass:"wltable"},[a("div",{staticClass:"tabletop"},[a("ul",[a("li",[e._v("建档人")]),e._v(" "),e._l(e.formdata,(function(t){return a("li",{key:t.id},[e._v(e._s(t.clientGridName))])}))],2)]),e._v(" "),a("div",{staticClass:"table-content"},[e._l(e.datalist,(function(t){return a("ul",{key:t.id},[a("li",[e._v(e._s(t.userName))]),e._v(" "),e._l(t.chartDTOList,(function(t){return a("li",{key:t.id},[e._v(e._s(t.clientCount))])}))],2)})),e._v(" "),a("ul",{staticClass:"total"},[a("li",[e._v("合计")]),e._v(" "),e._l(e.numall,(function(t){return a("li",{key:t.id},[e._v(e._s(t))])})),e._v(" "),a("li",[e._v("-")])],2),e._v(" "),a("ul",{staticClass:"percentage"},[a("li",[e._v("百分比")]),e._v(" "),e._l(e.pagenumber,(function(t){return a("li",{key:t.id},[e._v(e._s(t))])})),e._v(" "),a("li",[e._v("-")]),e._v(" "),a("li",[e._v("-")])],2)],2),e._v(" "),a("div",{staticClass:"desc"},[e._v("百分比：当前列总数（当前行总数） / 所有数据总和")])])])}),[],!1,null,"b04e618a",null).exports),p={name:"index",components:{},props:{msg:[]},data(){const e=this;return{datalist:[],formdata:[],liname:[],pagenumber:[],numall:[],liTotalCount:[],chooseDateDay:[this.formatDate(new Date((new Date).getTime()-2592e6),"yyyy-MM-dd"),this.formatDate(new Date,"yyyy-MM-dd")],pickerOptions:{disabledDate(t){if(null!==e.chooseDateDay){const a=new Date(e.chooseDateDay[0]),i=a.getFullYear()-1,s=`${a.getFullYear()+1}-${a.getMonth()+1}-${a.getDate()}`,n=`${i}-${a.getMonth()+1}-${a.getDate()}`,l=new Date(s),o=new Date(n);return t.getTime()>l.getTime()||t.getTime()<o.getTime()||(new Date).getTime()<t.getTime()}},onPick({minDate:t}){null!==e.chooseDateDay&&(e.chooseDateDay[0]=t)}},sendData:{startTime:"",endTime:"",workUnitName:"",gender:""},genderList:[{name:"不限",value:0},{name:"男",value:1},{name:"女",value:2}],form:{gender:""}}},mounted(){this.getarchives()},methods:{reverseMessage:e=>e,formatDate(e,t){let a=t;if("string"==typeof e)return e;if(a||(a="yyyy-MM hh:mm:ss"),!e||null==e)return null;const i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length))),Object.getOwnPropertyNames(i).forEach(e=>{new RegExp(`(${e})`).test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)))}),a},chaxun(){this.pagenumber=[],this.numall=[],this.chooseDateDay.length>0?this.getarchives():this.$message.warning("请选择时间")},server(){this.sendData.workUnitName="",this.sendData.gender="",this.sendData.startTime="",this.sendData.endTime="",this.chooseDateDay=[]},getarchives(){this.sendData.startTime=this.chooseDateDay[0].substring(0,7),this.sendData.endTime=this.chooseDateDay[1].substring(0,7);const e=Object.assign({},this.sendData);this.$api.statics.intervene(e).then(e=>{this.datalist=e.data.data,this.formdata=this.datalist[0].interveneCountDTOList;let t=0;const a=[];for(let e=0;e<this.datalist[0].interveneCountDTOList.length;e++)a.push(0);this.datalist.forEach(e=>{e.interveneCountDTOList.forEach((i,s)=>{s<=e.interveneCountDTOList.length-2&&(t+=i.interveneCount,a[s]+=i.interveneCount,this.liTotalCount[s]=t)}),this.liname.push(e)}),a.forEach((e,i)=>{if(i<a.length-2){const a=e/t*100;0===t?this.pagenumber.push("0.00"):this.pagenumber.push(a.toFixed(2))}i<a.length-1&&this.numall.push(e)})})},chooseDateChange(){this.sendData.startTime=this.chooseDateDay[0],this.sendData.endTime=this.chooseDateDay[1]}}},y=(a("ofMd"),{name:"index",components:{work:d,archives:m,administer:v,intervene:Object(s.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("div",{staticClass:"archives-top"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("p",[e._v("选择日期范围1：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},on:{change:e.chooseDateChange},model:{value:e.chooseDateDay,callback:function(t){e.chooseDateDay=t},expression:"chooseDateDay"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-form",{staticClass:"form-inline",attrs:{inline:!1,model:e.form,"label-position":e.right}},[a("el-form-item",{staticStyle:{width:"25%"},attrs:{label:"单位：","label-width":"83px"}},[a("template",{slot:"label"},[e._v("  单位： ")]),e._v(" "),a("el-select",{staticStyle:{width:"166px"},attrs:{placeholder:"请选择"},model:{value:e.sendData.workUnitName,callback:function(t){e.$set(e.sendData,"workUnitName",t)},expression:"sendData.workUnitName"}},e._l(e.msg,(function(e){return a("el-option",{key:e.id,attrs:{label:e.workUnitName,value:e.workUnitName}})})),1)],2)],1),e._v(" "),a("el-form",{staticClass:"form-inline",attrs:{inline:!1,model:e.form,"label-position":e.right}},[a("el-form-item",{staticStyle:{width:"25%"},attrs:{label:"性别：","label-width":"83px"}},[a("template",{slot:"label"},[e._v(" 性别： ")]),e._v(" "),a("el-select",{staticStyle:{width:"166px"},attrs:{placeholder:"请选择"},model:{value:e.sendData.gender,callback:function(t){e.$set(e.sendData,"gender",t)},expression:"sendData.gender"}},e._l(e.genderList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.value}})})),1)],2)],1),e._v(" "),a("div",{staticClass:"btn",on:{click:e.chaxun}},[e._v("统计")]),e._v(" "),a("div",{staticClass:"btn again",on:{click:e.server}},[e._v("重置")])],1)]),e._v(" "),a("div",{staticClass:"wltable"},[a("div",{staticClass:"tabletop"},[a("ul",[a("li",[e._v("建档人")]),e._v(" "),e._l(e.formdata,(function(t){return a("li",{key:t.id},[e._v(e._s(t.formatDate))])}))],2)]),e._v(" "),a("div",{staticClass:"table-content"},[e._l(e.datalist,(function(t){return a("ul",{key:t.id},[a("li",[e._v(e._s(t.userName))]),e._v(" "),e._l(t.interveneCountDTOList,(function(t){return a("li",{key:t.id},[e._v("\n          "+e._s(e.reverseMessage(t.interveneCount)))])}))],2)})),e._v(" "),a("ul",{staticClass:"total"},[a("li",[e._v("合计")]),e._v(" "),e._l(e.numall,(function(t){return a("li",{key:t.id},[e._v(e._s(t))])})),e._v(" "),a("li",[e._v("-")])],2),e._v(" "),a("ul",{staticClass:"percentage"},[a("li",[e._v("百分比")]),e._v(" "),e._l(e.pagenumber,(function(t){return a("li",{key:t.id},[e._v(e._s(e.reverseMessage(t)))])})),e._v(" "),a("li",[e._v("-")]),e._v(" "),a("li",[e._v("-")])],2)],2),e._v(" "),a("div",{staticClass:"desc"},[e._v("百分比：当前列总数（当前行总数） / 所有数据总和")])])])}),[],!1,null,"078bd3d6",null).exports},data:()=>({activeTabName:"audit",data:[]}),mounted(){this.getDetail()},methods:{async getDetail(){const e=await this.$api.statics.getlistPage({});this.data=e.data.data.list}}}),D=(a("HKRo"),Object(s.a)(y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"organization-management-page common-page-style"},[a("el-tabs",{model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[a("el-tab-pane",{attrs:{label:"工作量统计",name:"audit"}},[a("work")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"我的客户统计",name:"archives"}},[a("archives",{attrs:{msg:e.data}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"管理量统计",name:"administer"}},[a("administer",{attrs:{msg:e.data}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"随访记录统计",name:"intervene"}},[a("intervene",{attrs:{msg:e.data}})],1)],1)],1)}),[],!1,null,"49c46c45",null));t.default=D.exports},Xo38:function(e,t,a){},buYn:function(e,t,a){},cKgp:function(e,t,a){},eViE:function(e,t,a){"use strict";a("cKgp")},gX0l:function(e,t,a){var i,s,n;s=[t,a("MT78")],void 0===(n="function"==typeof(i=function(e,t){if(!t)return a="ECharts is not Loaded",void("undefined"!=typeof console&&console&&console.error&&console.error(a));var a,i=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],s={color:i,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:i[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{color:"#008acd",borderColor:"#008acd"},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{color:"#d87a80",color0:"#2ec7c9"},lineStyle:{width:1,color:"#d87a80",color0:"#2ec7c9"},areaStyle:{color:"#2ec7c9",color0:"#b6a2de"}},scatter:{symbol:"circle",symbolSize:4},map:{itemStyle:{color:"#ddd"},areaStyle:{color:"#fe994e"},label:{color:"#d87a80"}},graph:{itemStyle:{color:"#d87a80"},linkStyle:{color:"#2ec7c9"}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};t.registerTheme("macarons",s)})?i.apply(t,s):i)||(e.exports=n)},ofMd:function(e,t,a){"use strict";a("buYn")},pCYz:function(e,t,a){"use strict";a("yOHa")},pSTE:function(e,t,a){"use strict";a("qLJu")},qLJu:function(e,t,a){},rjRv:function(e,t,a){},ryUL:function(e,t,a){e.exports=a.p+"static/images/compress/noDataLine.814f667.png"},yOHa:function(e,t,a){}}]);