(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"11iF":function(t,e,r){t.exports=function(){"use strict";return function(t,e){e.prototype.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)}}}()},"8exl":function(t,e,r){},IEJZ:function(t,e,r){"use strict";var a={name:"MedicalHistorySelectUser",data:()=>({keyword:"",tableData:[],total:0,currentPage:1,pageSize:5,selectRadio:""}),mounted(){this.queryList()},methods:{handleRowClick(t){this.$emit("change",t)},handleCurrentChange(t){this.currentPage=t,this.queryList()},handleSizeChange(t){this.pageSize=t,this.currentPage=1,this.queryList()},search(){this.keyword="",this.currentPage=1,this.queryList()},reset(){this.currentPage=1,this.queryList()},async queryList(){const t=await this.$api.userFollowInterface.getClientInfoListPage({keywords:this.keyword,pageNo:this.currentPage,pageSize:this.pageSize}),{data:e}=t.data;e&&(this.tableData=e.data||[],this.total=e.total)}}},s=(r("rn8r"),r("KHd+")),i=Object(s.a)(a,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"medical-history-select-user"},[a("div",{staticClass:"divTop",staticStyle:{margin:"-15px 0 15px 0"}},[a("div",{staticClass:"searchCondition"},[a("div",{staticClass:"searchLeft"},[a("div",{staticClass:"searchInputFormItem"},[a("el-input",{attrs:{placeholder:"姓名/编号/单位"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),a("span",{staticClass:"searchBtnImgSpan",on:{click:t.search}},[a("img",{staticClass:"searchBtnImg",attrs:{src:r("RQrH")}})])],1)]),t._v(" "),a("div",{staticClass:"searchRight"},[a("div",{staticClass:"buttones"},[a("div",{staticClass:"searchFor",on:{click:t.search}},[a("img",{attrs:{src:r("nc5h"),alt:""}})]),t._v(" "),a("div",{staticClass:"resetAll",on:{click:t.reset}},[t._v("重置")])])])])]),t._v(" "),a("el-table",{staticClass:"openTable",attrs:{data:t.tableData},on:{"row-click":t.handleRowClick}},[a("el-table-column",{attrs:{width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.row.id},model:{value:t.selectRadio,callback:function(e){t.selectRadio=e},expression:"selectRadio"}},[t._v(" ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.gender?a("span",[t._v("男")]):t._e(),t._v(" "),2===e.row.gender?a("span",[t._v("女")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev,pager,next,jumper,total,sizes","page-sizes":[5],"pager-count":5,total:t.total,"page-size":t.pageSize,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)}),[],!1,null,"71c2b042",null);e.a=i.exports},"R/Rq":function(t,e,r){},RQrH:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAFYklEQVR4Xu2ZUWgcVRSGz5nZXbU267ZIbaKimAqtrfqgWEUiaqAPFcG2kD6oqNXcmWwIisU8SKCDxZcYGjVsZu7FvpWCAbEIVWvTUFFa7aPSClottZKQFjFR1CabnSNT7sgQNrubvTNTCjevc+8///nmv2fOThD0X00CqPnUJqAB1UmIBqQBqTURnSCdIJ0gNQI6QWr8dA/SCdIJUiOgE6TGT/cgnSCdIDUCOkFq/HQP0gnSCVIjoBOkxu+q9SDHcTKTk5MPAMCDAHALIrYg4iwA/AoAp1zXPY2IpFae+u7UARWLxQ0LCwt9APAcALQsVQIiniGi4ba2tgOO41xWL7U5hdQAFYvFlZVKZS8RBXDMRu0i4kUAeJNzvr/RPXGuSwVQb2/vHeVy+TAAbKxi/hwinieiGQBYg4jriGjN4nWI+F5nZ+furq6uSpwA6mklDkjCOQkArREzs4i4zzTNg6Ojo2ejJokILct6CBG7iejFaNoQ8fNcLvfMyMjIXL3C4rqeKCB5rE4S0abQMCJ+nMlkukul0u/1iujt7d1YLpc/jCYPEd/hnPfX2xvX9UQBWZY1TESvRcwOc853L+ft1N/f3zI7O/sJET0e6CCib5pmx+jo6Im4INTSSQyQfFt9Hx6RIDme5+1YDpzQeE9Pz6pKpXIKANZJSD/lcrl70zhqiQGyLKtEREVZ5Gw2m21v5Fgt9TRt237S9/1jkevPCiEOJp2iRAA5jpObmpq6RER5+cT3cM7fUi3GsqxxIuqUmkc551tUNevtTwQQY2wzAHwT3jyTydy9+G1Vz1i167Zt7/J9/8o8hIj/tra2FhzHmW9Gq9E9iQCyLKuPiN6XJs4JIe5q1FCtdbZt3+r7/m/hGtM073dd97s4tJfSSApQMDEPyCd9nHP+RBxFBDOSbdvzRJQJ9EzT3Oq67mdxaKcN6F0ielXe9JAQYltcRTDGgvlptdTbJoQ4FJd2NZ1EEsQY2wMAjrzhCSHEo3EUwRjLAkAwRV/xjYhbOOdH49BOO0EvE9EHsoiLnuetbWb+WWyaMbYeAH6I9KB213V/ueYAySHxTMT4w0KIb1ULYYy9AQCDUmeGc746DvC1fCVyxIIbMsYuAMBtMkX7OeevqAAaGxszx8fHg8l8g9Q8wDl/XkWzkb2JAbIsa4CI9koTFUS8j3MeTVUj/v5fY9t2t+/7IrKpQwjx9bJEmlicGCDG2M0AEHzKuEn6Ol0oFB4ZHBz8a7k+bdveRETBV4GVMj1jnPOdy9VpZn1igAIzlmXZROSGxhDxuGEY213X/aNRsxLOp0R0u9xzOZvNri+VSucb1VBZlyggOdh9RETROeisYRiW53kTtYwHPWdiYmIXEe0LkxMmMZ/Pbx4aGvpbpfBG9yYKKDDhOM71U1NTR4josagpRDyGiMGv8SOu604GbyM557QDwNMA8FLYkKsU82U+n38qDUiJAwqK6+vru25ubo4DwAvVnhwiLhDRnwCwKhwCF60rA8CPi75ppwIpFUBhsbZt7yCiISK6s+GIIwbN2QKAnxHxcPhlUe5PHFKqgMI0zc/Pbw8+yCNiBxHdUAXWJUT8wjAM7rruV+F1xtiKtCGlDigKI/jv6vT09D2VSmWtYRg3+r4/k8lkLpRKpSAtVf+rmjakqwqo0WO2eN1SkABgqxDin2Z1q/bHOMXS1KoGyTCM1z3PG47TxzWZoKV6kmEYA57nva0BRQgESQp+GwPAikKhMNLMT5laQK/pBMWZlKW0NKA6lDUgDUjtIOoE6QTpBKkR0AlS46d7kE6QTpAaAZ0gNX66B+kE6QSpEdAJUuOne5BOkE6QGgGdIDV+/wGPpfdYpoU8PAAAAABJRU5ErkJggg=="},Ui4S:function(t,e,r){"use strict";r("8exl")},Wgwc:function(t,e,r){t.exports=function(){"use strict";var t="millisecond",e="second",r="minute",a="hour",s="day",i="week",n="month",o="quarter",l="year",c="date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,r){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(r)+t},h={s:m,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),a=Math.floor(r/60),s=r%60;return(e<=0?"+":"-")+m(a,2,"0")+":"+m(s,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var a=12*(r.year()-e.year())+(r.month()-e.month()),s=e.clone().add(a,n),i=r-s<0,o=e.clone().add(a+(i?-1:1),n);return+(-(a+(r-s)/(i?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(u){return{M:n,y:l,w:i,d:s,D:c,h:a,m:r,s:e,ms:t,Q:o}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},f="en",g={};g[f]=p;var v=function(t){return t instanceof S},b=function(t,e,r){var a;if(!t)return f;if("string"==typeof t)g[t]&&(a=t),e&&(g[t]=e,a=t);else{var s=t.name;g[s]=t,a=s}return!r&&a&&(f=a),a||!r&&f},y=function(t,e){if(v(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new S(r)},D=h;D.l=b,D.i=v,D.w=function(t,e){return y(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function p(t){this.$L=b(t.locale,null,!0),this.parse(t)}var m=p.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(u);if(a){var s=a[2]-1||0,i=(a[7]||"0").substring(0,3);return r?new Date(Date.UTC(a[1],s,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)):new Date(a[1],s,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return D},m.isValid=function(){return!("Invalid Date"===this.$d.toString())},m.isSame=function(t,e){var r=y(t);return this.startOf(e)<=r&&r<=this.endOf(e)},m.isAfter=function(t,e){return y(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<y(t)},m.$g=function(t,e,r){return D.u(t)?this[e]:this.set(r,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,o){var u=this,d=!!D.u(o)||o,p=D.p(t),m=function(t,e){var r=D.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return d?r:r.endOf(s)},h=function(t,e){return D.w(u.toDate()[t].apply(u.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},f=this.$W,g=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(p){case l:return d?m(1,0):m(31,11);case n:return d?m(1,g):m(0,g+1);case i:var y=this.$locale().weekStart||0,S=(f<y?f+7:f)-y;return m(d?v-S:v+(6-S),g);case s:case c:return h(b+"Hours",0);case a:return h(b+"Minutes",1);case r:return h(b+"Seconds",2);case e:return h(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(i,o){var u,d=D.p(i),p="set"+(this.$u?"UTC":""),m=(u={},u[s]=p+"Date",u[c]=p+"Date",u[n]=p+"Month",u[l]=p+"FullYear",u[a]=p+"Hours",u[r]=p+"Minutes",u[e]=p+"Seconds",u[t]=p+"Milliseconds",u)[d],h=d===s?this.$D+(o-this.$W):o;if(d===n||d===l){var f=this.clone().set(c,1);f.$d[m](h),f.init(),this.$d=f.set(c,Math.min(this.$D,f.daysInMonth())).$d}else m&&this.$d[m](h);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[D.p(t)]()},m.add=function(t,o){var c,u=this;t=Number(t);var d=D.p(o),p=function(e){var r=y(u);return D.w(r.date(r.date()+Math.round(e*t)),u)};if(d===n)return this.set(n,this.$M+t);if(d===l)return this.set(l,this.$y+t);if(d===s)return p(1);if(d===i)return p(7);var m=(c={},c[r]=6e4,c[a]=36e5,c[e]=1e3,c)[d]||1,h=this.$d.getTime()+t*m;return D.w(h,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var r=t||"YYYY-MM-DDTHH:mm:ssZ",a=D.z(this),s=this.$locale(),i=this.$H,n=this.$m,o=this.$M,l=s.weekdays,c=s.months,u=function(t,a,s,i){return t&&(t[a]||t(e,r))||s[a].substr(0,i)},p=function(t){return D.s(i%12||12,t,"0")},m=s.meridiem||function(t,e,r){var a=t<12?"AM":"PM";return r?a.toLowerCase():a},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,"0"),MMM:u(s.monthsShort,o,c,3),MMMM:u(c,o),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:u(s.weekdaysMin,this.$W,l,2),ddd:u(s.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:D.s(i,2,"0"),h:p(1),hh:p(2),a:m(i,n,!0),A:m(i,n,!1),m:String(n),mm:D.s(n,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:a};return r.replace(d,(function(t,e){return e||h[t]||a.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(t,c,u){var d,p=D.p(c),m=y(t),h=6e4*(m.utcOffset()-this.utcOffset()),f=this-m,g=D.m(this,m);return g=(d={},d[l]=g/12,d[n]=g,d[o]=g/3,d[i]=(f-h)/6048e5,d[s]=(f-h)/864e5,d[a]=f/36e5,d[r]=f/6e4,d[e]=f/1e3,d)[p]||f,u?g:D.a(g)},m.daysInMonth=function(){return this.endOf(n).$D},m.$locale=function(){return g[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),a=b(t,e,!0);return a&&(r.$L=a),r},m.clone=function(){return D.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},p}(),A=S.prototype;return y.prototype=A,[["$ms",t],["$s",e],["$m",r],["$H",a],["$W",s],["$M",n],["$y",l],["$D",c]].forEach((function(t){A[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),y.extend=function(t,e){return t.$i||(t(e,S,y),t.$i=!0),y},y.locale=b,y.isDayjs=v,y.unix=function(t){return y(1e3*t)},y.en=g[f],y.Ls=g,y.p={},y}()},nc5h:function(t,e){t.exports="data:image/png;base64,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"},rn8r:function(t,e,r){"use strict";r("R/Rq")},vHrX:function(t,e,r){"use strict";r.r(e);var a=r("IEJZ"),s=r("Wgwc");const i=r("11iF");s.extend(i);var n={name:"MedicalHistoryForm",components:{SelectUser:a.a},props:{detail:{type:Boolean,default:!1},id:{type:[String,Number],required:!1,default:""}},data(){return{popoverStatus:!1,form:{clientInfoId:"",hospital:"",department:"",medicalType:"",patientNo:"",inDate:"",outDate:"",doctorName:"",result:"",complaint:"主诉",hpi:"现病史",examination:"检查",diagnosis:"诊断",therapy:"方案",orgCode:""},options:{inDate:{disabledDate:t=>{const e=s(new Date).format("YYYY-MM-DD");return!!s(t).isAfter(e,"day")}},outDate:{disabledDate:t=>{const e=this.form.inDate?s(this.form.inDate).format("YYYY-MM-DD"):s(new Date).format("YYYY-MM-DD");return!s(t).isSameOrAfter(e)}}},rules:{clientInfoId:[{required:!0,message:"客户不能为空"}],medicalType:[{required:!0,message:"就医类型不能为空"}],hospital:[{required:!0,message:"医疗机构不能为空"}],inDate:[{required:!0,message:"就医时间不能为空"}],result:[{required:!0,message:"当前状态不能为空"}],hpi:[{required:!0,message:"现病史不能为空"}],diagnosis:[{required:!0,message:"诊断不能为空"}]},resultOptions:[{value:1,label:"未指定"},{value:2,label:"治疗中"},{value:3,label:"转诊"},{value:4,label:"转为慢病"},{value:5,label:"痊愈"},{value:6,label:"其他"}],typeOptions:[{value:1,label:"门诊"},{value:2,label:"住院"}],currentUser:{},ids:this.$route.query.id}},mounted(){this.ids&&this.$api.medicalHistoryInterface.medicalInfoDetail(this.ids).then(t=>{const{data:e}=t;console.log(e,"撒打算大的"),this.form=Object.assign(this.form,e.data||{}),this.currentUser={id:this.form.clientInfoId,name:this.form.clientName,age:this.form.age,gender:this.form.gender,gridName:this.form.clientGridName}})},methods:{handleStartDateChange(){1===this.form.medicalType&&this.form.inDate&&(this.form.outDate=this.form.inDate)},handleSelectUser(t){this.$refs.userPopover.doClose(),this.popoverStatus=!1,this.currentUser=t,this.form.clientInfoId=t.id,this.$refs.form.validateField("clientInfoId")},replace(t){const e=t.replace(/[\u4e00-\u9fa5]/gi,"");this.form.patientNo=e},submit(){this.$refs.form.validate(t=>{if(t){const t={clientInfoId:this.form.clientInfoId,medicalType:this.form.medicalType,hospital:this.form.hospital,patientNo:this.form.patientNo,inDate:this.form.inDate,outDate:this.form.outDate,doctorName:this.form.doctorName,department:this.form.department,result:this.form.result,complaint:this.form.complaint,examination:this.form.examination,diagnosis:this.form.diagnosis,therapy:this.form.therapy,hpi:this.form.hpi,orgCode:this.form.orgCode,organId:this.form.organId};this.id&&(t.id=this.id),this.$api.medicalHistoryInterface.medicalInfo(t).then(t=>{const{data:e}=t;e.success&&(this.$message.success("操作成功"),this.$emit("afterSubmit"))})}})},goBack(){this.$router.go(-1)}}},o=(r("Ui4S"),r("KHd+")),l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"medical-history-form"},[r("el-form",{ref:"form",staticClass:"medical-history-form",attrs:{model:t.form,rules:t.rules,"label-width":"90px","label-suffix":"："}},[r("div",{staticClass:"divRightTitleDiv",staticStyle:{"margin-top":"-20px"}},[r("div",{staticClass:"divRightTitle"},[t._v(t._s(t.id?"":"新增")+"就医用户信息\n        "),r("div",{staticClass:"titleBiao"})])]),t._v(" "),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"姓名",prop:"clientInfoId"}},[r("el-popover",{ref:"userPopover",attrs:{placement:"bottom-start",width:"650",trigger:"click"},on:{show:function(e){t.popoverStatus=!0},hide:function(e){t.popoverStatus=!1}}},[t.popoverStatus?r("select-user",{on:{change:t.handleSelectUser}}):t._e(),t._v(" "),r("el-input",{staticClass:"select-user-trigger",attrs:{slot:"reference",disabled:"",placeholder:"请选择客户"},slot:"reference",model:{value:t.currentUser.name,callback:function(e){t.$set(t.currentUser,"name",e)},expression:"currentUser.name"}},[r("i",{class:"el-icon-caret-"+(t.popoverStatus?"top":"bottom"),attrs:{slot:"suffix"},slot:"suffix"})])],1)],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"性别",prop:"gender"}},[r("el-radio",{attrs:{label:2,disabled:""},model:{value:t.currentUser.gender,callback:function(e){t.$set(t.currentUser,"gender",e)},expression:"currentUser.gender"}},[t._v("女")]),t._v(" "),r("el-radio",{attrs:{label:1,disabled:""},model:{value:t.currentUser.gender,callback:function(e){t.$set(t.currentUser,"gender",e)},expression:"currentUser.gender"}},[t._v("男")])],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"年龄",prop:"age"}},[r("el-input",{attrs:{disabled:""},model:{value:t.currentUser.age,callback:function(e){t.$set(t.currentUser,"age",e)},expression:"currentUser.age"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"客户编号",prop:"customerType"}},[r("el-input",{attrs:{disabled:""},model:{value:t.currentUser.gridName,callback:function(e){t.$set(t.currentUser,"gridName",e)},expression:"currentUser.gridName"}})],1)],1)],1),t._v(" "),r("div",{staticClass:"divRightTitleDiv",staticStyle:{"margin-top":"-20px"}},[r("div",{staticClass:"divRightTitle"},[t._v("就医信息\n        "),r("div",{staticClass:"titleBiao"})])]),t._v(" "),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"就医编号",prop:"hospital"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:t.form.hospital,callback:function(e){t.$set(t.form,"hospital",e)},expression:"form.hospital"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"就医类型",prop:"medicalType"}},[r("el-select",{attrs:{placeholder:"请选择就医类型"},model:{value:t.form.medicalType,callback:function(e){t.$set(t.form,"medicalType",e)},expression:"form.medicalType"}},t._l(t.typeOptions,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"医保卡号",prop:"department"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:t.form.department,callback:function(e){t.$set(t.form,"department",e)},expression:"form.department"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"就医机构",prop:"patientNo"}},[r("el-input",{attrs:{placeholder:"请输入"},on:{input:t.replace},model:{value:t.form.patientNo,callback:function(e){t.$set(t.form,"patientNo",e)},expression:"form.patientNo"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"就医科室",prop:"doctorName"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:t.form.doctorName,callback:function(e){t.$set(t.form,"doctorName",e)},expression:"form.doctorName"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"主管医生",prop:"hpi"}},[r("el-input",{attrs:{placeholder:"请输入",maxlength:300},model:{value:t.form.hpi,callback:function(e){t.$set(t.form,"hpi",e)},expression:"form.hpi"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"就医时间",prop:"inDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"请选择就医时间","value-format":"yyyy-MM-dd","picker-options":t.options.inDate},on:{change:t.handleStartDateChange},model:{value:t.form.inDate,callback:function(e){t.$set(t.form,"inDate",e)},expression:"form.inDate"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"出院时间",prop:"outDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"请选择出院时间","value-format":"yyyy-MM-dd","picker-options":t.options.outDate},model:{value:t.form.outDate,callback:function(e){t.$set(t.form,"outDate",e)},expression:"form.outDate"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"就医金额",prop:"complaint"}},[r("el-input",{attrs:{placeholder:"请输入",maxlength:300},model:{value:t.form.complaint,callback:function(e){t.$set(t.form,"complaint",e)},expression:"form.complaint"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"当前状态",prop:"result"}},[r("el-select",{attrs:{placeholder:"请选择当前状态"},model:{value:t.form.result,callback:function(e){t.$set(t.form,"result",e)},expression:"form.result"}},t._l(t.resultOptions,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"现病史",prop:"therapy"}},[r("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入",maxlength:4e3,"show-word-limit":""},model:{value:t.form.hpi,callback:function(e){t.$set(t.form,"hpi",e)},expression:"form.hpi"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"主诉",prop:"therapy"}},[r("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入",maxlength:4e3,"show-word-limit":""},model:{value:t.form.complaint,callback:function(e){t.$set(t.form,"complaint",e)},expression:"form.complaint"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"检查",prop:"therapy"}},[r("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入",maxlength:4e3,"show-word-limit":""},model:{value:t.form.examination,callback:function(e){t.$set(t.form,"examination",e)},expression:"form.examination"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"诊断",prop:"therapy"}},[r("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入",maxlength:4e3,"show-word-limit":""},model:{value:t.form.diagnosis,callback:function(e){t.$set(t.form,"diagnosis",e)},expression:"form.diagnosis"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"方案",prop:"therapy"}},[r("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入",maxlength:4e3,"show-word-limit":""},model:{value:t.form.therapy,callback:function(e){t.$set(t.form,"therapy",e)},expression:"form.therapy"}})],1)],1)],1),t._v(" "),r("div",{staticClass:"handle-btn mt30 mb30"},[r("el-button",{staticClass:"reset-btn",attrs:{size:"small"},on:{click:t.goBack}},[t._v("返回")]),t._v(" "),r("el-button",{staticClass:"add-btn",attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("保存")])],1)],1)],1)}),[],!1,null,"509253e2",null);e.default=l.exports}}]);