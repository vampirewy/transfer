(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"4y1K":function(e,t,i){"use strict";i("B0Yx")},B0Yx:function(e,t,i){},RA7K:function(e,t,i){"use strict";i.r(t);var a={name:"create_edit",data:()=>({routeType:1,labelPosition:"top",form:{name:"",guideType:"",guideContent:""},rules:{name:{required:!0,message:"请输入方案名称",trigger:"blur"},guideType:{required:!0,message:"请选择指导类型",trigger:"change"},guideContent:{required:!0,message:"请输入指导内容",trigger:"blur"}},guideTypeList:[]}),mounted(){this.getGuideTypeList(),this.onLoad()},methods:{getGuideTypeList(){this.$api.lifeStyleInterface.getGuideTypeList().then(({data:e})=>{this.guideTypeList=e.data})},onLoad(){const e=this.$route;"life_style_create"===e.meta.type?this.routeType=1:"life_style_edit"===e.meta.type&&(this.routeType=2,this.getDetail())},async getDetail(){const e={id:this.$route.params.id},t=await this.$api.lifeStyleInterface.getLifeStyleById(e),{data:i}=t.data;this.form.name=i.name,this.form.guideType=i.guideType,this.form.guideContent=i.guideContent},cancel(){this.$router.back()},save(){this.$refs.form.validate(e=>{if(e){const e={organId:"",orgCode:"",name:this.form.name,guideType:this.form.guideType,guideContent:this.form.guideContent};let t;1===this.routeType?t=this.$api.lifeStyleInterface.saveLifeStyle(e):2===this.routeType&&(e.id=this.$route.params.id,t=this.$api.lifeStyleInterface.updateLifeStyle(e)),t.then(()=>{this.$message.success("操作成功"),this.cancel()})}})}}},s=(i("4y1K"),i("KHd+")),r=Object(s.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"create-edit"},[i("div",{staticClass:"title"},[e._v(e._s(1===e.routeType?"新增":"编辑")+"-生活方式模板")]),e._v(" "),i("el-form",{ref:"form",staticClass:"life-style-form",attrs:{model:e.form,rules:e.rules,"label-width":"90px","label-suffix":"："}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"方案名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"指导类型",prop:"guideType"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.guideType,callback:function(t){e.$set(e.form,"guideType",t)},expression:"form.guideType"}},e._l(e.guideTypeList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.paramValue}})})),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"指导内容",prop:"guideContent"}},[i("el-input",{attrs:{type:"textarea",rows:6,maxlength:"1000","show-word-limit":"",placeholder:"请输入"},model:{value:e.form.guideContent,callback:function(t){e.$set(e.form,"guideContent",t)},expression:"form.guideContent"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"form-buttons"},[i("el-button",{attrs:{plain:"",size:"small"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)}),[],!1,null,"1c562912",null);t.default=r.exports}}]);