(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{BVtV:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACPTkDJAAAC3ElEQVRYCe1XXWsTQRTdiUmR2iJiKjZ9ULF+vPgi+psKmkJb9U1MIvrkR4XEQv+T+uKLYkRfmordIMUWtIlZ7132jHdmdnd2pYKCgXJn5p45c+buvTPTICj0e97+PNNubkWFwEFgQ5UcaPcWlItg5k5zsBoF0VN7lXgGD4Lm4crg6qPbn45JYAUd1joaRy/3v/3Y6zS3QowrbkRRpDrLgwkG2apARa1eQxNIn9GOGaDB8FDHESkBmKTX4B3wnwRxu4oB3gG3aSYpVCEpj12aAcAY1G3Moa8ZtCB4EgtAH6LgpzisoX04llewV0lj3tyMahIHiRrL33QnHH3FAH2JYau3UEd/aUmNiADdX2HEyM32qb0Hq4Pr6LOl/jW2J45X37Cf2/g5Cthxd73xAgCfTSVI++JT1crbO49P79uEcbLxIO3rHZlFG5DVz/ruWfi/eFzGoOjZw+W8RuW8zvsyvsL8lcYUJ0rehpMsfEKYmMAoN99kENMZppUbChjARxLt5STAc/XarJ198LF1CKaPHjlzMJ5cAihvcjrBTEV9353oraEOGJyW4o6CneH4A51HuvqghC1V6ixVqhxyt9AW55WBTDqylHnIUWAHESRZwXQI7CCCICuYDkFSsq8w0WcNgiTLfHPY3wdIfy7Ob76y4Mix/Va3cTHH/4+5dFFBN9/m95e3V6jgblBIzsvCA6aM5bASx3uyG/e688+UMsPsCCh7NpcRQ9g+neUX5BwjixLHIgCHdfCL7NTcWCNNAHza8m39ZXd8WQ+IRtplK9zepldA/FTIOaDo8AoJcy6r0n0KvAISYv0g8xGW9XsFcATCcPRR3jJFFqHsHtbrtbO+yHgFMAE9z41bqogAfgrRXOcpZM/1CuAJ09YtZ5PIftmk9ArwJaFcnNtlk9Ir4E8nob6NsBN5I/FzHuO/ayWH5AZfWgRukTP+53H79eDAfkNgYlFLHBLK3P9/RgR+ArTHKxD6K0LKAAAAAElFTkSuQmCC"},CG6z:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADuElEQVRoQ+1YTYhbVRg930uGOFNqq63gFDeFCi6k0tq81DqKafIcJi9CoSK4sAtBwY2guGmtG1sQlLoR3HRjdxX82eSnTl4arFN1Xl6lo0UF7UIELZWS0dp2xs67p6RoTcdM7st7dpKBZJl7vvud853v/rwrWOE/WeH8MRDQawcHDgwciFiBQQu1FnBy6qsNV+f8JwA1QcgmAHcLoSj8BZDvDKAwHBsqptNbZiMW/kb4/+LAsRPeqP+X2g/gOZJDHckJLooYh9YkVr89NnbfxahCIgsoVb3HFf2jIO7ohoyInI3HZNd4Onmmm7jF2EgCSpX6swo8DNAIRULwp2FIPrfT/DRUPBD+JC5X6o8p4aS2ZXTMRC4YYqRymW1nddB246Ec+GRmZtXC+fkfCI6GSdqmDb60rdRDYeYKJaBYcfcTPKBLKCIE8AXJHVosjCdtK/mhDhd5DZA0Sk79HMG7dMnEkIMAf6LCYS0WctK2zDEdLrKAcsUb8+F/pkskIuVcJpkvH/fGlVIlHR4QNTSSGB1/+IHzeuy/iK5bqFCdfhUKBzslaW6RTNyWzD+yuVF2Tm32uTATiFRMdud3mh8Fwv4N6l5AxX0X4AtLJ5HLAmO7bW37pomp1bz1lxb83wKSejFvpd4JiL0O61pA0XE/ILl7qSQxMZ6eyCaPto4XK+4cwYSOWHPN2BnzNR2udTyEgOmPSexqm0TkUD5rvrJ4rFitPwPyThDDIhgmOEzKBMD7byIj8oadNff1RIAIarmMaYmIryNwrHZqk7/gnya4qi8ECORnScQfzD26VdvrtRrjl/z6SZDmf7bEXjkgMF6OieG1ElKQC7ns1m8Xkyw47usg2/a59EpAu5YRYNK2UuOtY4WquwOKJwDE2sb0l4CbT9apqe9Xz175vXkebFxqjfSZA3Latswt/5AtOtNHSOzRHIC924XaEPsxb6Xubf5fPO4+RZ/v63anfnPgV9syN5RqM/cof+7rIF9sfSYAf+Sy5tpS1a2SSOuqf/1a0E+LGIAvMPYS6s0g5PtRQLOiV7v55Ow3B4IW/gZuICBIyYpOh9tokAk6YJbFAc/zRhoNdH59CykkHl83n05vnOsmXPs94DjT6+Zp7AHUmm4mjowVaYzEho7o3lG1AgqO+znIUG82kUVAqnnLzHa8fuiSFBy3AXKtDncrxkXknJ01Oz6eBXCg/rxQvUXg9ltBcsk5RWZF8JKdMd+L5MCykg6RTOtAiDmXNWQgYFnL3SbZwIGBAxErsOJb6Bom5ZJA0BFN/wAAAABJRU5ErkJggg=="},EP6m:function(e,t,a){},GmEb:function(e,t,a){},JtFX:function(e,t){e.exports="data:image/png;base64,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"},L2oC:function(e,t,a){},LvwS:function(e,t,a){},Ot0U:function(e,t,a){"use strict";a("EP6m")},Qnz1:function(e,t,a){"use strict";a.r(t);var s=a("IZzX"),l=a("M07H"),o=a("pvXR"),n=a("aVcm"),r={name:"ExceptionExplain",props:{id:{type:[Number,String],required:!0}},data:()=>({exceptions:[]}),mounted(){this.queryList()},methods:{queryList(){this.$api.accessReport.getExceptionList(this.id).then(({data:e})=>{this.exceptions=e.data})},triggerExpand(e){this.$set(e,"expand",!e.expand)}}},i=(a("kAwU"),a("KHd+")),c=Object(i.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"exception-explain"},[e._m(0),e._v(" "),e._l(e.exceptions,(function(t,s){return a("div",{key:s,class:"exception-item "+(t.expand?"expand":"")},[a("div",{staticClass:"exception-header",on:{click:function(a){return e.triggerExpand(t)}}},[a("span",[e._v(e._s(s+1)+"."+e._s(t.abnormalName))]),e._v(" "),a("i",{class:t.expand?"el-icon-caret-top":"el-icon-caret-bottom"})]),e._v(" "),t.expand?a("div",{staticClass:"detail"},[a("el-form",{staticClass:"detail-form"},[a("el-form-item",{attrs:{label:"医学解释"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},maxlength:"500","show-word-limit":"",placeholder:"",disabled:""},model:{value:t.medicalExplain,callback:function(a){e.$set(t,"medicalExplain",a)},expression:"exception.medicalExplain"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"病因提示"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},maxlength:"500","show-word-limit":"",placeholder:"",disabled:""},model:{value:t.commonCause,callback:function(a){e.$set(t,"commonCause",a)},expression:"exception.commonCause"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"体检建议"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},maxlength:"500","show-word-limit":"",placeholder:"",disabled:""},model:{value:t.advice,callback:function(a){e.$set(t,"advice",a)},expression:"exception.advice"}})],1)],1),e._v(" "),a("div",{staticClass:"detail-button"},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("保存数据")])],1)],1):e._e()])})),e._v(" "),a("div",{staticClass:"page-button"},[a("el-button",{staticClass:"cancelBtn",attrs:{size:"small"},on:{click:function(t){return e.$emit("close")}}},[e._v("返回")])],1)],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"divRightTitleDiv"},[t("div",{staticClass:"divRightTitle",staticStyle:{"margin-top":"0"}},[this._v("异常解读\n      "),t("div",{staticClass:"titleBiao"})])])}],!1,null,"41f50e73",null).exports,p={name:"MatchException",data:()=>({selectRadio:"",name:"",tableData:[],total:0,currentPage:1,pageSize:5}),props:{exception:{type:Object,required:!0}},mounted(){this.queryList()},methods:{submit(){if(!this.selectRadio)return this.$message.error("请先选择要匹配的异常"),!1;this.$api.accessReport.matchException({reportAbnormalTempId:this.exception.id,organAbnormalId:this.selectRadio}).then(()=>{this.$message.success("操作成功"),this.$emit("close")})},handleCurrentChange(e){this.currentPage=e,this.queryList()},handleSizeChange(e){this.pageSize=e,this.currentPage=1,this.queryList()},search(){this.currentPage=1,this.queryList()},async queryList(){const e=await this.$api.unusualListInterface.listPage({name:this.name,pageNo:this.currentPage,pageSize:this.pageSize}),{data:t}=e.data;t&&(this.tableData=t.list||[],this.total=t.total)}}},d=(a("lhMe"),Object(i.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"match-exception-dialog",attrs:{"modal-append-to-body":!1,title:"未匹配异常",visible:!0,width:"670px","before-close":function(){return e.$emit("close")}}},[a("div",{staticClass:"title"},[e._v("异常名称："+e._s(e.exception.abnormalName))]),e._v(" "),a("div",{staticClass:"query"},[a("el-input",{attrs:{placeholder:"输入异常名称搜索"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{staticClass:"search-button",on:{click:e.search}},[a("i",{staticClass:"el-icon-search"})])],1),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.id},model:{value:e.selectRadio,callback:function(t){e.selectRadio=t},expression:"selectRadio"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"abnormalName",label:"异常名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dangerLevel",label:"等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.dangerLevel?a("span",[e._v("一级")]):e._e(),e._v(" "),2===t.row.dangerLevel?a("span",[e._v("二级")]):e._e(),e._v(" "),3===t.row.dangerLevel?a("span",[e._v("三级")]):e._e(),e._v(" "),4===t.row.dangerLevel?a("span",[e._v("四级")]):e._e(),e._v(" "),5===t.row.dangerLevel?a("span",[e._v("五级")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev,pager,next,jumper,total,sizes","page-sizes":[5],"pager-count":5,total:e.total,"page-size":e.pageSize,"current-page":e.currentPage},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),e._v(" "),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{size:"small",plain:""},on:{click:function(t){return e.$emit("close")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("确定")])],1)],1)}),[],!1,null,"0c3dc10f",null).exports),u=a("9aOt"),m={name:"SportTemplate",data:()=>({name:"",tableData:[],total:0,currentPage:1,pageSize:5,selected:[],selectedData:[]}),computed:{sportTypeMap(){const e={};return u.b.forEach(t=>{e[t.value]=t.name}),e},sportSortMap(){const e={};return u.a.forEach(t=>{e[t.value]=t.name}),e},strengthDegreeMap(){const e={};return u.e.forEach(t=>{e[t.value]=t.name}),e}},mounted(){this.queryList()},methods:{submit(){this.$emit("change",this.selectedData)},checkedChange(e,t){e?this.selectedData.push(t):this.selectedData.splice(this.selectedData.indexOf(t),1)},handleCurrentChange(e){this.currentPage=e,this.queryList()},handleSizeChange(e){this.pageSize=e,this.currentPage=1,this.queryList()},search(){this.currentPage=1,this.queryList()},async queryList(){const e=await this.$api.sportListInterface.getSportLibraryListPage({keywords:this.name,pageNo:this.currentPage,pageSize:this.pageSize}),{data:t}=e.data;t&&(this.tableData=t.data||[],this.total=t.total)}}},h=(a("fGBb"),{name:"Comment",props:["id"],components:{SportTemplate:Object(i.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sport-template"},[s("div",{staticClass:"searchInputFormItem"},[s("el-input",{attrs:{placeholder:"输入运动名称搜索"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),s("span",{staticClass:"searchBtnImgSpan",on:{click:e.search}},[s("img",{staticClass:"searchBtnImg",attrs:{src:a("o0KO")}})])],1),e._v(" "),s("el-table",{attrs:{data:e.tableData}},[s("el-table-column",{attrs:{width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-checkbox-group",{model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[s("el-checkbox",{attrs:{name:"selected",label:t.row.id},on:{change:function(a){return e.checkedChange(a,t.row)}}},[e._v(" \n          ")])],1)]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"运动名称",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"sportType",label:"运动类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.sportTypeMap[t.row.sportType]))]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"sportSort",label:"运动分类",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.sportSortMap[t.row.sportSort]))]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"strengthDegree",label:"运动强度",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.strengthDegreeMap[t.row.strengthDegree]))]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"met",label:"代谢当量",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"desease",label:"运动禁忌疾病",align:"center","min-width":"120"}})],1),e._v(" "),s("el-pagination",{attrs:{background:"",layout:"prev,pager,next,jumper,total,sizes","page-sizes":[5],"pager-count":5,total:e.total,"page-size":e.pageSize,"current-page":e.currentPage},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),e._v(" "),s("div",{staticClass:"buttons"},[s("el-button",{attrs:{plain:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定")])],1)],1)}),[],!1,null,"bea75702",null).exports},data:()=>({activeIndex:"1",form:{foodPrecautions:"",sportLibraryDTOList:[],sportPrecautions:"",preface:"",commentContent:"",commentName:""},popoverStatus:!1,selectTemplate:[]}),computed:{templateStr(){return this.selectTemplate.map(e=>e.name).join(",")}},mounted(){this.getCommentDetail()},methods:{getCommentDetail(){this.$api.accessReport.getComment(this.id).then(({data:e})=>{this.form=e.data})},handlePopoverClose(){this.popoverStatus=!1,this.$refs.sportPopover.doClose()},handleSportSelectChange(e){this.selectTemplate=e,this.handlePopoverClose()},addSportTemplate(){this.selectTemplate&&this.selectTemplate.length>0&&(this.form.sportLibraryDTOList=this.selectTemplate,this.selectTemplate=[])},submit(){const{commentName:e,commentContent:t,foodPrecautions:a,sportPrecautions:s,preface:l}=this.form,o=[];this.form.sportLibraryDTOList.forEach(e=>{o.push(e.id)});const n={commentName:e,commentContent:t,foodPrecautions:a,sportPrecautions:s,preface:l,reportId:this.id,sportItem:o.join()};this.$api.accessReport.comment(n).then(()=>{this.$message.success("操作成功"),this.$emit("close")})}}}),g=(a("itNb"),Object(i.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"comment-dialog",attrs:{"modal-append-to-body":!1,title:"点评",top:"5vh",visible:!0,width:"900px","before-close":function(){return e.$emit("close")}}},[a("el-form",{ref:"form",staticClass:"comment-form",attrs:{model:e.form,"label-width":"70px","label-suffix":"："}},[a("el-tabs",{model:{value:e.activeIndex,callback:function(t){e.activeIndex=t},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"饮食注意事项",name:"1"}},[a("el-form-item",{attrs:{label:"注意事项",prop:"foodPrecautions"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"400",rows:12,"show-word-limit":""},model:{value:e.form.foodPrecautions,callback:function(t){e.$set(e.form,"foodPrecautions",t)},expression:"form.foodPrecautions"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"推荐运动",name:"2"}},[a("el-form-item",{attrs:{label:"模板名称",prop:"sportLibraryDTOList"}},[a("div",{staticClass:"template-add-wrapper"},[a("el-popover",{ref:"sportPopover",attrs:{placement:"bottom-end",width:"650",trigger:"click"},on:{show:function(t){e.popoverStatus=!0},hide:e.handlePopoverClose}},[e.popoverStatus?a("sport-template",{on:{change:e.handleSportSelectChange,cancel:e.handlePopoverClose}}):e._e(),e._v(" "),a("el-input",{staticClass:"select-template-trigger",attrs:{slot:"reference",placeholder:"请选择"},slot:"reference",model:{value:e.templateStr,callback:function(t){e.templateStr=t},expression:"templateStr"}},[a("i",{class:"el-icon-caret-"+(e.popoverStatus?"top":"bottom"),attrs:{slot:"suffix"},slot:"suffix"})])],1),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:e.addSportTemplate}},[e._v("添加")])],1)]),e._v(" "),a("el-table",{staticClass:"sport-table",attrs:{data:e.form.sportLibraryDTOList}},[a("el-table-column",{attrs:{label:"运动名称",prop:"name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"运动类型",prop:"sportTypeTxt",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"运动强度",prop:"strengthDegreeTxt",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"代谢当量",prop:"met",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.form.sportLibraryDTOList.splice(t.$index,1)}}},[e._v("\n                  删除\n                ")])]}}])})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"运动注意事项",name:"3"}},[a("el-form-item",{attrs:{label:"注意事项",prop:"sportPrecautions"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"400",rows:12,"show-word-limit":""},model:{value:e.form.sportPrecautions,callback:function(t){e.$set(e.form,"sportPrecautions",t)},expression:"form.sportPrecautions"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"前言",name:"4"}},[a("el-form-item",{attrs:{label:"前言内容",prop:"preface"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"1000",rows:12,"show-word-limit":""},model:{value:e.form.preface,callback:function(t){e.$set(e.form,"preface",t)},expression:"form.preface"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"专家点评",name:"5"}},[a("el-form-item",{attrs:{label:"专家点评",prop:"commentContent"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"2000",rows:12,"show-word-limit":""},model:{value:e.form.commentContent,callback:function(t){e.$set(e.form,"commentContent",t)},expression:"form.commentContent"}})],1),e._v(" "),a("div",{staticClass:"sign"},[a("span",[e._v("签名：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.commentName,callback:function(t){e.$set(e.form,"commentName",t)},expression:"form.commentName"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",attrs:{size:"small"},on:{click:function(t){return e.$emit("close")}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"sureBtn",attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("确定")])],1)],1)}),[],!1,null,"35643b4d",null).exports),v={name:"MatchException",data:()=>({selectRadio:"",name:"",tableData:[],total:0,currentPage:1,pageSize:5}),props:{exception:{type:Object,required:!0}},mounted(){this.queryList()},methods:{submit(){if(!this.selectRadio)return this.$message.error("请先选择要匹配的异常"),!1;this.$api.accessReport.matchException({reportAbnormalTempId:this.exception.id,organAbnormalId:this.selectRadio}).then(()=>{this.$message.success("操作成功"),this.$emit("close")})},handleCurrentChange(e){this.currentPage=e,this.queryList()},handleSizeChange(e){this.pageSize=e,this.currentPage=1,this.queryList()},search(){this.currentPage=1,this.queryList()},async queryList(){const e=await this.$api.unusualListInterface.listPage({name:this.name,pageNo:this.currentPage,pageSize:this.pageSize}),{data:t}=e.data;t&&(this.tableData=t.list||[],this.total=t.total)}}},f=(a("fV/D"),Object(i.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"match-exception-dialog",attrs:{title:"未匹配异常",visible:!0,width:"670px","before-close":function(){return e.$emit("close")}}},[a("div",{staticClass:"title"},[e._v("异常名称："+e._s(e.exception.abnormalName))]),e._v(" "),a("div",{staticClass:"query"},[a("el-input",{attrs:{placeholder:"输入异常名称搜索"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{staticClass:"search-button",on:{click:e.search}},[a("i",{staticClass:"el-icon-search"})])],1),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.id},model:{value:e.selectRadio,callback:function(t){e.selectRadio=t},expression:"selectRadio"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"abnormalName",label:"异常名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dangerLevel",label:"等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.dangerLevel?a("span",[e._v("一级")]):e._e(),e._v(" "),2===t.row.dangerLevel?a("span",[e._v("二级")]):e._e(),e._v(" "),3===t.row.dangerLevel?a("span",[e._v("三级")]):e._e(),e._v(" "),4===t.row.dangerLevel?a("span",[e._v("四级")]):e._e(),e._v(" "),5===t.row.dangerLevel?a("span",[e._v("五级")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev,pager,next,jumper,total,sizes","page-sizes":[5],"pager-count":5,total:e.total,"page-size":e.pageSize,"current-page":e.currentPage},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),e._v(" "),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{size:"small",plain:""},on:{click:function(t){return e.$emit("close")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("确定")])],1)],1)}),[],!1,null,"4bb24488",null).exports),b=a("+uur"),w=a("kaQf"),A={name:"assessment_report",components:{QueryPage:s.a,Search:l.a,QueryFilter:o.a,OperateButton:n.a,ExceptionExplain:c,Comment:g,Examine:d,MatchException:f,QuestionsOpen:b.a},data(){return{isTrue:!0,tabbor:["生活方式评估","心理评估","中医体质评估"],Tabactive:0,view:1,popoverStatus:!1,popoverRefIndex:"",popoverRow:{},form:{keywords:"",reportNo:"",workUnitName:"",gridId:"",minReportDate:null,maxReportDate:null,minAssessReportDate:null,maxAssessReportDate:null},table:{list:[],pageSize:15,pageNo:1,total:0},clientTypeList:[],multipleSelection:[],expands:[],getRowKeys:e=>e.reportId,expandData:{id:"",pageNo:1,pageSize:15,total:0,list:[]},loading:!1,currentData:{},currentUnMatchData:{},pickerStartTime:{disabledDate:e=>{if(this.form.maxReportDate){const t=new Date(this.form.maxReportDate);return e.getTime()>new Date(t).getTime()-828e5}}},pickerEndTime:{disabledDate:e=>{if(this.form.minReportDate){const t=new Date(this.form.minReportDate);return e.getTime()<new Date(t).getTime()-828e5}}},pickerStartTime1:{disabledDate:e=>{if(this.form.maxAssessReportDate){const t=new Date(this.form.maxAssessReportDate);return e.getTime()>new Date(t).getTime()-828e5}}},pickerEndTime1:{disabledDate:e=>{if(this.form.minAssessReportDate){const t=new Date(this.form.minAssessReportDate);return e.getTime()<new Date(t).getTime()-828e5}}}}},beforeRouteEnter(e,t,a){a(e=>{if(localStorage.getItem("homeSearchData")){const t=JSON.parse(localStorage.getItem("homeSearchData"));e.form.minAssessReportDate=t.startDate,e.form.maxAssessReportDate=t.lastDate,e.form.searchRange=t.searchRange}e.getClientTypeList(),e.queryPageList()})},destroyed(){localStorage.removeItem("homeSearchData")},methods:{upMore(){this.isTrue=!this.isTrue},TabbarBtn(e){this.Tabactive=e,this.$forceUpdate()},popoverStatusShow(e){this.popoverStatus=!0,this.popoverRow=e,this.popoverRefIndex=e.reportId},handlePopoperClose(e){const t="popover-"+this.popoverRefIndex;this.$refs[t].doClose(),this.popoverStatus=!1,this.popoverRow.lifeQuestionDate=e.createTime?e.createTime.split(" ")[0]:"",this.popoverRow.lifeQuestionId=e.id},openPdf(e){window.open(e.assessReportName)},handleMatch(e){this.view=4,this.currentUnMatchData=e},handleViewException(e){this.view=2,this.currentData=e},handleComment(e){this.view=3,this.currentData=e},handleExamine(){},handleClose(){this.view=1,this.queryPageList()},reset(){this.form.keywords="",this.form.workUnitName="",this.form.gridId="",this.form.minReportDate=null,this.form.maxReportDate=null,this.form.minAssessReportDate=null,this.form.maxAssessReportDate=null,this.table.pageNo=1,this.queryPageList()},onSearch(){if(!this.checkRangeDate())return!1;this.table.pageNo=1,this.queryPageList()},async queryPageList(){if(!this.checkRangeDate())return!1;const e=Object.assign({},this.form);e.minAssessReportDate&&(e.minAssessReportDate=e.minAssessReportDate+" 00:00:00"),e.maxAssessReportDate&&(e.maxAssessReportDate=e.maxAssessReportDate+" 23:59:59"),await this.$api.accessReport.fetchUserList({...e,pageNo:this.table.pageNo,pageSize:this.table.pageSize}).then(({data:e})=>{this.table.total=e.data.total,this.table.list=e.data.data})},getClientTypeList(){this.$api.medicalHistoryInterface.clientTypeList({pageNo:1,pageSize:w.a}).then(e=>{this.clientTypeList=e.data.data.data})},checkRangeDate(){return this.form.minReportDate&&this.form.maxReportDate&&new Date(this.form.minReportDate)>new Date(this.form.maxReportDate)?(this.$message.error("体检日期开始时间不可大于结束时间"),!1):!(this.form.minAssessReportDate&&this.form.maxAssessReportDate&&new Date(this.form.minAssessReportDate)>new Date(this.form.maxAssessReportDate))||(this.$message.error("生成日期开始时间不可大于结束时间"),!1)},handleSelectionChange(e){this.multipleSelection=e},handleExpandChange(e,t){this.expands=t},expandsHandle(e){if(this.loading)return!1;this.expands.forEach(t=>{t.id!==e.id&&this.$refs.table.toggleRowExpansion(t)}),this.expands.includes(e)?this.$refs.table.toggleRowExpansion(e):(this.expandData.id=e.reportId,this.expandData.pageNo=1,this.getUnMatchExceptionList().then(()=>{this.$refs.table.toggleRowExpansion(e)}))},getUnMatchExceptionList(){return this.expandData.list=[],this.loading=!0,this.$api.accessReport.getUnMatchExceptionList(this.expandData.id).then(({data:e})=>{this.expandData.list=e.data,this.loading=!1,this.tableData=[...this.tableData]}).catch(()=>{this.loading=!1})},handlePageChange(e){this.table.pageNo=e,this.queryPageList()},handleSizeChange(e){this.table.pageSize=e,this.queryPageList()},generateReport(){if(0===this.multipleSelection.length)return this.$message.warning("请先选择数据"),!1;const e=this.multipleSelection.map(({clientId:e,lifeQuestionId:t,reportId:a})=>({clientId:e,lifeQuestionId:t,reportInfoId:a}));this.$api.accessReport.generateReport(e).then(()=>{this.$message.success("操作成功"),this.queryPageList()})}}},_=(a("Ot0U"),Object(i.a)(A,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"extimate-report"},[2===e.view?s("exception-explain",{attrs:{id:e.currentData.reportId},on:{close:e.handleClose}}):4===e.view?s("match-exception",{attrs:{exception:e.currentUnMatchData},on:{close:e.handleClose}}):3===e.view?s("comment",{attrs:{id:e.currentData.reportId},on:{close:e.handleClose}}):5===e.view?s("examine",{attrs:{id:e.currentData},on:{close:e.handleClose}}):s("div",[s("div",{staticClass:"TabBars"},[s("div",e._l(e.tabbor,(function(t,a){return s("span",{key:a,staticClass:"fristName",class:e.Tabactive===a?"TabBarsName":"TabBarsNames",on:{click:function(t){return e.TabbarBtn(a)}}},[e._v("\n      "+e._s(t)+"\n    ")])})),0)]),e._v(" "),s("div",{staticClass:"divTop"},[s("div",{staticClass:"divTitle"},[s("span",[s("img",{attrs:{src:a("OygJ"),alt:""}})]),e._v("\n          "+e._s("0"==e.Tabactive?"生活方式评估":"1"==e.Tabactive?"心理评估":"中医体质评估"))]),e._v(" "),s("div",{staticClass:"searchCondition"},[s("div",{staticClass:"searchLeft"},[s("div",{staticClass:"searchInputFormItem"},[s("el-input",{attrs:{placeholder:"姓名/手机号/单位/体检编号"},model:{value:e.form.keywords,callback:function(t){e.$set(e.form,"keywords",t)},expression:"form.keywords"}}),e._v(" "),s("span",{staticClass:"searchBtnImgSpan",on:{click:e.onSearch}},[s("img",{staticClass:"searchBtnImg",attrs:{src:a("RQrH")}})])],1),e._v(" "),s("div",[s("span",[e._v("客户性别：")]),e._v(" "),s("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[s("el-option",{key:"1",attrs:{label:"男",value:"1"}}),e._v(" "),s("el-option",{key:"2",attrs:{label:"女",value:"2"}})],1)],1),e._v(" "),s("div",[s("span",[e._v("人员类别：")]),e._v(" "),s("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择"},model:{value:e.form.gridId,callback:function(t){e.$set(e.form,"gridId",t)},expression:"form.gridId"}},e._l(e.clientTypeList,(function(e,t){return s("el-option",{key:t,attrs:{label:e.gridName,value:e.id}})})),1)],1),e._v(" "),0==e.Tabactive?s("div",[s("span",[e._v("审核状态：")]),e._v(" "),s("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择"},model:{value:e.form.doctorId,callback:function(t){e.$set(e.form,"doctorId",t)},expression:"form.doctorId"}},e._l(e.doctorList,(function(e,t){return s("el-option",{key:t,attrs:{label:e.realName,value:e.id}})})),1)],1):1==e.Tabactive?s("div",[s("span",[e._v("总分数段：")]),e._v(" "),s("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择"},model:{value:e.form.doctorId,callback:function(t){e.$set(e.form,"doctorId",t)},expression:"form.doctorId"}},e._l(e.doctorList,(function(e,t){return s("el-option",{key:t,attrs:{label:e.realName,value:e.id}})})),1)],1):s("div",[s("span",[e._v("问卷来源：")]),e._v(" "),s("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择"},model:{value:e.form.doctorId,callback:function(t){e.$set(e.form,"doctorId",t)},expression:"form.doctorId"}},e._l(e.doctorList,(function(e,t){return s("el-option",{key:t,attrs:{label:e.realName,value:e.id}})})),1)],1)]),e._v(" "),s("div",{staticClass:"searchRight"},[s("div",{staticClass:"buttones"},[s("div",{staticClass:"searchFor",on:{click:e.onSearch}},[s("img",{attrs:{src:a("nc5h"),alt:""}})]),e._v(" "),s("div",{staticClass:"resetAll"},[e._v("重置")]),e._v(" "),e.isTrue?s("div",{staticClass:"more",on:{click:e.upMore}},[s("span",[e._v(">")]),e._v("\n          展开更多")]):s("div",{staticClass:"more noMore",on:{click:e.upMore}},[s("span",[e._v(">")]),e._v("收起筛选")])])])])]),e._v(" "),e.isTrue?e._e():s("div",{staticClass:"searchCondition",staticStyle:{width:"80%"}},[s("div",{staticClass:"searchLeft",staticStyle:{"padding-left":"5px"}},[s("div",[s("span",[e._v("填写日期：")]),e._v(" "),s("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","picker-options":e.pickerStartTime,placeholder:"选择开始时间"},model:{value:e.form.minReportDate,callback:function(t){e.$set(e.form,"minReportDate",t)},expression:"form.minReportDate"}}),e._v(" "),s("span",{staticClass:"timing"},[e._v("-")]),e._v(" "),s("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","picker-options":e.pickerEndTime,placeholder:"选择结束时间"},model:{value:e.form.maxReportDate,callback:function(t){e.$set(e.form,"maxReportDate",t)},expression:"form.maxReportDate"}})],1)])]),e._v(" "),s("div",{staticClass:"topbottomborder"}),e._v(" "),s("div",{staticClass:"divRightTitleDiv"},[0==e.Tabactive?s("div",[e.getAccess("customer_pool_distribute")?s("el-button",{staticClass:"btn-new btnDel",staticStyle:{margin:"16px 0"},attrs:{size:"small"},on:{click:e.handleExamine}},[s("img",{attrs:{src:a("JtFX")}}),e._v("审核")]):e._e(),e._v(" "),e.getAccess("customer_pool_distribute")?s("el-button",{staticClass:"btn-new btnDel",staticStyle:{width:"120px",margin:"16px 0"},attrs:{size:"small"},on:{click:e.generateReport}},[s("img",{attrs:{src:a("BVtV")}}),e._v("生成报告")]):e._e()],1):e._e(),e._v(" "),1==e.Tabactive||2==e.Tabactive?s("el-button",{staticClass:"btn-new btnDel",staticStyle:{width:"120px",margin:"16px 0"},attrs:{size:"small"},on:{click:e.generateReport}},[s("img",{attrs:{src:a("BVtV")}}),e._v("生成报告")]):e._e()],1),e._v(" "),s("div",{staticClass:"right"},[1==e.Tabactive?s("div",[s("el-table",{ref:"table",staticClass:"has-expand-table",staticStyle:{width:"100%"},attrs:{"row-key":e.getRowKeys,align:"center",data:e.table.list},on:{"selection-change":e.handleSelectionChange,"expand-change":e.handleExpandChange}},[s("el-table-column",{attrs:{type:"expand",width:"1","class-name":"hide-expand-column"}},[s("el-table",{staticClass:"expand-table",attrs:{data:e.expandData.list}},[s("el-table-column",{attrs:{label:"异常名称",prop:"abnormalName",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",prop:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text"},on:{click:function(a){return e.$router.push("/basic_data/unusual_list/create?name="+t.row.abnormalName)}}},[e._v("\n                      新增\n                    ")]),e._v(" "),s("span",[e._v("|")]),e._v(" "),s("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleMatch(t.row)}}},[e._v("匹配")])]}}],null,!1,870309017)})],1)],1),e._v(" "),s("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),s("el-table-column",{attrs:{label:"客户编号",prop:"reportNo",width:"90","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"姓名",prop:"clientName",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticClass:"clientName",on:{click:function(a){return e.commonHref.toPersonalHealth(t.row.clientId,e.$router)}}},[e._v("\n                  "+e._s(t.row.clientName||"-")+"\n                ")])]}}],null,!1,1791406204)}),e._v(" "),s("el-table-column",{attrs:{label:"性别",prop:"genderTxt",width:"55","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"年龄",prop:"age",width:"55","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"人员类别",prop:"gradeName","min-width":"80","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"单位",prop:"workUnitName","min-width":"80","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"填写日期",prop:"reportDate","min-width":"90","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"总分",prop:"reportDate","min-width":"90","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"问卷来源",prop:"reportDate","min-width":"90","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.openPdf(t.row)}}},[e._v("查看")])]}}],null,!1,1205927925)})],1),e._v(" "),s("div",{staticStyle:{"text-align":"right"}},[s("el-pagination",{staticStyle:{"margin-top":"15px"},attrs:{background:"","page-sizes":[15],"current-page":e.table.pageNo,"page-size":e.table.pageSize,layout:"prev, pager, next, jumper, total, sizes",total:e.table.total},on:{"current-change":e.handlePageChange,"size-change":e.handleSizeChange}})],1)],1):e._e(),e._v(" "),0==e.Tabactive?s("div",[s("el-table",{ref:"table",staticClass:"has-expand-table",staticStyle:{width:"100%"},attrs:{"row-key":e.getRowKeys,align:"center",data:e.table.list},on:{"selection-change":e.handleSelectionChange,"expand-change":e.handleExpandChange}},[s("el-table-column",{attrs:{type:"expand",width:"1","class-name":"hide-expand-column"}},[s("el-table",{staticClass:"expand-table",attrs:{data:e.expandData.list}},[s("el-table-column",{attrs:{label:"异常名称",prop:"abnormalName",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",prop:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text"},on:{click:function(a){return e.$router.push("/basic_data/unusual_list/create?name="+t.row.abnormalName)}}},[e._v("\n                      新增\n                    ")]),e._v(" "),s("span",[e._v("|")]),e._v(" "),s("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleMatch(t.row)}}},[e._v("匹配")])]}}],null,!1,870309017)})],1)],1),e._v(" "),s("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),s("el-table-column",{attrs:{label:"体检编号",prop:"reportNo",width:"90","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"姓名",prop:"clientName",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticClass:"clientName",on:{click:function(a){return e.commonHref.toPersonalHealth(t.row.clientId,e.$router)}}},[e._v("\n                  "+e._s(t.row.clientName||"-")+"\n                ")])]}}],null,!1,1791406204)}),e._v(" "),s("el-table-column",{attrs:{label:"性别",prop:"genderTxt",width:"55","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"年龄",prop:"age",width:"55","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"人员类别",prop:"gradeName","min-width":"80","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"企业单位",prop:"workUnitName","min-width":"80","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"体检日期",prop:"reportDate","min-width":"90","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"生活方式问卷",prop:"lifeQuestionDate","min-width":"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.lifeQuestionDate?s("el-popover",{ref:"popover-"+t.row.reportId,attrs:{placement:"bottom-start",width:"570",trigger:"click"},on:{show:function(a){return e.popoverStatusShow(t.row)},hide:function(t){e.popoverStatus=!1}}},[e.popoverStatus&&e.popoverRefIndex===t.row.reportId?s("questions-open",{attrs:{clientId:t.row.clientId},on:{change:e.handlePopoperClose}}):e._e(),e._v(" "),s("el-input",{staticClass:"select-user-trigger disabled",attrs:{slot:"reference",disabled:"",placeholder:"请选择"},slot:"reference",model:{value:t.row.lifeQuestionDate,callback:function(a){e.$set(t.row,"lifeQuestionDate",a)},expression:"scope.row.lifeQuestionDate"}},[s("i",{class:"el-icon-arrow-"+(e.popoverStatus?"up":"down"),attrs:{slot:"suffix"},slot:"suffix"})])],1):s("span",[e._v("无")])]}}],null,!1,4033894193)}),e._v(" "),s("el-table-column",{attrs:{label:"异常",width:"60","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.reportAbnormalTotal>0?s("img",{staticClass:"exception-explain-img",attrs:{src:a("CG6z")},on:{click:function(a){return e.handleViewException(t.row)}}}):e._e()]}}],null,!1,4177918288)}),e._v(" "),s("el-table-column",{attrs:{label:"未匹配异常",prop:"notMatchAbnromalTotal",align:"center",width:"90","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.notMatchAbnromalTotal>0?s("el-button",{attrs:{type:"text"},on:{click:function(a){return e.expandsHandle(t.row)}}},[e._v("\n                  "+e._s(t.row.notMatchAbnromalTotal)+"\n                ")]):e._e()]}}],null,!1,1654023890)}),e._v(" "),s("el-table-column",{attrs:{label:"报告状态",prop:"assessReportStateTxt",align:"center","min-width":"90","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"点评",align:"center",width:"55","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e.getAccess("assessment_report_comment")?s("img",{staticClass:"comment-img",attrs:{src:a("tGwj")},on:{click:function(a){return e.handleComment(t.row)}}}):e._e()]}}],null,!1,2103730329)}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.openPdf(t.row)}}},[e._v("查看")])]}}],null,!1,1205927925)})],1),e._v(" "),s("div",{staticStyle:{"text-align":"right"}},[s("el-pagination",{staticStyle:{"margin-top":"15px"},attrs:{background:"","page-sizes":[15],"current-page":e.table.pageNo,"page-size":e.table.pageSize,layout:"prev, pager, next, jumper, total, sizes",total:e.table.total},on:{"current-change":e.handlePageChange,"size-change":e.handleSizeChange}})],1)],1):e._e(),e._v(" "),2==e.Tabactive?s("div",[s("el-table",{ref:"table",staticClass:"has-expand-table",staticStyle:{width:"100%"},attrs:{"row-key":e.getRowKeys,align:"center",data:e.table.list},on:{"selection-change":e.handleSelectionChange,"expand-change":e.handleExpandChange}},[s("el-table-column",{attrs:{type:"expand",width:"1","class-name":"hide-expand-column"}},[s("el-table",{staticClass:"expand-table",attrs:{data:e.expandData.list}},[s("el-table-column",{attrs:{label:"异常名称",prop:"abnormalName",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",prop:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text"},on:{click:function(a){return e.$router.push("/basic_data/unusual_list/create?name="+t.row.abnormalName)}}},[e._v("\n                      新增\n                    ")]),e._v(" "),s("span",[e._v("|")]),e._v(" "),s("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleMatch(t.row)}}},[e._v("匹配")])]}}],null,!1,870309017)})],1)],1),e._v(" "),s("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),s("el-table-column",{attrs:{label:"体检编号",prop:"reportNo","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"姓名",prop:"clientName",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticClass:"clientName",on:{click:function(a){return e.commonHref.toPersonalHealth(t.row.clientId,e.$router)}}},[e._v("\n                  "+e._s(t.row.clientName||"-")+"\n                ")])]}}],null,!1,1791406204)}),e._v(" "),s("el-table-column",{attrs:{label:"性别",prop:"genderTxt","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"年龄",prop:"age","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"人员类别",prop:"gradeName","min-width":"80","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"单位",prop:"workUnitName","min-width":"80","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"体检日期",prop:"reportDate","min-width":"90","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.openPdf(t.row)}}},[e._v("查看")])]}}],null,!1,1205927925)})],1),e._v(" "),s("div",{staticStyle:{"text-align":"right"}},[s("el-pagination",{staticStyle:{"margin-top":"15px"},attrs:{background:"","page-sizes":[15],"current-page":e.table.pageNo,"page-size":e.table.pageSize,layout:"prev, pager, next, jumper, total, sizes",total:e.table.total},on:{"current-change":e.handlePageChange,"size-change":e.handleSizeChange}})],1)],1):e._e()])])],1)}),[],!1,null,"4241d800",null));t.default=_.exports},fGBb:function(e,t,a){"use strict";a("gHQw")},"fV/D":function(e,t,a){"use strict";a("GmEb")},gHQw:function(e,t,a){},itNb:function(e,t,a){"use strict";a("LvwS")},kAwU:function(e,t,a){"use strict";a("L2oC")},lhMe:function(e,t,a){"use strict";a("mM79")},mM79:function(e,t,a){}}]);