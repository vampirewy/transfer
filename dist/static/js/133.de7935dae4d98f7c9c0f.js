(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{"+vy2":function(t,e,a){"use strict";a.r(e);var s={name:"medication_history_edit",data:()=>({dataSource:{id:"",drugsName:"",mainIndication:"",specification:"",countDay:"",startDate:"",endDate:"",doseOne:"",ingrenient:"",resoures:"",result:""},rules:{drugsName:[{required:!0,message:"药品名称不能为空"}],startDate:[{required:!0,message:"开始时间不能为空"}],endDate:[{required:!0,message:"结束时间不能为空"}],result:[{required:!0,message:"当前状态不能为空"}]},resultList:[],resultOptions:[{value:1,label:"未指定"},{value:2,label:"治疗中"},{value:3,label:"转诊"},{value:4,label:"转为慢病"},{value:5,label:"痊愈"},{value:6,label:"其他"}]}),mounted(){},methods:{async getResultList(){const t=await this.$api.medication.getResultList(),{data:e}=t;this.resultList=e.data,console.log(this.resultList,"resultListresultList")},submit(){this.$refs.form.validate(t=>{t&&this.$api.medication.update(this.dataSource).then(({data:t})=>{200===t.code&&this.$router.go(-1)})})},fetch(t){this.$api.medication.getDetail(t).then(({data:t})=>{t&&(this.dataSource={...this.dataSource,...t.data})})},goBack(){this.$router.go(-1)}},beforeRouteEnter(t,e,a){a(e=>{t.params.id&&e.fetch(t.params.id)})}},l=(a("u91F"),a("KHd+")),r=Object(l.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"medication-history-edit"},[a("el-form",{ref:"form",staticClass:"form-inline",attrs:{inline:!1,rules:t.rules,model:t.dataSource,"label-suffix":"：","label-width":"83px"}},[a("div",{staticClass:"form-title"},[a("div",{staticClass:"lines"}),t._v(" "),a("div",{staticClass:"titless"},[t._v("编辑用药记录")])]),t._v(" "),a("div",{staticClass:"medicate-info mt20"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药品名称",prop:"drugsName"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",maxlength:100},model:{value:t.dataSource.drugsName,callback:function(e){t.$set(t.dataSource,"drugsName",e)},expression:"dataSource.drugsName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"针对问题",prop:"mainIndication"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",maxlength:30},model:{value:t.dataSource.mainIndication,callback:function(e){t.$set(t.dataSource,"mainIndication",e)},expression:"dataSource.mainIndication"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"规格",prop:"specification"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",maxlength:30},model:{value:t.dataSource.specification,callback:function(e){t.$set(t.dataSource,"specification",e)},expression:"dataSource.specification"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"每日次数",prop:"countDay"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",maxlength:30,number:""},model:{value:t.dataSource.countDay,callback:function(e){t.$set(t.dataSource,"countDay",e)},expression:"dataSource.countDay"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开始时间",prop:"startDate"}},[a("el-date-picker",{staticClass:"start-date",staticStyle:{width:"200px"},attrs:{type:"date","max-date":t.dataSource.endDate,"value-format":"yyyy-MM-dd",placeholder:"请选择开始用药时间"},model:{value:t.dataSource.startDate,callback:function(e){t.$set(t.dataSource,"startDate",e)},expression:"dataSource.startDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"结束时间",prop:"endDate"}},[a("el-date-picker",{staticClass:"end-date",staticStyle:{width:"200px"},attrs:{type:"date","min-date":t.dataSource.startDate,"value-format":"yyyy-MM-dd",placeholder:"请选择结束用药时间"},model:{value:t.dataSource.endDate,callback:function(e){t.$set(t.dataSource,"endDate",e)},expression:"dataSource.endDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"每日剂量",prop:"doseOne"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",maxlength:30},model:{value:t.dataSource.doseOne,callback:function(e){t.$set(t.dataSource,"doseOne",e)},expression:"dataSource.doseOne"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"当前状态",prop:"result"}},[a("el-select",{staticStyle:{width:"205px"},attrs:{placeholder:"请选择当前状态"},model:{value:t.dataSource.result,callback:function(e){t.$set(t.dataSource,"result",e)},expression:"dataSource.result"}},t._l(t.resultOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1),t._v(" "),a("el-row",{staticClass:"compose"},[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"主要成分",prop:"ingrenient"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入",maxlength:300,"show-word-limit":""},model:{value:t.dataSource.ingrenient,callback:function(e){t.$set(t.dataSource,"ingrenient",e)},expression:"dataSource.ingrenient"}})],1)],1)],1),t._v(" "),a("el-row",{staticClass:"situation"},[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"用药情况",prop:"resoures"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入",maxlength:300,"show-word-limit":""},model:{value:t.dataSource.resoures,callback:function(e){t.$set(t.dataSource,"resoures",e)},expression:"dataSource.resoures"}})],1)],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),t._v(" "),a("el-button",{staticClass:"sureBtn",attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")])],1)],1)])],1)}),[],!1,null,"29e22239",null);e.default=r.exports},u91F:function(t,e,a){"use strict";a("xreo")},xreo:function(t,e,a){}}]);